Memory mapped successfully at: anyopaque@19435a30000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13993701090495828506), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.8e1,1.6e1] to [1.3e2,-4.0e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be33f8, alignment: 0
Returning buffer pointer: 0x19484be33f8 (aligned: true)
Submitting readback 374 at frame 392 (will be ready at frame 395)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.2ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 393
Processing readbacks: 3 pending, completed_frame: 393, frames_in_flight: 3
Checking readback 372: submitted frame 391, current frame 393, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 393
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 393, frames_in_flight: 3
Checking readback 372: submitted frame 391, current frame 393, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 394
Processing readbacks: 3 pending, completed_frame: 394, frames_in_flight: 3
Checking readback 372: submitted frame 391, current frame 394, 3 frames elapsed (need 3)
Readback 372 ready (submitted frame 391, current frame 394)
Checking readback 373: submitted frame 391, current frame 394, 3 frames elapsed (need 3)
Readback 373 ready (submitted frame 391, current frame 394)
Checking readback 374: submitted frame 392, current frame 394, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 385/512 completed
Minichunk 386/512 completed
Minichunk 387/512 completed
Minichunk 388/512 completed
Minichunk 389/512 completed
Minichunk 390/512 completed
Minichunk 391/512 completed
Minichunk 392/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 393/512 completed
Minichunk 394/512 completed
Minichunk 395/512 completed
Minichunk 396/512 completed
Minichunk 397/512 completed
Minichunk 398/512 completed
Minichunk 399/512 completed
Minichunk 400/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 394
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 394, frames_in_flight: 3
Checking readback 374: submitted frame 392, current frame 394, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [64, -56, 16] to [128, -48, 24]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e78, alignment: 0
Returning buffer pointer: 0x19484be2e78 (aligned: true)
Created staging buffer at: 0x19484be2e78
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16341936870030053919), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3378, alignment: 0
Returning buffer pointer: 0x19484be3378 (aligned: true)
Created staging buffer at: 0x19484be3378
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a41000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2304909523841716769), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3078, alignment: 0
Returning buffer pointer: 0x19484be3078 (aligned: true)
Created staging buffer at: 0x19484be3078
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a42000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15904071757431050787), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d38, alignment: 0
Returning buffer pointer: 0x19484be2d38 (aligned: true)
Created staging buffer at: 0x19484be2d38
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a33000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15424779245720703525), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-5.6e1,1.6e1] to [1.3e2,-4.8e1,2.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2db8, alignment: 0
Returning buffer pointer: 0x19484be2db8 (aligned: true)
Submitting readback 375 at frame 394 (will be ready at frame 397)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 1
Overall bounds: [64, -16, 8] to [128, -8, 16]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ef8, alignment: 0
Returning buffer pointer: 0x19484be2ef8 (aligned: true)
Created staging buffer at: 0x19484be2ef8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a25000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(974936960348983850), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30f8, alignment: 0
Returning buffer pointer: 0x19484be30f8 (aligned: true)
Created staging buffer at: 0x19484be30f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a23000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12190920934873371180), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1d78, alignment: 0
Returning buffer pointer: 0x194846e1d78 (aligned: true)
Created staging buffer at: 0x194846e1d78
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a26000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13895126574530826798), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e20b8, alignment: 0
Returning buffer pointer: 0x194846e20b8 (aligned: true)
Created staging buffer at: 0x194846e20b8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4b000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2865386675612160560), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.6e1,8.0e0] to [1.3e2,-8.0e0,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e20f8, alignment: 0
Returning buffer pointer: 0x194846e20f8 (aligned: true)
Submitting readback 376 at frame 394 (will be ready at frame 397)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 395
Processing readbacks: 3 pending, completed_frame: 395, frames_in_flight: 3
Checking readback 374: submitted frame 392, current frame 395, 3 frames elapsed (need 3)
Readback 374 ready (submitted frame 392, current frame 395)
Checking readback 375: submitted frame 394, current frame 395, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 401/512 completed
Minichunk 402/512 completed
Minichunk 403/512 completed
Minichunk 404/512 completed
Minichunk 405/512 completed
Minichunk 406/512 completed
Minichunk 407/512 completed
Minichunk 408/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 395
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 395, frames_in_flight: 3
Checking readback 375: submitted frame 394, current frame 395, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 11 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [64, -64, 16] to [128, -56, 24]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e2138, alignment: 0
Returning buffer pointer: 0x194846e2138 (aligned: true)
Created staging buffer at: 0x194846e2138
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13824717148422935093), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1ab8, alignment: 0
Returning buffer pointer: 0x194846e1ab8 (aligned: true)
Created staging buffer at: 0x194846e1ab8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a54000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3697737868559520311), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59e8, alignment: 0
Returning buffer pointer: 0x19484be59e8 (aligned: true)
Created staging buffer at: 0x19484be59e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a22000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3776624529317564985), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5768, alignment: 0
Returning buffer pointer: 0x19484be5768 (aligned: true)
Created staging buffer at: 0x19484be5768
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5c000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9621806463458480699), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,1.6e1] to [1.3e2,-5.6e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5a28, alignment: 0
Returning buffer pointer: 0x19484be5a28 (aligned: true)
Submitting readback 377 at frame 395 (will be ready at frame 398)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.9ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 396
Processing readbacks: 3 pending, completed_frame: 396, frames_in_flight: 3
Checking readback 375: submitted frame 394, current frame 396, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 396
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 396, frames_in_flight: 3
Checking readback 375: submitted frame 394, current frame 396, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 397
Processing readbacks: 3 pending, completed_frame: 397, frames_in_flight: 3
Checking readback 375: submitted frame 394, current frame 397, 3 frames elapsed (need 3)
Readback 375 ready (submitted frame 394, current frame 397)
Checking readback 376: submitted frame 394, current frame 397, 3 frames elapsed (need 3)
Readback 376 ready (submitted frame 394, current frame 397)
Checking readback 377: submitted frame 395, current frame 397, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 409/512 completed
Minichunk 410/512 completed
Minichunk 411/512 completed
Minichunk 412/512 completed
Minichunk 413/512 completed
Minichunk 414/512 completed
Minichunk 415/512 completed
Minichunk 416/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 417/512 completed
Minichunk 418/512 completed
Minichunk 419/512 completed
Minichunk 420/512 completed
Minichunk 421/512 completed
Minichunk 422/512 completed
Minichunk 423/512 completed
Minichunk 424/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 397
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 397, frames_in_flight: 3
Checking readback 377: submitted frame 395, current frame 397, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [64, -24, 8] to [128, -16, 16]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57a8, alignment: 0
Returning buffer pointer: 0x19484be57a8 (aligned: true)
Created staging buffer at: 0x19484be57a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b12000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3246836946101604928), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57e8, alignment: 0
Returning buffer pointer: 0x19484be57e8 (aligned: true)
Created staging buffer at: 0x19484be57e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a13000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4824752680192709186), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5be8, alignment: 0
Returning buffer pointer: 0x19484be5be8 (aligned: true)
Created staging buffer at: 0x19484be5be8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a38000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10962448687787151940), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a68, alignment: 0
Returning buffer pointer: 0x19484be5a68 (aligned: true)
Created staging buffer at: 0x19484be5a68
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a19000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1390436906927395398), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-2.4e1,8.0e0] to [1.3e2,-1.6e1,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5ae8, alignment: 0
Returning buffer pointer: 0x19484be5ae8 (aligned: true)
Submitting readback 378 at frame 397 (will be ready at frame 400)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 1
Overall bounds: [64, -32, 8] to [128, -24, 16]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c68, alignment: 0
Returning buffer pointer: 0x19484be5c68 (aligned: true)
Created staging buffer at: 0x19484be5c68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a43000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6013279669841826379), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d28, alignment: 0
Returning buffer pointer: 0x19484be5d28 (aligned: true)
Created staging buffer at: 0x19484be5d28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6218054914422084173), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3ae68, alignment: 0
Returning buffer pointer: 0x19484d3ae68 (aligned: true)
Created staging buffer at: 0x19484d3ae68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(424580813112218191), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b128, alignment: 0
Returning buffer pointer: 0x19484d3b128 (aligned: true)
Created staging buffer at: 0x19484d3b128
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4d000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7863245366970290769), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-3.2e1,8.0e0] to [1.3e2,-2.4e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3aea8, alignment: 0
Returning buffer pointer: 0x19484d3aea8 (aligned: true)
Submitting readback 379 at frame 397 (will be ready at frame 400)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.1ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 398
Processing readbacks: 3 pending, completed_frame: 398, frames_in_flight: 3
Checking readback 377: submitted frame 395, current frame 398, 3 frames elapsed (need 3)
Readback 377 ready (submitted frame 395, current frame 398)
Checking readback 378: submitted frame 397, current frame 398, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 425/512 completed
Minichunk 426/512 completed
Minichunk 427/512 completed
Minichunk 428/512 completed
Minichunk 429/512 completed
Minichunk 430/512 completed
Minichunk 431/512 completed
Minichunk 432/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 398
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 398, frames_in_flight: 3
Checking readback 378: submitted frame 397, current frame 398, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 8 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [64, -40, 8] to [128, -32, 16]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aee8, alignment: 0
Returning buffer pointer: 0x19484d3aee8 (aligned: true)
Created staging buffer at: 0x19484d3aee8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4942210208853135958), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ba8, alignment: 0
Returning buffer pointer: 0x19484be5ba8 (aligned: true)
Created staging buffer at: 0x19484be5ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b18000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8502809290615034456), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c28, alignment: 0
Returning buffer pointer: 0x19484be5c28 (aligned: true)
Created staging buffer at: 0x19484be5c28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a08000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8316563015986057818), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59a8, alignment: 0
Returning buffer pointer: 0x19484be59a8 (aligned: true)
Created staging buffer at: 0x19484be59a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a36000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8733473635982905948), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.0e1,8.0e0] to [1.3e2,-3.2e1,1.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5ca8, alignment: 0
Returning buffer pointer: 0x19484be5ca8 (aligned: true)
Submitting readback 380 at frame 398 (will be ready at frame 401)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.6ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 9)
DeferredReadbackManager: advanced to frame 399
Processing readbacks: 3 pending, completed_frame: 399, frames_in_flight: 3
Checking readback 378: submitted frame 397, current frame 399, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 399
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 399, frames_in_flight: 3
Checking readback 378: submitted frame 397, current frame 399, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.8ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 400
Processing readbacks: 3 pending, completed_frame: 400, frames_in_flight: 3
Checking readback 378: submitted frame 397, current frame 400, 3 frames elapsed (need 3)
Readback 378 ready (submitted frame 397, current frame 400)
Checking readback 379: submitted frame 397, current frame 400, 3 frames elapsed (need 3)
Readback 379 ready (submitted frame 397, current frame 400)
Checking readback 380: submitted frame 398, current frame 400, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 433/512 completed
Minichunk 434/512 completed
Minichunk 435/512 completed
Minichunk 436/512 completed
Minichunk 437/512 completed
Minichunk 438/512 completed
Minichunk 439/512 completed
Minichunk 440/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 441/512 completed
Minichunk 442/512 completed
Minichunk 443/512 completed
Minichunk 444/512 completed
Minichunk 445/512 completed
Minichunk 446/512 completed
Minichunk 447/512 completed
Minichunk 448/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 400
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 400, frames_in_flight: 3
Checking readback 380: submitted frame 398, current frame 400, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [64, -48, 8] to [128, -40, 16]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a28, alignment: 0
Returning buffer pointer: 0x19484be5a28 (aligned: true)
Created staging buffer at: 0x19484be5a28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8693193027499332193), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ae8, alignment: 0
Returning buffer pointer: 0x19484be5ae8 (aligned: true)
Created staging buffer at: 0x19484be5ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9352532767281255011), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5de8, alignment: 0
Returning buffer pointer: 0x19484be5de8 (aligned: true)
Created staging buffer at: 0x19484be5de8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a40000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7868229453178999397), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ce8, alignment: 0
Returning buffer pointer: 0x19484be5ce8 (aligned: true)
Created staging buffer at: 0x19484be5ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a39000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5721597926690525799), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.8e1,8.0e0] to [1.3e2,-4.0e1,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5e68, alignment: 0
Returning buffer pointer: 0x19484be5e68 (aligned: true)
Submitting readback 381 at frame 400 (will be ready at frame 403)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 1
Overall bounds: [64, -56, 8] to [128, -48, 16]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5728, alignment: 0
Returning buffer pointer: 0x19484be5728 (aligned: true)
Created staging buffer at: 0x19484be5728
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a53000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10700156890446303852), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31f8, alignment: 0
Returning buffer pointer: 0x19484be31f8 (aligned: true)
Created staging buffer at: 0x19484be31f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b13000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1419949998040158830), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ff8, alignment: 0
Returning buffer pointer: 0x19484be2ff8 (aligned: true)
Created staging buffer at: 0x19484be2ff8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b14000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6416823526979801712), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30b8, alignment: 0
Returning buffer pointer: 0x19484be30b8 (aligned: true)
Created staging buffer at: 0x19484be30b8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3b000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11647189345193955954), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-5.6e1,8.0e0] to [1.3e2,-4.8e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be33f8, alignment: 0
Returning buffer pointer: 0x19484be33f8 (aligned: true)
Submitting readback 382 at frame 400 (will be ready at frame 403)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.9ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 401
Processing readbacks: 3 pending, completed_frame: 401, frames_in_flight: 3
Checking readback 380: submitted frame 398, current frame 401, 3 frames elapsed (need 3)
Readback 380 ready (submitted frame 398, current frame 401)
Checking readback 381: submitted frame 400, current frame 401, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 449/512 completed
Minichunk 450/512 completed
Minichunk 451/512 completed
Minichunk 452/512 completed
Minichunk 453/512 completed
Minichunk 454/512 completed
Minichunk 455/512 completed
Minichunk 456/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 401
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 401, frames_in_flight: 3
Checking readback 381: submitted frame 400, current frame 401, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 5 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [64, -16, 0] to [128, -8, 8]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3178, alignment: 0
Returning buffer pointer: 0x19484be3178 (aligned: true)
Created staging buffer at: 0x19484be3178
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a20000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12186986882273911), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3478, alignment: 0
Returning buffer pointer: 0x19484be3478 (aligned: true)
Created staging buffer at: 0x19484be3478
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a44000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12201159587151221369), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2db8, alignment: 0
Returning buffer pointer: 0x19484be2db8 (aligned: true)
Created staging buffer at: 0x19484be2db8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a34000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5712191604714902139), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419ddc8, alignment: 0
Returning buffer pointer: 0x1948419ddc8 (aligned: true)
Created staging buffer at: 0x1948419ddc8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2a000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(878085379104707197), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.6e1,0.0e0] to [1.3e2,-8.0e0,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419df88, alignment: 0
Returning buffer pointer: 0x1948419df88 (aligned: true)
Submitting readback 383 at frame 401 (will be ready at frame 404)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 13)
DeferredReadbackManager: advanced to frame 402
Processing readbacks: 3 pending, completed_frame: 402, frames_in_flight: 3
Checking readback 381: submitted frame 400, current frame 402, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 402
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 402, frames_in_flight: 3
Checking readback 381: submitted frame 400, current frame 402, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 403
Processing readbacks: 3 pending, completed_frame: 403, frames_in_flight: 3
Checking readback 381: submitted frame 400, current frame 403, 3 frames elapsed (need 3)
Readback 381 ready (submitted frame 400, current frame 403)
Checking readback 382: submitted frame 400, current frame 403, 3 frames elapsed (need 3)
Readback 382 ready (submitted frame 400, current frame 403)
Checking readback 383: submitted frame 401, current frame 403, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 457/512 completed
Minichunk 458/512 completed
Minichunk 459/512 completed
Minichunk 460/512 completed
Minichunk 461/512 completed
Minichunk 462/512 completed
Minichunk 463/512 completed
Minichunk 464/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 465/512 completed
Minichunk 466/512 completed
Minichunk 467/512 completed
Minichunk 468/512 completed
Minichunk 469/512 completed
Minichunk 470/512 completed
Minichunk 471/512 completed
Minichunk 472/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 403
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 403, frames_in_flight: 3
Checking readback 383: submitted frame 401, current frame 403, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [64, -64, 8] to [128, -56, 16]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dcc8, alignment: 0
Returning buffer pointer: 0x1948419dcc8 (aligned: true)
Created staging buffer at: 0x1948419dcc8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a27000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13535341081155080834), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dec8, alignment: 0
Returning buffer pointer: 0x1948419dec8 (aligned: true)
Created staging buffer at: 0x1948419dec8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4534763085436555908), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd88, alignment: 0
Returning buffer pointer: 0x1948419dd88 (aligned: true)
Created staging buffer at: 0x1948419dd88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2414374702479839878), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419de88, alignment: 0
Returning buffer pointer: 0x1948419de88 (aligned: true)
Created staging buffer at: 0x1948419de88
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a37000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13293037305695572616), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,8.0e0] to [1.3e2,-5.6e1,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419df08, alignment: 0
Returning buffer pointer: 0x1948419df08 (aligned: true)
Submitting readback 384 at frame 403 (will be ready at frame 406)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 1
Overall bounds: [64, -24, 0] to [128, -16, 8]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5aa8, alignment: 0
Returning buffer pointer: 0x19484be5aa8 (aligned: true)
Created staging buffer at: 0x19484be5aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2986633121341903501), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5da8, alignment: 0
Returning buffer pointer: 0x19484be5da8 (aligned: true)
Created staging buffer at: 0x19484be5da8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a51000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14926236484431254159), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e68, alignment: 0
Returning buffer pointer: 0x19484be5e68 (aligned: true)
Created staging buffer at: 0x19484be5e68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a52000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10072831630730334865), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58a8, alignment: 0
Returning buffer pointer: 0x19484be58a8 (aligned: true)
Created staging buffer at: 0x19484be58a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0f000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2652726833149121171), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-2.4e1,0.0e0] to [1.3e2,-1.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5ca8, alignment: 0
Returning buffer pointer: 0x19484be5ca8 (aligned: true)
Submitting readback 385 at frame 403 (will be ready at frame 406)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 404
Processing readbacks: 3 pending, completed_frame: 404, frames_in_flight: 3
Checking readback 383: submitted frame 401, current frame 404, 3 frames elapsed (need 3)
Readback 383 ready (submitted frame 401, current frame 404)
Checking readback 384: submitted frame 403, current frame 404, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 473/512 completed
Minichunk 474/512 completed
Minichunk 475/512 completed
Minichunk 476/512 completed
Minichunk 477/512 completed
Minichunk 478/512 completed
Minichunk 479/512 completed
Minichunk 480/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 404
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 404, frames_in_flight: 3
Checking readback 384: submitted frame 403, current frame 404, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [64, -48, 0] to [128, -40, 8]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5968, alignment: 0
Returning buffer pointer: 0x19484be5968 (aligned: true)
Created staging buffer at: 0x19484be5968
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15909187785035092632), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be29a8, alignment: 0
Returning buffer pointer: 0x19484be29a8 (aligned: true)
Created staging buffer at: 0x19484be29a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2e000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11341779099858244250), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2a68, alignment: 0
Returning buffer pointer: 0x19484be2a68 (aligned: true)
Created staging buffer at: 0x19484be2a68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a28000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1881886718706061980), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ae8, alignment: 0
Returning buffer pointer: 0x19484be2ae8 (aligned: true)
Created staging buffer at: 0x19484be2ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1a000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15026959446116930206), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.8e1,0.0e0] to [1.3e2,-4.0e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2668, alignment: 0
Returning buffer pointer: 0x19484be2668 (aligned: true)
Submitting readback 386 at frame 404 (will be ready at frame 407)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.5ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 15)
DeferredReadbackManager: advanced to frame 405
Processing readbacks: 3 pending, completed_frame: 405, frames_in_flight: 3
Checking readback 384: submitted frame 403, current frame 405, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 405
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 405, frames_in_flight: 3
Checking readback 384: submitted frame 403, current frame 405, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.4ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 406
Processing readbacks: 3 pending, completed_frame: 406, frames_in_flight: 3
Checking readback 384: submitted frame 403, current frame 406, 3 frames elapsed (need 3)
Readback 384 ready (submitted frame 403, current frame 406)
Checking readback 385: submitted frame 403, current frame 406, 3 frames elapsed (need 3)
Readback 385 ready (submitted frame 403, current frame 406)
Checking readback 386: submitted frame 404, current frame 406, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 481/512 completed
Minichunk 482/512 completed
Minichunk 483/512 completed
Minichunk 484/512 completed
Minichunk 485/512 completed
Minichunk 486/512 completed
Minichunk 487/512 completed
Minichunk 488/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 489/512 completed
Minichunk 490/512 completed
Minichunk 491/512 completed
Minichunk 492/512 completed
Minichunk 493/512 completed
Minichunk 494/512 completed
Minichunk 495/512 completed
Minichunk 496/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 406
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 406, frames_in_flight: 3
Checking readback 386: submitted frame 404, current frame 406, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [64, -32, 0] to [128, -24, 8]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27e8, alignment: 0
Returning buffer pointer: 0x19484be27e8 (aligned: true)
Created staging buffer at: 0x19484be27e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a55000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17222346616715874979), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2768, alignment: 0
Returning buffer pointer: 0x19484be2768 (aligned: true)
Created staging buffer at: 0x19484be2768
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a56000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(858019291897795237), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2b68, alignment: 0
Returning buffer pointer: 0x19484be2b68 (aligned: true)
Created staging buffer at: 0x19484be2b68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a35000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16587318178535707303), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be28e8, alignment: 0
Returning buffer pointer: 0x19484be28e8 (aligned: true)
Created staging buffer at: 0x19484be28e8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3f000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14231172512351261353), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-3.2e1,0.0e0] to [1.3e2,-2.4e1,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2c28, alignment: 0
Returning buffer pointer: 0x19484be2c28 (aligned: true)
Submitting readback 387 at frame 406 (will be ready at frame 409)
Successfully queued 8 minichunks from this batch
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.0ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 14)
DeferredReadbackManager: advanced to frame 407
Processing readbacks: 2 pending, completed_frame: 407, frames_in_flight: 3
Checking readback 386: submitted frame 404, current frame 407, 3 frames elapsed (need 3)
Readback 386 ready (submitted frame 404, current frame 407)
Checking readback 387: submitted frame 406, current frame 407, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 497/512 completed
Minichunk 498/512 completed
Minichunk 499/512 completed
Minichunk 500/512 completed
Minichunk 501/512 completed
Minichunk 502/512 completed
Minichunk 503/512 completed
Minichunk 504/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 407
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 407, frames_in_flight: 3
Checking readback 387: submitted frame 406, current frame 407, 1 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 24.5ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 408
Processing readbacks: 1 pending, completed_frame: 408, frames_in_flight: 3
Checking readback 387: submitted frame 406, current frame 408, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 408
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 408, frames_in_flight: 3
Checking readback 387: submitted frame 406, current frame 408, 2 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 20.3ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 409
Processing readbacks: 1 pending, completed_frame: 409, frames_in_flight: 3
Checking readback 387: submitted frame 406, current frame 409, 3 frames elapsed (need 3)
Readback 387 ready (submitted frame 406, current frame 409)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 505/512 completed
Minichunk 506/512 completed
Minichunk 507/512 completed
Minichunk 508/512 completed
Minichunk 509/512 completed
Minichunk 510/512 completed
Minichunk 511/512 completed
Minichunk 512/512 completed
Chunk ChunkId(1, -1, 0) complete! All 512 minichunks processed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 3/3
GPU generation completed successfully
GPU generation completed successfully. Voxel count: 262144
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Non-empty voxels: 0
Frame time: 17.3ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 410
Processing 0 completed readbacks
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 13.3ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 411
Processing 0 completed readbacks
get_chunks_for_rendering called - active chunks: 5, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
GPU pipeline worker: Processing request 11 with priority 9
GPU generation thread spawned for bounds: [0.0,-64.0,64.0] to [64.0,0.0,128.0]
GPU generation: starting for 262144 voxels
GPU generation: waiting for result...
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing 0 completed readbacks
Main thread: Execute GPU worldgen for bounds [0.0,-64.0,64.0] to [64.0,0.0,128.0]
Processing chunk ChunkId(0, -1, 1) as minichunks
Creating ChunkAccumulator: 262144 voxels, 512 minichunks (8 per axis)
Queuing 512 minichunks for chunk ChunkId(0, -1, 1)
Processing 512 minichunks in 32 batches of up to 16 each (frames_in_flight: 3)
PID controller: Processing 8 minichunks per workspace (workgroup budget: 8)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 2/3
Processing 8 minichunks in workspace 1
Overall bounds: [0, -64, 64] to [64, -56, 72]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: queue_generation_blocking returned: true
48, offset: 0Async generation completed for chunk ChunkId(1, -1, 0)

Buffer pointer is not null, casting to GpuBuffer
Sending result for chunk ChunkId(1, -1, 0) through channel
renderer_buffer_write_cmd called - buffer: anyopaqueResult sent successfully for chunk ChunkId(1, -1, 0)
@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2528, alignment: 0
Returning buffer pointer: 0x19484be2528 (aligned: true)
Created staging buffer at: 0x19484be2528
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a16000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18249974373291135662), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2568, alignment: 0
Returning buffer pointer: 0x19484be2568 (aligned: true)
Created staging buffer at: 0x19484be2568
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17599892521415086768), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2668, alignment: 0
Returning buffer pointer: 0x19484be2668 (aligned: true)
Created staging buffer at: 0x19484be2668
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17792001392043365042), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df08, alignment: 0
Returning buffer pointer: 0x1948419df08 (aligned: true)
Created staging buffer at: 0x1948419df08
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1f000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16934490074517607092), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,6.4e1] to [6.4e1,-5.6e1,7.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419df48, alignment: 0
Returning buffer pointer: 0x1948419df48 (aligned: true)
Submitting readback 388 at frame 411 (will be ready at frame 414)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 2
Overall bounds: [0, -56, 64] to [64, -48, 72]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df88, alignment: 0
Returning buffer pointer: 0x1948419df88 (aligned: true)
Created staging buffer at: 0x1948419df88
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b19000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10055121796941746873), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dfc8, alignment: 0
Returning buffer pointer: 0x1948419dfc8 (aligned: true)
Created staging buffer at: 0x1948419dfc8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16146260084169642683), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dc88, alignment: 0
Returning buffer pointer: 0x1948419dc88 (aligned: true)
Created staging buffer at: 0x1948419dc88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15662908175529546429), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd48, alignment: 0
Returning buffer pointer: 0x1948419dd48 (aligned: true)
Created staging buffer at: 0x1948419dd48
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5b000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11368939236087567039), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-5.6e1,6.4e1] to [6.4e1,-4.8e1,7.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be6e08, alignment: 0
Returning buffer pointer: 0x19484be6e08 (aligned: true)
Submitting readback 389 at frame 411 (will be ready at frame 414)
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 20.7ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 412
Processing readbacks: 2 pending, completed_frame: 412, frames_in_flight: 3
Checking readback 388: submitted frame 411, current frame 412, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 412
Received generation result 1 for region RegionId(0, -1, 0)
Processing single chunk workspace for chunk ChunkId(1, -1, 0)
Chunk ChunkId(1, -1, 0) has 0 non-empty voxels out of 262144
Extracted 1 chunks from region RegionId(0, -1, 0)
  Chunk ChunkId(1, -1, 0): palette size 1, 32768 bytes compressed
Adding chunk ChunkId(1, -1, 0) to active_chunks (total: 6)
Creating generation params for region RegionId(0, -1, 0)
Region RegionId(0, -1, 0) world bounds: min=[0,-256,0] max=[256,0,256]
Creating plane SDF with normal [0, 0, 1] and distance 0
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0, Pitch: 0.0, Roll: -45.0]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 412, frames_in_flight: 3
Checking readback 388: submitted frame 411, current frame 412, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 31 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 0
Overall bounds: [0, -48, 64] to [64, -32, 72]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5b28, alignment: 0
Returning buffer pointer: 0x19484be5b28 (aligned: true)
Created staging buffer at: 0x19484be5b28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1575965200463434436), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5868, alignment: 0
Returning buffer pointer: 0x19484be5868 (aligned: true)
Created staging buffer at: 0x19484be5868
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15332318014406136518), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58e8, alignment: 0
Returning buffer pointer: 0x19484be58e8 (aligned: true)
Created staging buffer at: 0x19484be58e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a21000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12334682080205083336), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ca8, alignment: 0
Returning buffer pointer: 0x19484be5ca8 (aligned: true)
Created staging buffer at: 0x19484be5ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5f000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1113596371727815370), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,6.4e1] to [6.4e1,-3.2e1,7.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5d68, alignment: 0
Returning buffer pointer: 0x19484be5d68 (aligned: true)
Submitting readback 390 at frame 412 (will be ready at frame 415)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 44.5ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 413
Processing readbacks: 3 pending, completed_frame: 413, frames_in_flight: 3
Checking readback 388: submitted frame 411, current frame 413, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 413
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 413, frames_in_flight: 3
Checking readback 388: submitted frame 411, current frame 413, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 31 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 38.7ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 414
Processing readbacks: 3 pending, completed_frame: 414, frames_in_flight: 3
Checking readback 388: submitted frame 411, current frame 414, 3 frames elapsed (need 3)
Readback 388 ready (submitted frame 411, current frame 414)
Checking readback 389: submitted frame 411, current frame 414, 3 frames elapsed (need 3)
Readback 389 ready (submitted frame 411, current frame 414)
Checking readback 390: submitted frame 412, current frame 414, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 1/512 completed
Minichunk 2/512 completed
Minichunk 3/512 completed
Minichunk 4/512 completed
Minichunk 5/512 completed
Minichunk 6/512 completed
Minichunk 7/512 completed
Minichunk 8/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 9/512 completed
Minichunk 10/512 completed
Minichunk 11/512 completed
Minichunk 12/512 completed
Minichunk 13/512 completed
Minichunk 14/512 completed
Minichunk 15/512 completed
Minichunk 16/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 414
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 414, frames_in_flight: 3
Checking readback 390: submitted frame 412, current frame 414, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 31 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 1
Overall bounds: [0, -16, 64] to [64, 0, 72]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5828, alignment: 0
Returning buffer pointer: 0x19484be5828 (aligned: true)
Created staging buffer at: 0x19484be5828
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a24000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11992213894966809295), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2c28, alignment: 0
Returning buffer pointer: 0x19484be2c28 (aligned: true)
Created staging buffer at: 0x19484be2c28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13295647546299912913), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be25a8, alignment: 0
Returning buffer pointer: 0x19484be25a8 (aligned: true)
Created staging buffer at: 0x19484be25a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3600666384989688531), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2628, alignment: 0
Returning buffer pointer: 0x19484be2628 (aligned: true)
Created staging buffer at: 0x19484be2628
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a57000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13739986583363261141), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,6.4e1] to [6.4e1,0.0e0,7.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be26e8, alignment: 0
Returning buffer pointer: 0x19484be26e8 (aligned: true)
Submitting readback 391 at frame 414 (will be ready at frame 417)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [8, -8, 64] to [64, 0, 72]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27a8, alignment: 0
Returning buffer pointer: 0x19484be27a8 (aligned: true)
Created staging buffer at: 0x19484be27a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a58000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3902045820697973466), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2868, alignment: 0
Returning buffer pointer: 0x19484be2868 (aligned: true)
Created staging buffer at: 0x19484be2868
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2543463964650509020), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be28a8, alignment: 0
Returning buffer pointer: 0x19484be28a8 (aligned: true)
Created staging buffer at: 0x19484be28a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10328496671490577118), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df48, alignment: 0
Returning buffer pointer: 0x1948419df48 (aligned: true)
Created staging buffer at: 0x1948419df48
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a46000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3033366763568894688), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e0,-8.0e0,6.4e1] to [6.4e1,0.0e0,7.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dd08, alignment: 0
Returning buffer pointer: 0x1948419dd08 (aligned: true)
Submitting readback 392 at frame 414 (will be ready at frame 417)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 43.9ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 415
Processing readbacks: 3 pending, completed_frame: 415, frames_in_flight: 3
Checking readback 390: submitted frame 412, current frame 415, 3 frames elapsed (need 3)
Readback 390 ready (submitted frame 412, current frame 415)
Checking readback 391: submitted frame 414, current frame 415, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 17/512 completed
Minichunk 18/512 completed
Minichunk 19/512 completed
Minichunk 20/512 completed
Minichunk 21/512 completed
Minichunk 22/512 completed
Minichunk 23/512 completed
Minichunk 24/512 completed
Minichunk 25/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 415
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 415, frames_in_flight: 3
Checking readback 391: submitted frame 414, current frame 415, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 30 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 0
Overall bounds: [0, -16, 72] to [64, 0, 80]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aea8, alignment: 0
Returning buffer pointer: 0x19484d3aea8 (aligned: true)
Created staging buffer at: 0x19484d3aea8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a14000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6548244853312983781), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3afa8, alignment: 0
Returning buffer pointer: 0x19484d3afa8 (aligned: true)
Created staging buffer at: 0x19484d3afa8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10456153270010254055), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b028, alignment: 0
Returning buffer pointer: 0x19484d3b028 (aligned: true)
Created staging buffer at: 0x19484d3b028
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1769226359277621993), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b068, alignment: 0
Returning buffer pointer: 0x19484d3b068 (aligned: true)
Created staging buffer at: 0x19484d3b068
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f6000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4784753546685846251), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,7.2e1] to [6.4e1,0.0e0,8.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3b0a8, alignment: 0
Returning buffer pointer: 0x19484d3b0a8 (aligned: true)
Submitting readback 393 at frame 415 (will be ready at frame 418)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 43.8ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 416
Processing readbacks: 3 pending, completed_frame: 416, frames_in_flight: 3
Checking readback 391: submitted frame 414, current frame 416, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 416
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 416, frames_in_flight: 3
Checking readback 391: submitted frame 414, current frame 416, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 30 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 38.1ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 417
Processing readbacks: 3 pending, completed_frame: 417, frames_in_flight: 3
Checking readback 391: submitted frame 414, current frame 417, 3 frames elapsed (need 3)
Readback 391 ready (submitted frame 414, current frame 417)
Checking readback 392: submitted frame 414, current frame 417, 3 frames elapsed (need 3)
Readback 392 ready (submitted frame 414, current frame 417)
Checking readback 393: submitted frame 415, current frame 417, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 26/512 completed
Minichunk 27/512 completed
Minichunk 28/512 completed
Minichunk 29/512 completed
Minichunk 30/512 completed
Minichunk 31/512 completed
Minichunk 32/512 completed
Minichunk 33/512 completed
Minichunk 34/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 35/512 completed
Minichunk 36/512 completed
Minichunk 37/512 completed
Minichunk 38/512 completed
Minichunk 39/512 completed
Minichunk 40/512 completed
Minichunk 41/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 417
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 417, frames_in_flight: 3
Checking readback 393: submitted frame 415, current frame 417, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 30 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 1
Overall bounds: [0, -16, 88] to [64, 0, 96]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b168, alignment: 0
Returning buffer pointer: 0x19484d3b168 (aligned: true)
Created staging buffer at: 0x19484d3b168
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7164874063913947888), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6908, alignment: 0
Returning buffer pointer: 0x19484be6908 (aligned: true)
Created staging buffer at: 0x19484be6908
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1096535249799615218), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6ac8, alignment: 0
Returning buffer pointer: 0x19484be6ac8 (aligned: true)
Created staging buffer at: 0x19484be6ac8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a50000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7852407480855302900), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6b08, alignment: 0
Returning buffer pointer: 0x19484be6b08 (aligned: true)
Created staging buffer at: 0x19484be6b08
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a10000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8476593634873971446), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,8.8e1] to [6.4e1,0.0e0,9.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be6c88, alignment: 0
Returning buffer pointer: 0x19484be6c88 (aligned: true)
Submitting readback 394 at frame 417 (will be ready at frame 420)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 2
Overall bounds: [16, -8, 88] to [64, 0, 96]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6e08, alignment: 0
Returning buffer pointer: 0x19484be6e08 (aligned: true)
Created staging buffer at: 0x19484be6e08
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b15000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9024453890715685627), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1db8, alignment: 0
Returning buffer pointer: 0x194846e1db8 (aligned: true)
Created staging buffer at: 0x194846e1db8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b16000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8749107591818253053), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1af8, alignment: 0
Returning buffer pointer: 0x194846e1af8 (aligned: true)
Created staging buffer at: 0x194846e1af8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4612056553845953279), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1e38, alignment: 0
Returning buffer pointer: 0x194846e1e38 (aligned: true)
Created staging buffer at: 0x194846e1e38
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a29000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7464987961738662657), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [1.6e1,-8.0e0,8.8e1] to [6.4e1,0.0e0,9.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e20f8, alignment: 0
Returning buffer pointer: 0x194846e20f8 (aligned: true)
Submitting readback 395 at frame 417 (will be ready at frame 420)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 42.6ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 418
Processing readbacks: 3 pending, completed_frame: 418, frames_in_flight: 3
Checking readback 393: submitted frame 415, current frame 418, 3 frames elapsed (need 3)
Readback 393 ready (submitted frame 415, current frame 418)
Checking readback 394: submitted frame 417, current frame 418, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 42/512 completed
Minichunk 43/512 completed
Minichunk 44/512 completed
Minichunk 45/512 completed
Minichunk 46/512 completed
Minichunk 47/512 completed
Minichunk 48/512 completed
Minichunk 49/512 completed
Minichunk 50/512 completed
Minichunk 51/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 418
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 418, frames_in_flight: 3
Checking readback 394: submitted frame 417, current frame 418, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 0
Overall bounds: [0, -32, 120] to [64, -16, 128]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32f8, alignment: 0
Returning buffer pointer: 0x19484be32f8 (aligned: true)
Created staging buffer at: 0x19484be32f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10309047410306847494), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3278, alignment: 0
Returning buffer pointer: 0x19484be3278 (aligned: true)
Created staging buffer at: 0x19484be3278
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a45000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5971709334218871560), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33f8, alignment: 0
Returning buffer pointer: 0x19484be33f8 (aligned: true)
Created staging buffer at: 0x19484be33f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a15000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6072404808113853194), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d78, alignment: 0
Returning buffer pointer: 0x19484be2d78 (aligned: true)
Created staging buffer at: 0x19484be2d78
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f7000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9615961459645223692), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,1.2e2] to [6.4e1,-1.6e1,1.3e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2eb8, alignment: 0
Returning buffer pointer: 0x19484be2eb8 (aligned: true)
Submitting readback 396 at frame 418 (will be ready at frame 421)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 41.9ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 13)
DeferredReadbackManager: advanced to frame 419
Processing readbacks: 3 pending, completed_frame: 419, frames_in_flight: 3
Checking readback 394: submitted frame 417, current frame 419, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 419
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 419, frames_in_flight: 3
Checking readback 394: submitted frame 417, current frame 419, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.1ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 420
Processing readbacks: 3 pending, completed_frame: 420, frames_in_flight: 3
Checking readback 394: submitted frame 417, current frame 420, 3 frames elapsed (need 3)
Readback 394 ready (submitted frame 417, current frame 420)
Checking readback 395: submitted frame 417, current frame 420, 3 frames elapsed (need 3)
Readback 395 ready (submitted frame 417, current frame 420)
Checking readback 396: submitted frame 418, current frame 420, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 52/512 completed
Minichunk 53/512 completed
Minichunk 54/512 completed
Minichunk 55/512 completed
Minichunk 56/512 completed
Minichunk 57/512 completed
Minichunk 58/512 completed
Minichunk 59/512 completed
Minichunk 60/512 completed
Minichunk 61/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (6 minichunks, 12288 bytes)
Minichunk 62/512 completed
Minichunk 63/512 completed
Minichunk 64/512 completed
Minichunk 65/512 completed
Minichunk 66/512 completed
Minichunk 67/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 420
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 420, frames_in_flight: 3
Checking readback 396: submitted frame 418, current frame 420, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 1
Overall bounds: [0, -16, 120] to [64, 0, 128]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31b8, alignment: 0
Returning buffer pointer: 0x19484be31b8 (aligned: true)
Created staging buffer at: 0x19484be31b8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a17000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2110331150097453841), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2a28, alignment: 0
Returning buffer pointer: 0x19484be2a28 (aligned: true)
Created staging buffer at: 0x19484be2a28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4765905718362510099), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be25e8, alignment: 0
Returning buffer pointer: 0x19484be25e8 (aligned: true)
Created staging buffer at: 0x19484be25e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a09000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10951197385300120341), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26a8, alignment: 0
Returning buffer pointer: 0x19484be26a8 (aligned: true)
Created staging buffer at: 0x19484be26a8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a18000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1383988271230489367), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,1.2e2] to [6.4e1,0.0e0,1.3e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be26e8, alignment: 0
Returning buffer pointer: 0x19484be26e8 (aligned: true)
Submitting readback 397 at frame 420 (will be ready at frame 423)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [24, -8, 120] to [64, 0, 128]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2728, alignment: 0
Returning buffer pointer: 0x19484be2728 (aligned: true)
Created staging buffer at: 0x19484be2728
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12735178091110863644), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2828, alignment: 0
Returning buffer pointer: 0x19484be2828 (aligned: true)
Created staging buffer at: 0x19484be2828
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13143741218829636382), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2928, alignment: 0
Returning buffer pointer: 0x19484be2928 (aligned: true)
Created staging buffer at: 0x19484be2928
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(382925815093924640), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2968, alignment: 0
Returning buffer pointer: 0x19484be2968 (aligned: true)
Created staging buffer at: 0x19484be2968
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0f000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13608364046402196258), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [2.4e1,-8.0e0,1.2e2] to [6.4e1,0.0e0,1.3e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194262435e8, alignment: 0
Returning buffer pointer: 0x194262435e8 (aligned: true)
Submitting readback 398 at frame 420 (will be ready at frame 423)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 37.8ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 421
Processing readbacks: 3 pending, completed_frame: 421, frames_in_flight: 3
Checking readback 396: submitted frame 418, current frame 421, 3 frames elapsed (need 3)
Readback 396 ready (submitted frame 418, current frame 421)
Checking readback 397: submitted frame 420, current frame 421, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 68/512 completed
Minichunk 69/512 completed
Minichunk 70/512 completed
Minichunk 71/512 completed
Minichunk 72/512 completed
Minichunk 73/512 completed
Minichunk 74/512 completed
Minichunk 75/512 completed
Minichunk 76/512 completed
Minichunk 77/512 completed
Minichunk 78/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 421
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 421, frames_in_flight: 3
Checking readback 397: submitted frame 420, current frame 421, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 28 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 7 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 0
Overall bounds: [8, -40, 64] to [64, -32, 72]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194262436a8, alignment: 0
Returning buffer pointer: 0x194262436a8 (aligned: true)
Created staging buffer at: 0x194262436a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14178028717334336295), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194262436e8, alignment: 0
Returning buffer pointer: 0x194262436e8 (aligned: true)
Created staging buffer at: 0x194262436e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a59000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4025034992357741353), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2df8, alignment: 0
Returning buffer pointer: 0x19484be2df8 (aligned: true)
Created staging buffer at: 0x19484be2df8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a11000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12905801405020771115), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33b8, alignment: 0
Returning buffer pointer: 0x19484be33b8 (aligned: true)
Created staging buffer at: 0x19484be33b8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a12000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14447758710837089069), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e0,-4.0e1,6.4e1] to [6.4e1,-3.2e1,7.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be32b8, alignment: 0
Returning buffer pointer: 0x19484be32b8 (aligned: true)
Submitting readback 399 at frame 421 (will be ready at frame 424)
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.3ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 422
Processing readbacks: 3 pending, completed_frame: 422, frames_in_flight: 3
Checking readback 397: submitted frame 420, current frame 422, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 422
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 422, frames_in_flight: 3
Checking readback 397: submitted frame 420, current frame 422, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.1ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 423
Processing readbacks: 3 pending, completed_frame: 423, frames_in_flight: 3
Checking readback 397: submitted frame 420, current frame 423, 3 frames elapsed (need 3)
Readback 397 ready (submitted frame 420, current frame 423)
Checking readback 398: submitted frame 420, current frame 423, 3 frames elapsed (need 3)
Readback 398 ready (submitted frame 420, current frame 423)
Checking readback 399: submitted frame 421, current frame 423, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (11 minichunks, 22528 bytes)
Minichunk 79/512 completed
Minichunk 80/512 completed
Minichunk 81/512 completed
Minichunk 82/512 completed
Minichunk 83/512 completed
Minichunk 84/512 completed
Minichunk 85/512 completed
Minichunk 86/512 completed
Minichunk 87/512 completed
Minichunk 88/512 completed
Minichunk 89/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 90/512 completed
Minichunk 91/512 completed
Minichunk 92/512 completed
Minichunk 93/512 completed
Minichunk 94/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 423
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 423, frames_in_flight: 3
Checking readback 399: submitted frame 421, current frame 423, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 6 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 1
Overall bounds: [16, -8, 72] to [64, 0, 80]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3338, alignment: 0
Returning buffer pointer: 0x19484be3338 (aligned: true)
Created staging buffer at: 0x19484be3338
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b17000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2889180107237233458), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e38, alignment: 0
Returning buffer pointer: 0x19484be2e38 (aligned: true)
Created staging buffer at: 0x19484be2e38
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9335847678329754420), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3138, alignment: 0
Returning buffer pointer: 0x19484be3138 (aligned: true)
Created staging buffer at: 0x19484be3138
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15773059449423401782), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2fb8, alignment: 0
Returning buffer pointer: 0x19484be2fb8 (aligned: true)
Created staging buffer at: 0x19484be2fb8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0d000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16122099415660892984), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [1.6e1,-8.0e0,7.2e1] to [6.4e1,0.0e0,8.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2eb8, alignment: 0
Returning buffer pointer: 0x19484be2eb8 (aligned: true)
Submitting readback 400 at frame 423 (will be ready at frame 426)
Successfully queued 6 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 2
Overall bounds: [0, -48, 120] to [64, -32, 128]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3038, alignment: 0
Returning buffer pointer: 0x19484be3038 (aligned: true)
Created staging buffer at: 0x19484be3038
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10679531151820854077), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af28, alignment: 0
Returning buffer pointer: 0x19484d3af28 (aligned: true)
Created staging buffer at: 0x19484d3af28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a30000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1403736599576974143), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3afe8, alignment: 0
Returning buffer pointer: 0x19484d3afe8 (aligned: true)
Created staging buffer at: 0x19484d3afe8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a31000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14889240117179847489), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b0a8, alignment: 0
Returning buffer pointer: 0x19484d3b0a8 (aligned: true)
Created staging buffer at: 0x19484d3b0a8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a32000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16147294724611380035), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,1.2e2] to [6.4e1,-3.2e1,1.3e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3b0e8, alignment: 0
Returning buffer pointer: 0x19484d3b0e8 (aligned: true)
Submitting readback 401 at frame 423 (will be ready at frame 426)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.4ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 424
Processing readbacks: 3 pending, completed_frame: 424, frames_in_flight: 3
Checking readback 399: submitted frame 421, current frame 424, 3 frames elapsed (need 3)
Readback 399 ready (submitted frame 421, current frame 424)
Checking readback 400: submitted frame 423, current frame 424, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 95/512 completed
Minichunk 96/512 completed
Minichunk 97/512 completed
Minichunk 98/512 completed
Minichunk 99/512 completed
Minichunk 100/512 completed
Minichunk 101/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 424
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 424, frames_in_flight: 3
Checking readback 400: submitted frame 423, current frame 424, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 26 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 5 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 0
Overall bounds: [24, -24, 120] to [64, -16, 128]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b1a8, alignment: 0
Returning buffer pointer: 0x19484d3b1a8 (aligned: true)
Created staging buffer at: 0x19484d3b1a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(138771561564869448), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af68, alignment: 0
Returning buffer pointer: 0x19484d3af68 (aligned: true)
Created staging buffer at: 0x19484d3af68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17944523446025196362), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32b8, alignment: 0
Returning buffer pointer: 0x19484be32b8 (aligned: true)
Created staging buffer at: 0x19484be32b8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a25000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18419307960061662028), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e78, alignment: 0
Returning buffer pointer: 0x19484be2e78 (aligned: true)
Created staging buffer at: 0x19484be2e78
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a26000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18181107561997013838), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [2.4e1,-2.4e1,1.2e2] to [6.4e1,-1.6e1,1.3e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be3378, alignment: 0
Returning buffer pointer: 0x19484be3378 (aligned: true)
Submitting readback 402 at frame 424 (will be ready at frame 427)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 8)
DeferredReadbackManager: advanced to frame 425
Processing readbacks: 3 pending, completed_frame: 425, frames_in_flight: 3
Checking readback 400: submitted frame 423, current frame 425, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 425
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 425, frames_in_flight: 3
Checking readback 400: submitted frame 423, current frame 425, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 25 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 426
Processing readbacks: 3 pending, completed_frame: 426, frames_in_flight: 3
Checking readback 400: submitted frame 423, current frame 426, 3 frames elapsed (need 3)
Readback 400 ready (submitted frame 423, current frame 426)
Checking readback 401: submitted frame 423, current frame 426, 3 frames elapsed (need 3)
Readback 401 ready (submitted frame 423, current frame 426)
Checking readback 402: submitted frame 424, current frame 426, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 102/512 completed
Minichunk 103/512 completed
Minichunk 104/512 completed
Minichunk 105/512 completed
Minichunk 106/512 completed
Minichunk 107/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (10 minichunks, 20480 bytes)
Minichunk 108/512 completed
Minichunk 109/512 completed
Minichunk 110/512 completed
Minichunk 111/512 completed
Minichunk 112/512 completed
Minichunk 113/512 completed
Minichunk 114/512 completed
Minichunk 115/512 completed
Minichunk 116/512 completed
Minichunk 117/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 426
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 426, frames_in_flight: 3
Checking readback 402: submitted frame 424, current frame 426, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 25 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 1
Overall bounds: [0, -64, 120] to [64, -48, 128]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d38, alignment: 0
Returning buffer pointer: 0x19484be2d38 (aligned: true)
Created staging buffer at: 0x19484be2d38
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a41000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16958788181979829075), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ef8, alignment: 0
Returning buffer pointer: 0x19484be2ef8 (aligned: true)
Created staging buffer at: 0x19484be2ef8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14754836915312137045), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3078, alignment: 0
Returning buffer pointer: 0x19484be3078 (aligned: true)
Created staging buffer at: 0x19484be3078
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a54000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16281871649316279127), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2f38, alignment: 0
Returning buffer pointer: 0x19484be2f38 (aligned: true)
Created staging buffer at: 0x19484be2f38
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a42000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9853332825942528857), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,1.2e2] to [6.4e1,-4.8e1,1.3e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be30f8, alignment: 0
Returning buffer pointer: 0x19484be30f8 (aligned: true)
Submitting readback 403 at frame 426 (will be ready at frame 429)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [8, -56, 120] to [64, -48, 128]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1d78, alignment: 0
Returning buffer pointer: 0x194846e1d78 (aligned: true)
Created staging buffer at: 0x194846e1d78
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15645985592066446174), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e20b8, alignment: 0
Returning buffer pointer: 0x194846e20b8 (aligned: true)
Created staging buffer at: 0x194846e20b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a33000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16102667746663207776), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e20f8, alignment: 0
Returning buffer pointer: 0x194846e20f8 (aligned: true)
Created staging buffer at: 0x194846e20f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a22000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11112307724606509922), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e2138, alignment: 0
Returning buffer pointer: 0x194846e2138 (aligned: true)
Created staging buffer at: 0x194846e2138
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4b000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2660623525659808612), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e0,-5.6e1,1.2e2] to [6.4e1,-4.8e1,1.3e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e1ab8, alignment: 0
Returning buffer pointer: 0x194846e1ab8 (aligned: true)
Submitting readback 404 at frame 426 (will be ready at frame 429)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.0ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 427
Processing readbacks: 3 pending, completed_frame: 427, frames_in_flight: 3
Checking readback 402: submitted frame 424, current frame 427, 3 frames elapsed (need 3)
Readback 402 ready (submitted frame 424, current frame 427)
Checking readback 403: submitted frame 426, current frame 427, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 118/512 completed
Minichunk 119/512 completed
Minichunk 120/512 completed
Minichunk 121/512 completed
Minichunk 122/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 427
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 427, frames_in_flight: 3
Checking readback 403: submitted frame 426, current frame 427, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 0
Overall bounds: [0, -16, 112] to [64, 0, 120]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5be8, alignment: 0
Returning buffer pointer: 0x19484be5be8 (aligned: true)
Created staging buffer at: 0x19484be5be8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a23000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14908043965038072681), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5768, alignment: 0
Returning buffer pointer: 0x19484be5768 (aligned: true)
Created staging buffer at: 0x19484be5768
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a13000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12525144981926581099), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d68, alignment: 0
Returning buffer pointer: 0x19484be5d68 (aligned: true)
Created staging buffer at: 0x19484be5d68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b12000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(745502968492594029), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a68, alignment: 0
Returning buffer pointer: 0x19484be5a68 (aligned: true)
Created staging buffer at: 0x19484be5a68
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a38000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13213980220635222895), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,1.1e2] to [6.4e1,0.0e0,1.2e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5e28, alignment: 0
Returning buffer pointer: 0x19484be5e28 (aligned: true)
Submitting readback 405 at frame 427 (will be ready at frame 430)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.6ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 9)
DeferredReadbackManager: advanced to frame 428
Processing readbacks: 3 pending, completed_frame: 428, frames_in_flight: 3
Checking readback 403: submitted frame 426, current frame 428, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 428
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 428, frames_in_flight: 3
Checking readback 403: submitted frame 426, current frame 428, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.8ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 429
Processing readbacks: 3 pending, completed_frame: 429, frames_in_flight: 3
Checking readback 403: submitted frame 426, current frame 429, 3 frames elapsed (need 3)
Readback 403 ready (submitted frame 426, current frame 429)
Checking readback 404: submitted frame 426, current frame 429, 3 frames elapsed (need 3)
Readback 404 ready (submitted frame 426, current frame 429)
Checking readback 405: submitted frame 427, current frame 429, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 123/512 completed
Minichunk 124/512 completed
Minichunk 125/512 completed
Minichunk 126/512 completed
Minichunk 127/512 completed
Minichunk 128/512 completed
Minichunk 129/512 completed
Minichunk 130/512 completed
Minichunk 131/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 132/512 completed
Minichunk 133/512 completed
Minichunk 134/512 completed
Minichunk 135/512 completed
Minichunk 136/512 completed
Minichunk 137/512 completed
Minichunk 138/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 429
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 429, frames_in_flight: 3
Checking readback 405: submitted frame 427, current frame 429, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [0, -32, 112] to [64, -24, 120]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ba8, alignment: 0
Returning buffer pointer: 0x19484be5ba8 (aligned: true)
Created staging buffer at: 0x19484be5ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b18000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13788295825752855412), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59e8, alignment: 0
Returning buffer pointer: 0x19484be59e8 (aligned: true)
Created staging buffer at: 0x19484be59e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a08000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4041817937844114294), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57a8, alignment: 0
Returning buffer pointer: 0x19484be57a8 (aligned: true)
Created staging buffer at: 0x19484be57a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a36000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12001796138802877304), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c28, alignment: 0
Returning buffer pointer: 0x19484be5c28 (aligned: true)
Created staging buffer at: 0x19484be5c28
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f0000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4988141207591850874), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,1.1e2] to [6.4e1,-2.4e1,1.2e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5c68, alignment: 0
Returning buffer pointer: 0x19484be5c68 (aligned: true)
Submitting readback 406 at frame 429 (will be ready at frame 432)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [0, -24, 112] to [64, -16, 120]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d28, alignment: 0
Returning buffer pointer: 0x19484be5d28 (aligned: true)
Created staging buffer at: 0x19484be5d28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3292673386840331135), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57e8, alignment: 0
Returning buffer pointer: 0x19484be57e8 (aligned: true)
Created staging buffer at: 0x19484be57e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0e000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10699277281144083329), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3ae68, alignment: 0
Returning buffer pointer: 0x19484d3ae68 (aligned: true)
Created staging buffer at: 0x19484d3ae68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a19000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6287845315483538307), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aee8, alignment: 0
Returning buffer pointer: 0x19484d3aee8 (aligned: true)
Created staging buffer at: 0x19484d3aee8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a43000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6624060578094650245), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-2.4e1,1.1e2] to [6.4e1,-1.6e1,1.2e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3b0e8, alignment: 0
Returning buffer pointer: 0x19484d3b0e8 (aligned: true)
Submitting readback 407 at frame 429 (will be ready at frame 432)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.7ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 430
Processing readbacks: 3 pending, completed_frame: 430, frames_in_flight: 3
Checking readback 405: submitted frame 427, current frame 430, 3 frames elapsed (need 3)
Readback 405 ready (submitted frame 427, current frame 430)
Checking readback 406: submitted frame 429, current frame 430, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 139/512 completed
Minichunk 140/512 completed
Minichunk 141/512 completed
Minichunk 142/512 completed
Minichunk 143/512 completed
Minichunk 144/512 completed
Minichunk 145/512 completed
Minichunk 146/512 completed
Minichunk 147/512 completed
Minichunk 148/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 430
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 430, frames_in_flight: 3
Checking readback 406: submitted frame 429, current frame 430, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 23 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 6 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 0
Overall bounds: [16, -40, 120] to [64, -32, 128]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b128, alignment: 0
Returning buffer pointer: 0x19484d3b128 (aligned: true)
Created staging buffer at: 0x19484d3b128
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11237891743707829130), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59a8, alignment: 0
Returning buffer pointer: 0x19484be59a8 (aligned: true)
Created staging buffer at: 0x19484be59a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6966863014867768204), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ce8, alignment: 0
Returning buffer pointer: 0x19484be5ce8 (aligned: true)
Created staging buffer at: 0x19484be5ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4f000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5267108198279549838), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a28, alignment: 0
Returning buffer pointer: 0x19484be5a28 (aligned: true)
Created staging buffer at: 0x19484be5a28
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a40000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7895470953268777872), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [1.6e1,-4.0e1,1.2e2] to [6.4e1,-3.2e1,1.3e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5ae8, alignment: 0
Returning buffer pointer: 0x19484be5ae8 (aligned: true)
Submitting readback 408 at frame 430 (will be ready at frame 433)
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.5ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 11)
DeferredReadbackManager: advanced to frame 431
Processing readbacks: 3 pending, completed_frame: 431, frames_in_flight: 3
Checking readback 406: submitted frame 429, current frame 431, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 431
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 431, frames_in_flight: 3
Checking readback 406: submitted frame 429, current frame 431, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 22 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.6ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 432
Processing readbacks: 3 pending, completed_frame: 432, frames_in_flight: 3
Checking readback 406: submitted frame 429, current frame 432, 3 frames elapsed (need 3)
Readback 406 ready (submitted frame 429, current frame 432)
Checking readback 407: submitted frame 429, current frame 432, 3 frames elapsed (need 3)
Readback 407 ready (submitted frame 429, current frame 432)
Checking readback 408: submitted frame 430, current frame 432, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 149/512 completed
Minichunk 150/512 completed
Minichunk 151/512 completed
Minichunk 152/512 completed
Minichunk 153/512 completed
Minichunk 154/512 completed
Minichunk 155/512 completed
Minichunk 156/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 157/512 completed
Minichunk 158/512 completed
Minichunk 159/512 completed
Minichunk 160/512 completed
Minichunk 161/512 completed
Minichunk 162/512 completed
Minichunk 163/512 completed
Minichunk 164/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 432
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 432, frames_in_flight: 3
Checking readback 408: submitted frame 430, current frame 432, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 22 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 1
Overall bounds: [0, -48, 112] to [64, -32, 120]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e28, alignment: 0
Returning buffer pointer: 0x19484be5e28 (aligned: true)
Created staging buffer at: 0x19484be5e28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a44000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8216241376044520341), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c68, alignment: 0
Returning buffer pointer: 0x19484be5c68 (aligned: true)
Created staging buffer at: 0x19484be5c68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a34000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8402755931510674327), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5728, alignment: 0
Returning buffer pointer: 0x19484be5728 (aligned: true)
Created staging buffer at: 0x19484be5728
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8922422510192956313), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2eb8, alignment: 0
Returning buffer pointer: 0x19484be2eb8 (aligned: true)
Created staging buffer at: 0x19484be2eb8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a39000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9099578022683480987), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,1.1e2] to [6.4e1,-3.2e1,1.2e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be3378, alignment: 0
Returning buffer pointer: 0x19484be3378 (aligned: true)
Submitting readback 409 at frame 432 (will be ready at frame 435)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [8, -40, 112] to [64, -32, 120]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3478, alignment: 0
Returning buffer pointer: 0x19484be3478 (aligned: true)
Created staging buffer at: 0x19484be3478
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b13000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7368425552052491168), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2db8, alignment: 0
Returning buffer pointer: 0x19484be2db8 (aligned: true)
Created staging buffer at: 0x19484be2db8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a20000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5293446999322923938), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ff8, alignment: 0
Returning buffer pointer: 0x19484be2ff8 (aligned: true)
Created staging buffer at: 0x19484be2ff8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a53000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8195473800419087268), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30b8, alignment: 0
Returning buffer pointer: 0x19484be30b8 (aligned: true)
Created staging buffer at: 0x19484be30b8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b14000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7927951626264908710), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e0,-4.0e1,1.1e2] to [6.4e1,-3.2e1,1.2e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be30f8, alignment: 0
Returning buffer pointer: 0x19484be30f8 (aligned: true)
Submitting readback 410 at frame 432 (will be ready at frame 435)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 433
Processing readbacks: 3 pending, completed_frame: 433, frames_in_flight: 3
Checking readback 408: submitted frame 430, current frame 433, 3 frames elapsed (need 3)
Readback 408 ready (submitted frame 430, current frame 433)
Checking readback 409: submitted frame 432, current frame 433, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 165/512 completed
Minichunk 166/512 completed
Minichunk 167/512 completed
Minichunk 168/512 completed
Minichunk 169/512 completed
Minichunk 170/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 433
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 433, frames_in_flight: 3
Checking readback 409: submitted frame 432, current frame 433, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 0
Overall bounds: [0, -64, 112] to [64, -48, 120]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31f8, alignment: 0
Returning buffer pointer: 0x19484be31f8 (aligned: true)
Created staging buffer at: 0x19484be31f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6268451029881197483), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419de88, alignment: 0
Returning buffer pointer: 0x1948419de88 (aligned: true)
Created staging buffer at: 0x1948419de88
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a27000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7147297271032320941), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419ddc8, alignment: 0
Returning buffer pointer: 0x1948419ddc8 (aligned: true)
Created staging buffer at: 0x1948419ddc8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a51000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11271031024168997807), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dcc8, alignment: 0
Returning buffer pointer: 0x1948419dcc8 (aligned: true)
Created staging buffer at: 0x1948419dcc8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a52000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6511581638084793265), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,1.1e2] to [6.4e1,-4.8e1,1.2e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dd08, alignment: 0
Returning buffer pointer: 0x1948419dd08 (aligned: true)
Submitting readback 411 at frame 433 (will be ready at frame 436)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.7ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 434
Processing readbacks: 3 pending, completed_frame: 434, frames_in_flight: 3
Checking readback 409: submitted frame 432, current frame 434, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 434
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 434, frames_in_flight: 3
Checking readback 409: submitted frame 432, current frame 434, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 435
Processing readbacks: 3 pending, completed_frame: 435, frames_in_flight: 3
Checking readback 409: submitted frame 432, current frame 435, 3 frames elapsed (need 3)
Readback 409 ready (submitted frame 432, current frame 435)
Checking readback 410: submitted frame 432, current frame 435, 3 frames elapsed (need 3)
Readback 410 ready (submitted frame 432, current frame 435)
Checking readback 411: submitted frame 433, current frame 435, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 171/512 completed
Minichunk 172/512 completed
Minichunk 173/512 completed
Minichunk 174/512 completed
Minichunk 175/512 completed
Minichunk 176/512 completed
Minichunk 177/512 completed
Minichunk 178/512 completed
Minichunk 179/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 180/512 completed
Minichunk 181/512 completed
Minichunk 182/512 completed
Minichunk 183/512 completed
Minichunk 184/512 completed
Minichunk 185/512 completed
Minichunk 186/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 435
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 435, frames_in_flight: 3
Checking readback 411: submitted frame 433, current frame 435, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 6 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 1
Overall bounds: [16, -8, 112] to [64, 0, 120]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dec8, alignment: 0
Returning buffer pointer: 0x1948419dec8 (aligned: true)
Created staging buffer at: 0x1948419dec8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6149012181267518390), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd88, alignment: 0
Returning buffer pointer: 0x1948419dd88 (aligned: true)
Created staging buffer at: 0x1948419dd88
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2e000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10511048587050226616), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419de08, alignment: 0
Returning buffer pointer: 0x1948419de08 (aligned: true)
Created staging buffer at: 0x1948419de08
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2947409143532622778), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5da8, alignment: 0
Returning buffer pointer: 0x19484be5da8 (aligned: true)
Created staging buffer at: 0x19484be5da8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a28000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4866450559164486588), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [1.6e1,-8.0e0,1.1e2] to [6.4e1,0.0e0,1.2e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5de8, alignment: 0
Returning buffer pointer: 0x19484be5de8 (aligned: true)
Submitting readback 412 at frame 435 (will be ready at frame 438)
Successfully queued 6 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 2
Overall bounds: [0, -16, 104] to [64, 0, 112]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5968, alignment: 0
Returning buffer pointer: 0x19484be5968 (aligned: true)
Created staging buffer at: 0x19484be5968
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11750381809995617217), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5aa8, alignment: 0
Returning buffer pointer: 0x19484be5aa8 (aligned: true)
Created staging buffer at: 0x19484be5aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5e000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4578801824663868355), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e68, alignment: 0
Returning buffer pointer: 0x19484be5e68 (aligned: true)
Created staging buffer at: 0x19484be5e68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a37000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13563472086151730117), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ae8, alignment: 0
Returning buffer pointer: 0x19484be5ae8 (aligned: true)
Created staging buffer at: 0x19484be5ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1d000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13110506280856851399), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,1.0e2] to [6.4e1,0.0e0,1.1e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be29a8, alignment: 0
Returning buffer pointer: 0x19484be29a8 (aligned: true)
Submitting readback 413 at frame 435 (will be ready at frame 438)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.2ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 436
Processing readbacks: 3 pending, completed_frame: 436, frames_in_flight: 3
Checking readback 411: submitted frame 433, current frame 436, 3 frames elapsed (need 3)
Readback 411 ready (submitted frame 433, current frame 436)
Checking readback 412: submitted frame 435, current frame 436, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 187/512 completed
Minichunk 188/512 completed
Minichunk 189/512 completed
Minichunk 190/512 completed
Minichunk 191/512 completed
Minichunk 192/512 completed
Minichunk 193/512 completed
Minichunk 194/512 completed
Minichunk 195/512 completed
Minichunk 196/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 436
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 436, frames_in_flight: 3
Checking readback 412: submitted frame 435, current frame 436, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 0
Overall bounds: [0, -32, 104] to [64, -16, 112]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27e8, alignment: 0
Returning buffer pointer: 0x19484be27e8 (aligned: true)
Created staging buffer at: 0x19484be27e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1006848086321927116), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2b68, alignment: 0
Returning buffer pointer: 0x19484be2b68 (aligned: true)
Created staging buffer at: 0x19484be2b68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a16000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12592303152151139278), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be28e8, alignment: 0
Returning buffer pointer: 0x19484be28e8 (aligned: true)
Created staging buffer at: 0x19484be28e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2b000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13866186328976135120), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2528, alignment: 0
Returning buffer pointer: 0x19484be2528 (aligned: true)
Created staging buffer at: 0x19484be2528
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2c000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2816426522338923474), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,1.0e2] to [6.4e1,-1.6e1,1.1e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2a68, alignment: 0
Returning buffer pointer: 0x19484be2a68 (aligned: true)
Submitting readback 414 at frame 436 (will be ready at frame 439)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.1ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 437
Processing readbacks: 3 pending, completed_frame: 437, frames_in_flight: 3
Checking readback 412: submitted frame 435, current frame 437, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 437
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 437, frames_in_flight: 3
Checking readback 412: submitted frame 435, current frame 437, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.1ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 438
Processing readbacks: 3 pending, completed_frame: 438, frames_in_flight: 3
Checking readback 412: submitted frame 435, current frame 438, 3 frames elapsed (need 3)
Readback 412 ready (submitted frame 435, current frame 438)
Checking readback 413: submitted frame 435, current frame 438, 3 frames elapsed (need 3)
Readback 413 ready (submitted frame 435, current frame 438)
Checking readback 414: submitted frame 436, current frame 438, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 197/512 completed
Minichunk 198/512 completed
Minichunk 199/512 completed
Minichunk 200/512 completed
Minichunk 201/512 completed
Minichunk 202/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (10 minichunks, 20480 bytes)
Minichunk 203/512 completed
Minichunk 204/512 completed
Minichunk 205/512 completed
Minichunk 206/512 completed
Minichunk 207/512 completed
Minichunk 208/512 completed
Minichunk 209/512 completed
Minichunk 210/512 completed
Minichunk 211/512 completed
Minichunk 212/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 438
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 438, frames_in_flight: 3
Checking readback 414: submitted frame 436, current frame 438, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 1
Overall bounds: [0, -48, 104] to [64, -32, 112]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ae8, alignment: 0
Returning buffer pointer: 0x19484be2ae8 (aligned: true)
Created staging buffer at: 0x19484be2ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a35000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11505941683443340247), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2568, alignment: 0
Returning buffer pointer: 0x19484be2568 (aligned: true)
Created staging buffer at: 0x19484be2568
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b19000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15139579123615142873), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2668, alignment: 0
Returning buffer pointer: 0x19484be2668 (aligned: true)
Created staging buffer at: 0x19484be2668
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15388928569585439707), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26e8, alignment: 0
Returning buffer pointer: 0x19484be26e8 (aligned: true)
Created staging buffer at: 0x19484be26e8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a55000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9595476458508129245), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,1.0e2] to [6.4e1,-3.2e1,1.1e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2768, alignment: 0
Returning buffer pointer: 0x19484be2768 (aligned: true)
Submitting readback 415 at frame 438 (will be ready at frame 441)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 2
Overall bounds: [16, -40, 104] to [64, -32, 112]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd08, alignment: 0
Returning buffer pointer: 0x1948419dd08 (aligned: true)
Created staging buffer at: 0x1948419dd08
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a56000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17051301090340901858), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df08, alignment: 0
Returning buffer pointer: 0x1948419df08 (aligned: true)
Created staging buffer at: 0x1948419df08
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14000813831215911908), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dfc8, alignment: 0
Returning buffer pointer: 0x1948419dfc8 (aligned: true)
Created staging buffer at: 0x1948419dfc8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1f000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17813530929226847206), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df88, alignment: 0
Returning buffer pointer: 0x1948419df88 (aligned: true)
Created staging buffer at: 0x1948419df88
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a65000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17357416122630018024), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [1.6e1,-4.0e1,1.0e2] to [6.4e1,-3.2e1,1.1e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dc88, alignment: 0
Returning buffer pointer: 0x1948419dc88 (aligned: true)
Submitting readback 416 at frame 438 (will be ready at frame 441)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.9ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 439
Processing readbacks: 3 pending, completed_frame: 439, frames_in_flight: 3
Checking readback 414: submitted frame 436, current frame 439, 3 frames elapsed (need 3)
Readback 414 ready (submitted frame 436, current frame 439)
Checking readback 415: submitted frame 438, current frame 439, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 213/512 completed
Minichunk 214/512 completed
Minichunk 215/512 completed
Minichunk 216/512 completed
Minichunk 217/512 completed
Minichunk 218/512 completed
Minichunk 219/512 completed
Minichunk 220/512 completed
Minichunk 221/512 completed
Minichunk 222/512 completed
Minichunk 223/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 439

Region Loading Status:
  Camera region: RegionId(0, -1, 0)
  View distance: 1 regions
  Loaded regions: 3
  Pending generations: 2
  Active chunks: 6
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 439, frames_in_flight: 3
Checking readback 415: submitted frame 438, current frame 439, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 19 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 6 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 0
Overall bounds: [16, -56, 112] to [64, -48, 120]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd48, alignment: 0
Returning buffer pointer: 0x1948419dd48 (aligned: true)
Created staging buffer at: 0x1948419dd48
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17363640457954857965), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5b28, alignment: 0
Returning buffer pointer: 0x19484be5b28 (aligned: true)
Created staging buffer at: 0x19484be5b28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17992718339205501935), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5828, alignment: 0
Returning buffer pointer: 0x19484be5828 (aligned: true)
Created staging buffer at: 0x19484be5828
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(363538126561350641), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ca8, alignment: 0
Returning buffer pointer: 0x19484be5ca8 (aligned: true)
Created staging buffer at: 0x19484be5ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3c000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17052279655689622515), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [1.6e1,-5.6e1,1.1e2] to [6.4e1,-4.8e1,1.2e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5de8, alignment: 0
Returning buffer pointer: 0x19484be5de8 (aligned: true)
Submitting readback 417 at frame 439 (will be ready at frame 442)
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.5ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 9)
DeferredReadbackManager: advanced to frame 440
Processing readbacks: 3 pending, completed_frame: 440, frames_in_flight: 3
Checking readback 415: submitted frame 438, current frame 440, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 440
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 440, frames_in_flight: 3
Checking readback 415: submitted frame 438, current frame 440, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.6ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 441
Processing readbacks: 3 pending, completed_frame: 441, frames_in_flight: 3
Checking readback 415: submitted frame 438, current frame 441, 3 frames elapsed (need 3)
Readback 415 ready (submitted frame 438, current frame 441)
Checking readback 416: submitted frame 438, current frame 441, 3 frames elapsed (need 3)
Readback 416 ready (submitted frame 438, current frame 441)
Checking readback 417: submitted frame 439, current frame 441, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 224/512 completed
Minichunk 225/512 completed
Minichunk 226/512 completed
Minichunk 227/512 completed
Minichunk 228/512 completed
Minichunk 229/512 completed
Minichunk 230/512 completed
Minichunk 231/512 completed
Minichunk 232/512 completed
Minichunk 233/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (6 minichunks, 12288 bytes)
Minichunk 234/512 completed
Minichunk 235/512 completed
Minichunk 236/512 completed
Minichunk 237/512 completed
Minichunk 238/512 completed
Minichunk 239/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 441
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0, Pitch: 0.0, Roll: -45.0]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 441, frames_in_flight: 3
Checking readback 417: submitted frame 439, current frame 441, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 1
Overall bounds: [0, -64, 104] to [64, -48, 112]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58a8, alignment: 0
Returning buffer pointer: 0x19484be58a8 (aligned: true)
Created staging buffer at: 0x19484be58a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a24000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14137499619222885368), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58e8, alignment: 0
Returning buffer pointer: 0x19484be58e8 (aligned: true)
Created staging buffer at: 0x19484be58e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a57000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1722784087631991802), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2868, alignment: 0
Returning buffer pointer: 0x19484be2868 (aligned: true)
Created staging buffer at: 0x19484be2868
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a58000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10583275505878832124), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be28a8, alignment: 0
Returning buffer pointer: 0x19484be28a8 (aligned: true)
Created staging buffer at: 0x19484be28a8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1b000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15588377779840750590), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,1.0e2] to [6.4e1,-4.8e1,1.1e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2768, alignment: 0
Returning buffer pointer: 0x19484be2768 (aligned: true)
Submitting readback 418 at frame 441 (will be ready at frame 444)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [8, -56, 104] to [64, -48, 112]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2c28, alignment: 0
Returning buffer pointer: 0x19484be2c28 (aligned: true)
Created staging buffer at: 0x19484be2c28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15590738431305585667), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be29a8, alignment: 0
Returning buffer pointer: 0x19484be29a8 (aligned: true)
Created staging buffer at: 0x19484be29a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9323260469214974981), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be25a8, alignment: 0
Returning buffer pointer: 0x19484be25a8 (aligned: true)
Created staging buffer at: 0x19484be25a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a64000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3065581354751104007), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2a68, alignment: 0
Returning buffer pointer: 0x19484be2a68 (aligned: true)
Created staging buffer at: 0x19484be2a68
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4e000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14983937755145311241), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e0,-5.6e1,1.0e2] to [6.4e1,-4.8e1,1.1e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be27a8, alignment: 0
Returning buffer pointer: 0x19484be27a8 (aligned: true)
Submitting readback 419 at frame 441 (will be ready at frame 444)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.7ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 442
Processing readbacks: 3 pending, completed_frame: 442, frames_in_flight: 3
Checking readback 417: submitted frame 439, current frame 442, 3 frames elapsed (need 3)
Readback 417 ready (submitted frame 439, current frame 442)
Checking readback 418: submitted frame 441, current frame 442, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 240/512 completed
Minichunk 241/512 completed
Minichunk 242/512 completed
Minichunk 243/512 completed
Minichunk 244/512 completed
Minichunk 245/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 442
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 442, frames_in_flight: 3
Checking readback 418: submitted frame 441, current frame 442, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 17 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 6 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 0
Overall bounds: [16, -8, 104] to [64, 0, 112]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2628, alignment: 0
Returning buffer pointer: 0x19484be2628 (aligned: true)
Created staging buffer at: 0x19484be2628
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13225130368052499470), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b0e8, alignment: 0
Returning buffer pointer: 0x19484d3b0e8 (aligned: true)
Created staging buffer at: 0x19484d3b0e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3692621840955479056), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3afa8, alignment: 0
Returning buffer pointer: 0x19484d3afa8 (aligned: true)
Created staging buffer at: 0x19484d3afa8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13724638500551136274), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aea8, alignment: 0
Returning buffer pointer: 0x19484d3aea8 (aligned: true)
Created staging buffer at: 0x19484d3aea8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a14000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11549956233414841364), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [1.6e1,-8.0e0,1.0e2] to [6.4e1,0.0e0,1.1e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3b028, alignment: 0
Returning buffer pointer: 0x19484d3b028 (aligned: true)
Submitting readback 420 at frame 442 (will be ready at frame 445)
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.4ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 443
Processing readbacks: 3 pending, completed_frame: 443, frames_in_flight: 3
Checking readback 418: submitted frame 441, current frame 443, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 443
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 443, frames_in_flight: 3
Checking readback 418: submitted frame 441, current frame 443, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.6ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 444
Processing readbacks: 3 pending, completed_frame: 444, frames_in_flight: 3
Checking readback 418: submitted frame 441, current frame 444, 3 frames elapsed (need 3)
Readback 418 ready (submitted frame 441, current frame 444)
Checking readback 419: submitted frame 441, current frame 444, 3 frames elapsed (need 3)
Readback 419 ready (submitted frame 441, current frame 444)
Checking readback 420: submitted frame 442, current frame 444, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 246/512 completed
Minichunk 247/512 completed
Minichunk 248/512 completed
Minichunk 249/512 completed
Minichunk 250/512 completed
Minichunk 251/512 completed
Minichunk 252/512 completed
Minichunk 253/512 completed
Minichunk 254/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 255/512 completed
Minichunk 256/512 completed
Minichunk 257/512 completed
Minichunk 258/512 completed
Minichunk 259/512 completed
Minichunk 260/512 completed
Minichunk 261/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 444
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 444, frames_in_flight: 3
Checking readback 420: submitted frame 442, current frame 444, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 5 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 5 minichunks in workspace 1
Overall bounds: [24, -24, 104] to [64, -16, 112]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b168, alignment: 0
Returning buffer pointer: 0x19484d3b168 (aligned: true)
Created staging buffer at: 0x19484d3b168
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(90446926012486681), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b068, alignment: 0
Returning buffer pointer: 0x19484d3b068 (aligned: true)
Created staging buffer at: 0x19484d3b068
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12171179203596653595), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6c88, alignment: 0
Returning buffer pointer: 0x19484be6c88 (aligned: true)
Created staging buffer at: 0x19484be6c88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a10000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5625621556701959197), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6ac8, alignment: 0
Returning buffer pointer: 0x19484be6ac8 (aligned: true)
Created staging buffer at: 0x19484be6ac8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a50000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(901857920008852511), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [2.4e1,-2.4e1,1.0e2] to [6.4e1,-1.6e1,1.1e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be6b08, alignment: 0
Returning buffer pointer: 0x19484be6b08 (aligned: true)
Submitting readback 421 at frame 444 (will be ready at frame 447)
Successfully queued 5 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [0, -16, 96] to [64, 0, 104]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6908, alignment: 0
Returning buffer pointer: 0x19484be6908 (aligned: true)
Created staging buffer at: 0x19484be6908
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b15000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11176984297087177764), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1db8, alignment: 0
Returning buffer pointer: 0x194846e1db8 (aligned: true)
Created staging buffer at: 0x194846e1db8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b16000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6671560579926201382), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1ab8, alignment: 0
Returning buffer pointer: 0x194846e1ab8 (aligned: true)
Created staging buffer at: 0x194846e1ab8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a21000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2173034099206263848), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1af8, alignment: 0
Returning buffer pointer: 0x194846e1af8 (aligned: true)
Created staging buffer at: 0x194846e1af8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f1000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11008584195688633386), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,9.6e1] to [6.4e1,0.0e0,1.0e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e1e38, alignment: 0
Returning buffer pointer: 0x194846e1e38 (aligned: true)
Submitting readback 422 at frame 444 (will be ready at frame 447)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.9ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 445
Processing readbacks: 3 pending, completed_frame: 445, frames_in_flight: 3
Checking readback 420: submitted frame 442, current frame 445, 3 frames elapsed (need 3)
Readback 420 ready (submitted frame 442, current frame 445)
Checking readback 421: submitted frame 444, current frame 445, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 262/512 completed
Minichunk 263/512 completed
Minichunk 264/512 completed
Minichunk 265/512 completed
Minichunk 266/512 completed
Minichunk 267/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 445
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 445, frames_in_flight: 3
Checking readback 421: submitted frame 444, current frame 445, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 0
Overall bounds: [0, -32, 96] to [64, -16, 104]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3178, alignment: 0
Returning buffer pointer: 0x19484be3178 (aligned: true)
Created staging buffer at: 0x19484be3178
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a29000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7696145987827405871), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3278, alignment: 0
Returning buffer pointer: 0x19484be3278 (aligned: true)
Created staging buffer at: 0x19484be3278
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8085177390990365745), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31b8, alignment: 0
Returning buffer pointer: 0x19484be31b8 (aligned: true)
Created staging buffer at: 0x19484be31b8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9971972329602815027), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33f8, alignment: 0
Returning buffer pointer: 0x19484be33f8 (aligned: true)
Created staging buffer at: 0x19484be33f8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a17000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7280471218900177973), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,9.6e1] to [6.4e1,-1.6e1,1.0e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2d78, alignment: 0
Returning buffer pointer: 0x19484be2d78 (aligned: true)
Submitting readback 423 at frame 445 (will be ready at frame 448)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.7ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 446
Processing readbacks: 3 pending, completed_frame: 446, frames_in_flight: 3
Checking readback 421: submitted frame 444, current frame 446, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 446
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 446, frames_in_flight: 3
Checking readback 421: submitted frame 444, current frame 446, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 447
Processing readbacks: 3 pending, completed_frame: 447, frames_in_flight: 3
Checking readback 421: submitted frame 444, current frame 447, 3 frames elapsed (need 3)
Readback 421 ready (submitted frame 444, current frame 447)
Checking readback 422: submitted frame 444, current frame 447, 3 frames elapsed (need 3)
Readback 422 ready (submitted frame 444, current frame 447)
Checking readback 423: submitted frame 445, current frame 447, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (5 minichunks, 10240 bytes)
Minichunk 268/512 completed
Minichunk 269/512 completed
Minichunk 270/512 completed
Minichunk 271/512 completed
Minichunk 272/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 273/512 completed
Minichunk 274/512 completed
Minichunk 275/512 completed
Minichunk 276/512 completed
Minichunk 277/512 completed
Minichunk 278/512 completed
Minichunk 279/512 completed
Minichunk 280/512 completed
Minichunk 281/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 447
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 447, frames_in_flight: 3
Checking readback 423: submitted frame 445, current frame 447, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 1
Overall bounds: [0, -48, 96] to [64, -32, 104]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32f8, alignment: 0
Returning buffer pointer: 0x19484be32f8 (aligned: true)
Created staging buffer at: 0x19484be32f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a18000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9129017446517183546), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3378, alignment: 0
Returning buffer pointer: 0x19484be3378 (aligned: true)
Created staging buffer at: 0x19484be3378
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a15000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8939257132725834812), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2928, alignment: 0
Returning buffer pointer: 0x19484be2928 (aligned: true)
Created staging buffer at: 0x19484be2928
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8838258193621587006), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2a28, alignment: 0
Returning buffer pointer: 0x19484be2a28 (aligned: true)
Created staging buffer at: 0x19484be2a28
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a09000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8601034161882403904), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,9.6e1] to [6.4e1,-3.2e1,1.0e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2968, alignment: 0
Returning buffer pointer: 0x19484be2968 (aligned: true)
Submitting readback 424 at frame 447 (will be ready at frame 450)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 2
Overall bounds: [16, -40, 96] to [64, -32, 104]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26a8, alignment: 0
Returning buffer pointer: 0x19484be26a8 (aligned: true)
Created staging buffer at: 0x19484be26a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7950717014518010949), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2768, alignment: 0
Returning buffer pointer: 0x19484be2768 (aligned: true)
Created staging buffer at: 0x19484be2768
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(594876472557048903), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be25e8, alignment: 0
Returning buffer pointer: 0x19484be25e8 (aligned: true)
Created staging buffer at: 0x19484be25e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7001966023096144969), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27a8, alignment: 0
Returning buffer pointer: 0x19484be27a8 (aligned: true)
Created staging buffer at: 0x19484be27a8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0f000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5041050806632059979), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [1.6e1,-4.0e1,9.6e1] to [6.4e1,-3.2e1,1.0e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2728, alignment: 0
Returning buffer pointer: 0x19484be2728 (aligned: true)
Submitting readback 425 at frame 447 (will be ready at frame 450)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.3ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 448
Processing readbacks: 3 pending, completed_frame: 448, frames_in_flight: 3
Checking readback 423: submitted frame 445, current frame 448, 3 frames elapsed (need 3)
Readback 423 ready (submitted frame 445, current frame 448)
Checking readback 424: submitted frame 447, current frame 448, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 282/512 completed
Minichunk 283/512 completed
Minichunk 284/512 completed
Minichunk 285/512 completed
Minichunk 286/512 completed
Minichunk 287/512 completed
Minichunk 288/512 completed
Minichunk 289/512 completed
Minichunk 290/512 completed
Minichunk 291/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 448
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 448, frames_in_flight: 3
Checking readback 424: submitted frame 447, current frame 448, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 0
Overall bounds: [0, -32, 88] to [64, -16, 96]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d78, alignment: 0
Returning buffer pointer: 0x19484be2d78 (aligned: true)
Created staging buffer at: 0x19484be2d78
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2156399587789640784), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30f8, alignment: 0
Returning buffer pointer: 0x19484be30f8 (aligned: true)
Created staging buffer at: 0x19484be30f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10702083234818167890), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2fb8, alignment: 0
Returning buffer pointer: 0x19484be2fb8 (aligned: true)
Created staging buffer at: 0x19484be2fb8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6305028483202421844), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2df8, alignment: 0
Returning buffer pointer: 0x19484be2df8 (aligned: true)
Created staging buffer at: 0x19484be2df8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a59000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3145856698695029846), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,8.8e1] to [6.4e1,-1.6e1,9.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be3138, alignment: 0
Returning buffer pointer: 0x19484be3138 (aligned: true)
Submitting readback 426 at frame 448 (will be ready at frame 451)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.3ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 12)
DeferredReadbackManager: advanced to frame 449
Processing readbacks: 3 pending, completed_frame: 449, frames_in_flight: 3
Checking readback 424: submitted frame 447, current frame 449, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 449
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 449, frames_in_flight: 3
Checking readback 424: submitted frame 447, current frame 449, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.2ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 450
Processing readbacks: 3 pending, completed_frame: 450, frames_in_flight: 3
Checking readback 424: submitted frame 447, current frame 450, 3 frames elapsed (need 3)
Readback 424 ready (submitted frame 447, current frame 450)
Checking readback 425: submitted frame 447, current frame 450, 3 frames elapsed (need 3)
Readback 425 ready (submitted frame 447, current frame 450)
Checking readback 426: submitted frame 448, current frame 450, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 292/512 completed
Minichunk 293/512 completed
Minichunk 294/512 completed
Minichunk 295/512 completed
Minichunk 296/512 completed
Minichunk 297/512 completed
Minichunk 298/512 completed
Minichunk 299/512 completed
Minichunk 300/512 completed
Minichunk 301/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (6 minichunks, 12288 bytes)
Minichunk 302/512 completed
Minichunk 303/512 completed
Minichunk 304/512 completed
Minichunk 305/512 completed
Minichunk 306/512 completed
Minichunk 307/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 450
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 450, frames_in_flight: 3
Checking readback 426: submitted frame 448, current frame 450, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 1
Overall bounds: [0, -64, 96] to [64, -48, 104]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33b8, alignment: 0
Returning buffer pointer: 0x19484be33b8 (aligned: true)
Created staging buffer at: 0x19484be33b8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a11000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9953228954884117595), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e38, alignment: 0
Returning buffer pointer: 0x19484be2e38 (aligned: true)
Created staging buffer at: 0x19484be2e38
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a12000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2374949514042676317), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3038, alignment: 0
Returning buffer pointer: 0x19484be3038 (aligned: true)
Created staging buffer at: 0x19484be3038
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a66000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4164639983736460383), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af28, alignment: 0
Returning buffer pointer: 0x19484d3af28 (aligned: true)
Created staging buffer at: 0x19484d3af28
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a67000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12853836286468822113), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,9.6e1] to [6.4e1,-4.8e1,1.0e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3afe8, alignment: 0
Returning buffer pointer: 0x19484d3afe8 (aligned: true)
Submitting readback 427 at frame 450 (will be ready at frame 453)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [24, -56, 96] to [64, -48, 104]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b028, alignment: 0
Returning buffer pointer: 0x19484d3b028 (aligned: true)
Created staging buffer at: 0x19484d3b028
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a68000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3632970036613747814), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b0a8, alignment: 0
Returning buffer pointer: 0x19484d3b0a8 (aligned: true)
Created staging buffer at: 0x19484d3b0a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13191158757289104488), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2728, alignment: 0
Returning buffer pointer: 0x19484be2728 (aligned: true)
Created staging buffer at: 0x19484be2728
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a30000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12359595914178860138), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2828, alignment: 0
Returning buffer pointer: 0x19484be2828 (aligned: true)
Created staging buffer at: 0x19484be2828
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a31000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1075424626546316396), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [2.4e1,-5.6e1,9.6e1] to [6.4e1,-4.8e1,1.0e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2968, alignment: 0
Returning buffer pointer: 0x19484be2968 (aligned: true)
Submitting readback 428 at frame 450 (will be ready at frame 453)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.3ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 451
Processing readbacks: 3 pending, completed_frame: 451, frames_in_flight: 3
Checking readback 426: submitted frame 448, current frame 451, 3 frames elapsed (need 3)
Readback 426 ready (submitted frame 448, current frame 451)
Checking readback 427: submitted frame 450, current frame 451, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 308/512 completed
Minichunk 309/512 completed
Minichunk 310/512 completed
Minichunk 311/512 completed
Minichunk 312/512 completed
Minichunk 313/512 completed
Minichunk 314/512 completed
Minichunk 315/512 completed
Minichunk 316/512 completed
Minichunk 317/512 completed
Minichunk 318/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 451
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 451, frames_in_flight: 3
Checking readback 427: submitted frame 450, current frame 451, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 7 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 0
Overall bounds: [8, -8, 96] to [64, 0, 104]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d38, alignment: 0
Returning buffer pointer: 0x19484be2d38 (aligned: true)
Created staging buffer at: 0x19484be2d38
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a32000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12003236499035264113), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3138, alignment: 0
Returning buffer pointer: 0x19484be3138 (aligned: true)
Created staging buffer at: 0x19484be3138
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a54000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15648410015205692531), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32b8, alignment: 0
Returning buffer pointer: 0x19484be32b8 (aligned: true)
Created staging buffer at: 0x19484be32b8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1171969444046443637), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e78, alignment: 0
Returning buffer pointer: 0x19484be2e78 (aligned: true)
Created staging buffer at: 0x19484be2e78
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5a000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11437663110870078583), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e0,-8.0e0,9.6e1] to [6.4e1,0.0e0,1.0e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2ef8, alignment: 0
Returning buffer pointer: 0x19484be2ef8 (aligned: true)
Submitting readback 429 at frame 451 (will be ready at frame 454)
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.3ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 12)
DeferredReadbackManager: advanced to frame 452
Processing readbacks: 3 pending, completed_frame: 452, frames_in_flight: 3
Checking readback 427: submitted frame 450, current frame 452, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 452
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 452, frames_in_flight: 3
Checking readback 427: submitted frame 450, current frame 452, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.3ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 453
Processing readbacks: 3 pending, completed_frame: 453, frames_in_flight: 3
Checking readback 427: submitted frame 450, current frame 453, 3 frames elapsed (need 3)
Readback 427 ready (submitted frame 450, current frame 453)
Checking readback 428: submitted frame 450, current frame 453, 3 frames elapsed (need 3)
Readback 428 ready (submitted frame 450, current frame 453)
Checking readback 429: submitted frame 451, current frame 453, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (11 minichunks, 22528 bytes)
Minichunk 319/512 completed
Minichunk 320/512 completed
Minichunk 321/512 completed
Minichunk 322/512 completed
Minichunk 323/512 completed
Minichunk 324/512 completed
Minichunk 325/512 completed
Minichunk 326/512 completed
Minichunk 327/512 completed
Minichunk 328/512 completed
Minichunk 329/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 330/512 completed
Minichunk 331/512 completed
Minichunk 332/512 completed
Minichunk 333/512 completed
Minichunk 334/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 453
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 453, frames_in_flight: 3
Checking readback 429: submitted frame 451, current frame 453, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 6 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 1
Overall bounds: [16, -24, 96] to [64, -16, 104]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3338, alignment: 0
Returning buffer pointer: 0x19484be3338 (aligned: true)
Created staging buffer at: 0x19484be3338
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15506698359548155004), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2f38, alignment: 0
Returning buffer pointer: 0x19484be2f38 (aligned: true)
Created staging buffer at: 0x19484be2f38
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16421687746927531134), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3078, alignment: 0
Returning buffer pointer: 0x19484be3078 (aligned: true)
Created staging buffer at: 0x19484be3078
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b17000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10092496396193109120), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1d78, alignment: 0
Returning buffer pointer: 0x194846e1d78 (aligned: true)
Created staging buffer at: 0x194846e1d78
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a22000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17118465857635226754), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [1.6e1,-2.4e1,9.6e1] to [6.4e1,-1.6e1,1.0e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e1e38, alignment: 0
Returning buffer pointer: 0x194846e1e38 (aligned: true)
Submitting readback 430 at frame 453 (will be ready at frame 456)
Successfully queued 6 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 5 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [24, -24, 88] to [64, -16, 96]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e20b8, alignment: 0
Returning buffer pointer: 0x194846e20b8 (aligned: true)
Created staging buffer at: 0x194846e20b8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17656554753640895623), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e2138, alignment: 0
Returning buffer pointer: 0x194846e2138 (aligned: true)
Created staging buffer at: 0x194846e2138
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a41000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17411260306553836681), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e20f8, alignment: 0
Returning buffer pointer: 0x194846e20f8 (aligned: true)
Created staging buffer at: 0x194846e20f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a42000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17931973620305761419), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b1a8, alignment: 0
Returning buffer pointer: 0x19484d3b1a8 (aligned: true)
Created staging buffer at: 0x19484d3b1a8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a63000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14108885928621642893), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [2.4e1,-2.4e1,8.8e1] to [6.4e1,-1.6e1,9.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3af68, alignment: 0
Returning buffer pointer: 0x19484d3af68 (aligned: true)
Submitting readback 431 at frame 453 (will be ready at frame 456)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.0ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 454
Processing readbacks: 3 pending, completed_frame: 454, frames_in_flight: 3
Checking readback 429: submitted frame 451, current frame 454, 3 frames elapsed (need 3)
Readback 429 ready (submitted frame 451, current frame 454)
Checking readback 430: submitted frame 453, current frame 454, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 335/512 completed
Minichunk 336/512 completed
Minichunk 337/512 completed
Minichunk 338/512 completed
Minichunk 339/512 completed
Minichunk 340/512 completed
Minichunk 341/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 454
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 454, frames_in_flight: 3
Checking readback 430: submitted frame 453, current frame 454, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 12 minichunks in workspace 0
Overall bounds: [0, -48, 88] to [64, -32, 96]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5768, alignment: 0
Returning buffer pointer: 0x19484be5768 (aligned: true)
Created staging buffer at: 0x19484be5768
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a38000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16412016442649613458), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d68, alignment: 0
Returning buffer pointer: 0x19484be5d68 (aligned: true)
Created staging buffer at: 0x19484be5d68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b18000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1020394069576127636), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5868, alignment: 0
Returning buffer pointer: 0x19484be5868 (aligned: true)
Created staging buffer at: 0x19484be5868
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a08000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17039255940458615958), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59e8, alignment: 0
Returning buffer pointer: 0x19484be59e8 (aligned: true)
Created staging buffer at: 0x19484be59e8
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b12000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15365972965820732568), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,8.8e1] to [6.4e1,-3.2e1,9.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5de8, alignment: 0
Returning buffer pointer: 0x19484be5de8 (aligned: true)
Submitting readback 432 at frame 454 (will be ready at frame 457)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 4 remaining minichunks from batch
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.1ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 13)
DeferredReadbackManager: advanced to frame 455
Processing readbacks: 3 pending, completed_frame: 455, frames_in_flight: 3
Checking readback 430: submitted frame 453, current frame 455, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 455
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 455, frames_in_flight: 3
Checking readback 430: submitted frame 453, current frame 455, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.1ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 4)
DeferredReadbackManager: advanced to frame 456
Processing readbacks: 3 pending, completed_frame: 456, frames_in_flight: 3
Checking readback 430: submitted frame 453, current frame 456, 3 frames elapsed (need 3)
Readback 430 ready (submitted frame 453, current frame 456)
Checking readback 431: submitted frame 453, current frame 456, 3 frames elapsed (need 3)
Readback 431 ready (submitted frame 453, current frame 456)
Checking readback 432: submitted frame 454, current frame 456, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 342/512 completed
Minichunk 343/512 completed
Minichunk 344/512 completed
Minichunk 345/512 completed
Minichunk 346/512 completed
Minichunk 347/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 348/512 completed
Minichunk 349/512 completed
Minichunk 350/512 completed
Minichunk 351/512 completed
Minichunk 352/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 456
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 456, frames_in_flight: 3
Checking readback 432: submitted frame 454, current frame 456, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 12 minichunks in workspace 1
Overall bounds: [0, -64, 88] to [64, -48, 96]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a68, alignment: 0
Returning buffer pointer: 0x19484be5a68 (aligned: true)
Created staging buffer at: 0x19484be5a68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a36000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2127741916723287197), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d28, alignment: 0
Returning buffer pointer: 0x19484be5d28 (aligned: true)
Created staging buffer at: 0x19484be5d28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f0000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11456453764588770463), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ba8, alignment: 0
Returning buffer pointer: 0x19484be5ba8 (aligned: true)
Created staging buffer at: 0x19484be5ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a33000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14099158549250708641), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57e8, alignment: 0
Returning buffer pointer: 0x19484be57e8 (aligned: true)
Created staging buffer at: 0x19484be57e8
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4b000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2828264964035187875), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,8.8e1] to [6.4e1,-4.8e1,9.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5be8, alignment: 0
Returning buffer pointer: 0x19484be5be8 (aligned: true)
Submitting readback 433 at frame 456 (will be ready at frame 459)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 2
Overall bounds: [32, -56, 88] to [64, -48, 96]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c28, alignment: 0
Returning buffer pointer: 0x19484be5c28 (aligned: true)
Created staging buffer at: 0x19484be5c28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a23000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9820265013737165992), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3ae68, alignment: 0
Returning buffer pointer: 0x19484d3ae68 (aligned: true)
Created staging buffer at: 0x19484d3ae68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3627039270893524138), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af68, alignment: 0
Returning buffer pointer: 0x19484d3af68 (aligned: true)
Created staging buffer at: 0x19484d3af68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3827060227195278508), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3afe8, alignment: 0
Returning buffer pointer: 0x19484d3afe8 (aligned: true)
Created staging buffer at: 0x19484d3afe8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a25000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9549583942676386990), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [3.2e1,-5.6e1,8.8e1] to [6.4e1,-4.8e1,9.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3aee8, alignment: 0
Returning buffer pointer: 0x19484d3aee8 (aligned: true)
Submitting readback 434 at frame 456 (will be ready at frame 459)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.9ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 16)
DeferredReadbackManager: advanced to frame 457
Processing readbacks: 3 pending, completed_frame: 457, frames_in_flight: 3
Checking readback 432: submitted frame 454, current frame 457, 3 frames elapsed (need 3)
Readback 432 ready (submitted frame 454, current frame 457)
Checking readback 433: submitted frame 456, current frame 457, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (12 minichunks, 24576 bytes)
Minichunk 353/512 completed
Minichunk 354/512 completed
Minichunk 355/512 completed
Minichunk 356/512 completed
Minichunk 357/512 completed
Minichunk 358/512 completed
Minichunk 359/512 completed
Minichunk 360/512 completed
Minichunk 361/512 completed
Minichunk 362/512 completed
Minichunk 363/512 completed
Minichunk 364/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 457
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 457, frames_in_flight: 3
Checking readback 433: submitted frame 456, current frame 457, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 13 minichunks in workspace 0
Overall bounds: [0, -16, 80] to [64, 0, 88]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a28, alignment: 0
Returning buffer pointer: 0x19484be5a28 (aligned: true)
Created staging buffer at: 0x19484be5a28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a26000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4331922981321184435), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c68, alignment: 0
Returning buffer pointer: 0x19484be5c68 (aligned: true)
Created staging buffer at: 0x19484be5c68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4866679257583064245), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ce8, alignment: 0
Returning buffer pointer: 0x19484be5ce8 (aligned: true)
Created staging buffer at: 0x19484be5ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a13000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13214257297565422775), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 832, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5de8, alignment: 0
Returning buffer pointer: 0x19484be5de8 (aligned: true)
Created staging buffer at: 0x19484be5de8
Staging buffer cast successful
About to map memory for staging buffer - size: 832
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a19000
About to memcpy 832 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3511944592721188025), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,8.0e1] to [6.4e1,0.0e0,8.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 13
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=13 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=13, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5e28, alignment: 0
Returning buffer pointer: 0x19484be5e28 (aligned: true)
Submitting readback 435 at frame 457 (will be ready at frame 460)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 13 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.7ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 10)
DeferredReadbackManager: advanced to frame 458
Processing readbacks: 3 pending, completed_frame: 458, frames_in_flight: 3
Checking readback 433: submitted frame 456, current frame 458, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 458
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 458, frames_in_flight: 3
Checking readback 433: submitted frame 456, current frame 458, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.7ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 459
Processing readbacks: 3 pending, completed_frame: 459, frames_in_flight: 3
Checking readback 433: submitted frame 456, current frame 459, 3 frames elapsed (need 3)
Readback 433 ready (submitted frame 456, current frame 459)
Checking readback 434: submitted frame 456, current frame 459, 3 frames elapsed (need 3)
Readback 434 ready (submitted frame 456, current frame 459)
Checking readback 435: submitted frame 457, current frame 459, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (12 minichunks, 24576 bytes)
Minichunk 365/512 completed
Minichunk 366/512 completed
Minichunk 367/512 completed
Minichunk 368/512 completed
Minichunk 369/512 completed
Minichunk 370/512 completed
Minichunk 371/512 completed
Minichunk 372/512 completed
Minichunk 373/512 completed
Minichunk 374/512 completed
Minichunk 375/512 completed
Minichunk 376/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (4 minichunks, 8192 bytes)
Minichunk 377/512 completed
Minichunk 378/512 completed
Minichunk 379/512 completed
Minichunk 380/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 459
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 459, frames_in_flight: 3
Checking readback 435: submitted frame 457, current frame 459, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 1
Overall bounds: [0, -32, 80] to [64, -16, 88]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57a8, alignment: 0
Returning buffer pointer: 0x19484be57a8 (aligned: true)
Created staging buffer at: 0x19484be57a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5779314590567371966), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59a8, alignment: 0
Returning buffer pointer: 0x19484be59a8 (aligned: true)
Created staging buffer at: 0x19484be59a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a34000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12249225837471077568), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5be8, alignment: 0
Returning buffer pointer: 0x19484be5be8 (aligned: true)
Created staging buffer at: 0x19484be5be8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1b000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(479435448221963458), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30b8, alignment: 0
Returning buffer pointer: 0x19484be30b8 (aligned: true)
Created staging buffer at: 0x19484be30b8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a20000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6660570961206580420), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,8.0e1] to [6.4e1,-1.6e1,8.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be3478, alignment: 0
Returning buffer pointer: 0x19484be3478 (aligned: true)
Submitting readback 436 at frame 459 (will be ready at frame 462)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [24, -24, 80] to [64, -16, 88]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ff8, alignment: 0
Returning buffer pointer: 0x19484be2ff8 (aligned: true)
Created staging buffer at: 0x19484be2ff8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a40000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4929047955157030089), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2eb8, alignment: 0
Returning buffer pointer: 0x19484be2eb8 (aligned: true)
Created staging buffer at: 0x19484be2eb8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1661245521336997067), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2db8, alignment: 0
Returning buffer pointer: 0x19484be2db8 (aligned: true)
Created staging buffer at: 0x19484be2db8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a39000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10561803143299994829), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ef8, alignment: 0
Returning buffer pointer: 0x19484be2ef8 (aligned: true)
Created staging buffer at: 0x19484be2ef8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a53000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5321796807133500623), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [2.4e1,-2.4e1,8.0e1] to [6.4e1,-1.6e1,8.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194262435e8, alignment: 0
Returning buffer pointer: 0x194262435e8 (aligned: true)
Submitting readback 437 at frame 459 (will be ready at frame 462)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.1ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 460
Processing readbacks: 3 pending, completed_frame: 460, frames_in_flight: 3
Checking readback 435: submitted frame 457, current frame 460, 3 frames elapsed (need 3)
Readback 435 ready (submitted frame 457, current frame 460)
Checking readback 436: submitted frame 459, current frame 460, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (13 minichunks, 26624 bytes)
Minichunk 381/512 completed
Minichunk 382/512 completed
Minichunk 383/512 completed
Minichunk 384/512 completed
Minichunk 385/512 completed
Minichunk 386/512 completed
Minichunk 387/512 completed
Minichunk 388/512 completed
Minichunk 389/512 completed
Minichunk 390/512 completed
Minichunk 391/512 completed
Minichunk 392/512 completed
Minichunk 393/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 460
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 460, frames_in_flight: 3
Checking readback 436: submitted frame 459, current frame 460, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 8 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 4 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 0
Overall bounds: [32, -40, 88] to [64, -32, 96]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194262436a8, alignment: 0
Returning buffer pointer: 0x194262436a8 (aligned: true)
Created staging buffer at: 0x194262436a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a62000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7612043243907192020), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194262436e8, alignment: 0
Returning buffer pointer: 0x194262436e8 (aligned: true)
Created staging buffer at: 0x194262436e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9320721696866440406), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dc88, alignment: 0
Returning buffer pointer: 0x1948419dc88 (aligned: true)
Created staging buffer at: 0x1948419dc88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8813162940229227736), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dcc8, alignment: 0
Returning buffer pointer: 0x1948419dcc8 (aligned: true)
Created staging buffer at: 0x1948419dcc8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a27000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9197659957439239386), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [3.2e1,-4.0e1,8.8e1] to [6.4e1,-3.2e1,9.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419de88, alignment: 0
Returning buffer pointer: 0x1948419de88 (aligned: true)
Submitting readback 438 at frame 460 (will be ready at frame 463)
Successfully queued 4 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.4ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 14)
DeferredReadbackManager: advanced to frame 461
Processing readbacks: 3 pending, completed_frame: 461, frames_in_flight: 3
Checking readback 436: submitted frame 459, current frame 461, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 461
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 461, frames_in_flight: 3
Checking readback 436: submitted frame 459, current frame 461, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.5ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 4)
DeferredReadbackManager: advanced to frame 462
Processing readbacks: 3 pending, completed_frame: 462, frames_in_flight: 3
Checking readback 436: submitted frame 459, current frame 462, 3 frames elapsed (need 3)
Readback 436 ready (submitted frame 459, current frame 462)
Checking readback 437: submitted frame 459, current frame 462, 3 frames elapsed (need 3)
Readback 437 ready (submitted frame 459, current frame 462)
Checking readback 438: submitted frame 460, current frame 462, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (11 minichunks, 22528 bytes)
Minichunk 394/512 completed
Minichunk 395/512 completed
Minichunk 396/512 completed
Minichunk 397/512 completed
Minichunk 398/512 completed
Minichunk 399/512 completed
Minichunk 400/512 completed
Minichunk 401/512 completed
Minichunk 402/512 completed
Minichunk 403/512 completed
Minichunk 404/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 405/512 completed
Minichunk 406/512 completed
Minichunk 407/512 completed
Minichunk 408/512 completed
Minichunk 409/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 462
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 462, frames_in_flight: 3
Checking readback 438: submitted frame 460, current frame 462, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 12 minichunks in workspace 1
Overall bounds: [0, -48, 80] to [64, -32, 88]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419de08, alignment: 0
Returning buffer pointer: 0x1948419de08 (aligned: true)
Created staging buffer at: 0x1948419de08
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a28000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8588155582186263775), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419ddc8, alignment: 0
Returning buffer pointer: 0x1948419ddc8 (aligned: true)
Created staging buffer at: 0x1948419ddc8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8426661513321780449), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dec8, alignment: 0
Returning buffer pointer: 0x1948419dec8 (aligned: true)
Created staging buffer at: 0x1948419dec8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a51000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5636331899468125411), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df48, alignment: 0
Returning buffer pointer: 0x1948419df48 (aligned: true)
Created staging buffer at: 0x1948419df48
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a52000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7017233841559442661), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,8.0e1] to [6.4e1,-3.2e1,8.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5da8, alignment: 0
Returning buffer pointer: 0x19484be5da8 (aligned: true)
Submitting readback 439 at frame 462 (will be ready at frame 465)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 2
Overall bounds: [32, -40, 80] to [64, -32, 88]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e28, alignment: 0
Returning buffer pointer: 0x19484be5e28 (aligned: true)
Created staging buffer at: 0x19484be5e28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(106843942917510378), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e68, alignment: 0
Returning buffer pointer: 0x19484be5e68 (aligned: true)
Created staging buffer at: 0x19484be5e68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a37000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6389534747890029804), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5aa8, alignment: 0
Returning buffer pointer: 0x19484be5aa8 (aligned: true)
Created staging buffer at: 0x19484be5aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6901258454573257966), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5728, alignment: 0
Returning buffer pointer: 0x19484be5728 (aligned: true)
Created staging buffer at: 0x19484be5728
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5d000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2078494790915200240), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [3.2e1,-4.0e1,8.0e1] to [6.4e1,-3.2e1,8.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5968, alignment: 0
Returning buffer pointer: 0x19484be5968 (aligned: true)
Submitting readback 440 at frame 462 (will be ready at frame 465)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.9ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 16)
DeferredReadbackManager: advanced to frame 463
Processing readbacks: 3 pending, completed_frame: 463, frames_in_flight: 3
Checking readback 438: submitted frame 460, current frame 463, 3 frames elapsed (need 3)
Readback 438 ready (submitted frame 460, current frame 463)
Checking readback 439: submitted frame 462, current frame 463, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (4 minichunks, 8192 bytes)
Minichunk 410/512 completed
Minichunk 411/512 completed
Minichunk 412/512 completed
Minichunk 413/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 463
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 463, frames_in_flight: 3
Checking readback 439: submitted frame 462, current frame 463, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 3 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 0
Overall bounds: [40, -8, 80] to [64, 0, 88]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ae8, alignment: 0
Returning buffer pointer: 0x19484be5ae8 (aligned: true)
Created staging buffer at: 0x19484be5ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b13000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12308382861580309749), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26e8, alignment: 0
Returning buffer pointer: 0x19484be26e8 (aligned: true)
Created staging buffer at: 0x19484be26e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5484886267369886967), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be28e8, alignment: 0
Returning buffer pointer: 0x19484be28e8 (aligned: true)
Created staging buffer at: 0x19484be28e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b19000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3279936644144174329), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2528, alignment: 0
Returning buffer pointer: 0x19484be2528 (aligned: true)
Created staging buffer at: 0x19484be2528
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a16000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10030465248688870651), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.0e1,-8.0e0,8.0e1] to [6.4e1,0.0e0,8.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2568, alignment: 0
Returning buffer pointer: 0x19484be2568 (aligned: true)
Submitting readback 441 at frame 463 (will be ready at frame 466)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.4ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 9)
DeferredReadbackManager: advanced to frame 464
Processing readbacks: 3 pending, completed_frame: 464, frames_in_flight: 3
Checking readback 439: submitted frame 462, current frame 464, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 464
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 464, frames_in_flight: 3
Checking readback 439: submitted frame 462, current frame 464, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 5 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.3ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 465
Processing readbacks: 3 pending, completed_frame: 465, frames_in_flight: 3
Checking readback 439: submitted frame 462, current frame 465, 3 frames elapsed (need 3)
Readback 439 ready (submitted frame 462, current frame 465)
Checking readback 440: submitted frame 462, current frame 465, 3 frames elapsed (need 3)
Readback 440 ready (submitted frame 462, current frame 465)
Checking readback 441: submitted frame 463, current frame 465, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (12 minichunks, 24576 bytes)
Minichunk 414/512 completed
Minichunk 415/512 completed
Minichunk 416/512 completed
Minichunk 417/512 completed
Minichunk 418/512 completed
Minichunk 419/512 completed
Minichunk 420/512 completed
Minichunk 421/512 completed
Minichunk 422/512 completed
Minichunk 423/512 completed
Minichunk 424/512 completed
Minichunk 425/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (4 minichunks, 8192 bytes)
Minichunk 426/512 completed
Minichunk 427/512 completed
Minichunk 428/512 completed
Minichunk 429/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 465
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 465, frames_in_flight: 3
Checking readback 441: submitted frame 463, current frame 465, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 5 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 1
Overall bounds: [0, -32, 72] to [64, -16, 80]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27e8, alignment: 0
Returning buffer pointer: 0x19484be27e8 (aligned: true)
Created staging buffer at: 0x19484be27e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4218249971683562752), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2968, alignment: 0
Returning buffer pointer: 0x19484be2968 (aligned: true)
Created staging buffer at: 0x19484be2968
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4603110927242368258), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ae8, alignment: 0
Returning buffer pointer: 0x19484be2ae8 (aligned: true)
Created staging buffer at: 0x19484be2ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a35000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13456437927722620164), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2b68, alignment: 0
Returning buffer pointer: 0x19484be2b68 (aligned: true)
Created staging buffer at: 0x19484be2b68
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2c000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2699640795283068166), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,7.2e1] to [6.4e1,-1.6e1,8.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dd08, alignment: 0
Returning buffer pointer: 0x1948419dd08 (aligned: true)
Submitting readback 442 at frame 465 (will be ready at frame 468)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [24, -24, 72] to [64, -16, 80]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df88, alignment: 0
Returning buffer pointer: 0x1948419df88 (aligned: true)
Created staging buffer at: 0x1948419df88
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b14000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14879770023529813259), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd88, alignment: 0
Returning buffer pointer: 0x1948419dd88 (aligned: true)
Created staging buffer at: 0x1948419dd88
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12512510493811807501), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419de88, alignment: 0
Returning buffer pointer: 0x1948419de88 (aligned: true)
Created staging buffer at: 0x1948419de88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1f000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(797994753114248463), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df08, alignment: 0
Returning buffer pointer: 0x1948419df08 (aligned: true)
Created staging buffer at: 0x1948419df08
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a65000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15536145479963251985), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [2.4e1,-2.4e1,7.2e1] to [6.4e1,-1.6e1,8.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dfc8, alignment: 0
Returning buffer pointer: 0x1948419dfc8 (aligned: true)
Submitting readback 443 at frame 465 (will be ready at frame 468)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.7ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 466
Processing readbacks: 3 pending, completed_frame: 466, frames_in_flight: 3
Checking readback 441: submitted frame 463, current frame 466, 3 frames elapsed (need 3)
Readback 441 ready (submitted frame 463, current frame 466)
Checking readback 442: submitted frame 465, current frame 466, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 430/512 completed
Minichunk 431/512 completed
Minichunk 432/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 466
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 466, frames_in_flight: 3
Checking readback 442: submitted frame 465, current frame 466, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 12 minichunks in workspace 0
Overall bounds: [0, -64, 80] to [64, -48, 88]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58a8, alignment: 0
Returning buffer pointer: 0x19484be58a8 (aligned: true)
Created staging buffer at: 0x19484be58a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a49000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15997662187187344662), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5b28, alignment: 0
Returning buffer pointer: 0x19484be5b28 (aligned: true)
Created staging buffer at: 0x19484be5b28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1773682679904998680), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ca8, alignment: 0
Returning buffer pointer: 0x19484be5ca8 (aligned: true)
Created staging buffer at: 0x19484be5ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a24000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16236849946693735706), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5da8, alignment: 0
Returning buffer pointer: 0x19484be5da8 (aligned: true)
Created staging buffer at: 0x19484be5da8
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4a000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14253442020860237084), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,8.0e1] to [6.4e1,-4.8e1,8.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5968, alignment: 0
Returning buffer pointer: 0x19484be5968 (aligned: true)
Submitting readback 444 at frame 466 (will be ready at frame 469)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 4 remaining minichunks from batch
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.4ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 10)
DeferredReadbackManager: advanced to frame 467
Processing readbacks: 3 pending, completed_frame: 467, frames_in_flight: 3
Checking readback 442: submitted frame 465, current frame 467, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 467
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 467, frames_in_flight: 3
Checking readback 442: submitted frame 465, current frame 467, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.5ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 468
Processing readbacks: 3 pending, completed_frame: 468, frames_in_flight: 3
Checking readback 442: submitted frame 465, current frame 468, 3 frames elapsed (need 3)
Readback 442 ready (submitted frame 465, current frame 468)
Checking readback 443: submitted frame 465, current frame 468, 3 frames elapsed (need 3)
Readback 443 ready (submitted frame 465, current frame 468)
Checking readback 444: submitted frame 466, current frame 468, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (11 minichunks, 22528 bytes)
Minichunk 433/512 completed
Minichunk 434/512 completed
Minichunk 435/512 completed
Minichunk 436/512 completed
Minichunk 437/512 completed
Minichunk 438/512 completed
Minichunk 439/512 completed
Minichunk 440/512 completed
Minichunk 441/512 completed
Minichunk 442/512 completed
Minichunk 443/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 444/512 completed
Minichunk 445/512 completed
Minichunk 446/512 completed
Minichunk 447/512 completed
Minichunk 448/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 468
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 468, frames_in_flight: 3
Checking readback 444: submitted frame 466, current frame 468, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 1
Overall bounds: [0, -48, 72] to [64, -32, 80]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58e8, alignment: 0
Returning buffer pointer: 0x19484be58e8 (aligned: true)
Created staging buffer at: 0x19484be58e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a55000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16845656132063073569), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2c28, alignment: 0
Returning buffer pointer: 0x19484be2c28 (aligned: true)
Created staging buffer at: 0x19484be2c28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a69000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17650021455548650787), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be25a8, alignment: 0
Returning buffer pointer: 0x19484be25a8 (aligned: true)
Created staging buffer at: 0x19484be25a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17850851652408448293), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2868, alignment: 0
Returning buffer pointer: 0x19484be2868 (aligned: true)
Created staging buffer at: 0x19484be2868
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1b000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18015547499133015335), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,7.2e1] to [6.4e1,-3.2e1,8.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be28a8, alignment: 0
Returning buffer pointer: 0x19484be28a8 (aligned: true)
Submitting readback 445 at frame 468 (will be ready at frame 471)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 2
Overall bounds: [16, -40, 72] to [64, -32, 80]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be29a8, alignment: 0
Returning buffer pointer: 0x19484be29a8 (aligned: true)
Created staging buffer at: 0x19484be29a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a64000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18047038611664147756), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2568, alignment: 0
Returning buffer pointer: 0x19484be2568 (aligned: true)
Created staging buffer at: 0x19484be2568
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16229411750531831086), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2a68, alignment: 0
Returning buffer pointer: 0x19484be2a68 (aligned: true)
Created staging buffer at: 0x19484be2a68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a48000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14546637791522985264), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2668, alignment: 0
Returning buffer pointer: 0x19484be2668 (aligned: true)
Created staging buffer at: 0x19484be2668
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a6a000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17498270159217890610), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [1.6e1,-4.0e1,7.2e1] to [6.4e1,-3.2e1,8.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dd08, alignment: 0
Returning buffer pointer: 0x1948419dd08 (aligned: true)
Submitting readback 446 at frame 468 (will be ready at frame 471)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.7ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 469
Processing readbacks: 3 pending, completed_frame: 469, frames_in_flight: 3
Checking readback 444: submitted frame 466, current frame 469, 3 frames elapsed (need 3)
Readback 444 ready (submitted frame 466, current frame 469)
Checking readback 445: submitted frame 468, current frame 469, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (12 minichunks, 24576 bytes)
Minichunk 449/512 completed
Minichunk 450/512 completed
Minichunk 451/512 completed
Minichunk 452/512 completed
Minichunk 453/512 completed
Minichunk 454/512 completed
Minichunk 455/512 completed
Minichunk 456/512 completed
Minichunk 457/512 completed
Minichunk 458/512 completed
Minichunk 459/512 completed
Minichunk 460/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 469
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 469, frames_in_flight: 3
Checking readback 445: submitted frame 468, current frame 469, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 0
Overall bounds: [0, -64, 72] to [64, -48, 80]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd48, alignment: 0
Returning buffer pointer: 0x1948419dd48 (aligned: true)
Created staging buffer at: 0x1948419dd48
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1346546601769833783), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3afa8, alignment: 0
Returning buffer pointer: 0x19484d3afa8 (aligned: true)
Created staging buffer at: 0x19484d3afa8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a14000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15511628569687102777), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b0e8, alignment: 0
Returning buffer pointer: 0x19484d3b0e8 (aligned: true)
Created staging buffer at: 0x19484d3b0e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16454642309435233595), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b068, alignment: 0
Returning buffer pointer: 0x19484d3b068 (aligned: true)
Created staging buffer at: 0x19484d3b068
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0e000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2203293758714287421), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,7.2e1] to [6.4e1,-4.8e1,8.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3b128, alignment: 0
Returning buffer pointer: 0x19484d3b128 (aligned: true)
Submitting readback 447 at frame 469 (will be ready at frame 472)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.4ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 470
Processing readbacks: 3 pending, completed_frame: 470, frames_in_flight: 3
Checking readback 445: submitted frame 468, current frame 470, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 470
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 470, frames_in_flight: 3
Checking readback 445: submitted frame 468, current frame 470, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.1ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 471
Processing readbacks: 3 pending, completed_frame: 471, frames_in_flight: 3
Checking readback 445: submitted frame 468, current frame 471, 3 frames elapsed (need 3)
Readback 445 ready (submitted frame 468, current frame 471)
Checking readback 446: submitted frame 468, current frame 471, 3 frames elapsed (need 3)
Readback 446 ready (submitted frame 468, current frame 471)
Checking readback 447: submitted frame 469, current frame 471, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 461/512 completed
Minichunk 462/512 completed
Minichunk 463/512 completed
Minichunk 464/512 completed
Minichunk 465/512 completed
Minichunk 466/512 completed
Minichunk 467/512 completed
Minichunk 468/512 completed
Minichunk 469/512 completed
Minichunk 470/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (6 minichunks, 12288 bytes)
Minichunk 471/512 completed
Minichunk 472/512 completed
Minichunk 473/512 completed
Minichunk 474/512 completed
Minichunk 475/512 completed
Minichunk 476/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 471
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 471, frames_in_flight: 3
Checking readback 447: submitted frame 469, current frame 471, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 1
Overall bounds: [0, -32, 64] to [64, -16, 72]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b168, alignment: 0
Returning buffer pointer: 0x19484d3b168 (aligned: true)
Created staging buffer at: 0x19484d3b168
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11897326041489741122), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aea8, alignment: 0
Returning buffer pointer: 0x19484d3aea8 (aligned: true)
Created staging buffer at: 0x19484d3aea8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a50000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14520340771921466692), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6e08, alignment: 0
Returning buffer pointer: 0x19484be6e08 (aligned: true)
Created staging buffer at: 0x19484be6e08
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a10000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1167785802302756166), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6908, alignment: 0
Returning buffer pointer: 0x19484be6908 (aligned: true)
Created staging buffer at: 0x19484be6908
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3a000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12645880154749408584), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,6.4e1] to [6.4e1,-1.6e1,7.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be6ac8, alignment: 0
Returning buffer pointer: 0x19484be6ac8 (aligned: true)
Submitting readback 448 at frame 471 (will be ready at frame 474)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 2
Overall bounds: [16, -24, 64] to [64, -16, 72]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6b08, alignment: 0
Returning buffer pointer: 0x19484be6b08 (aligned: true)
Created staging buffer at: 0x19484be6b08
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b15000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3992331118501172557), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6c88, alignment: 0
Returning buffer pointer: 0x19484be6c88 (aligned: true)
Created staging buffer at: 0x19484be6c88
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b16000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2574174423925921103), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1ab8, alignment: 0
Returning buffer pointer: 0x194846e1ab8 (aligned: true)
Created staging buffer at: 0x194846e1ab8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13614724721168880977), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1af8, alignment: 0
Returning buffer pointer: 0x194846e1af8 (aligned: true)
Created staging buffer at: 0x194846e1af8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f6000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4407839861172606291), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [1.6e1,-2.4e1,6.4e1] to [6.4e1,-1.6e1,7.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e1db8, alignment: 0
Returning buffer pointer: 0x194846e1db8 (aligned: true)
Submitting readback 449 at frame 471 (will be ready at frame 474)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.2ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 472
Processing readbacks: 3 pending, completed_frame: 472, frames_in_flight: 3
Checking readback 447: submitted frame 469, current frame 472, 3 frames elapsed (need 3)
Readback 447 ready (submitted frame 469, current frame 472)
Checking readback 448: submitted frame 471, current frame 472, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 477/512 completed
Minichunk 478/512 completed
Minichunk 479/512 completed
Minichunk 480/512 completed
Minichunk 481/512 completed
Minichunk 482/512 completed
Minichunk 483/512 completed
Minichunk 484/512 completed
Minichunk 485/512 completed
Minichunk 486/512 completed
Minichunk 487/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 472
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0, Pitch: 0.0, Roll: -45.0]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 472, frames_in_flight: 3
Checking readback 448: submitted frame 471, current frame 472, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 4 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 0
Overall bounds: [32, -56, 80] to [64, -48, 88]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1e38, alignment: 0
Returning buffer pointer: 0x194846e1e38 (aligned: true)
Created staging buffer at: 0x194846e1e38
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3864968089586111832), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3178, alignment: 0
Returning buffer pointer: 0x19484be3178 (aligned: true)
Created staging buffer at: 0x19484be3178
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a21000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12832200096657446234), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31b8, alignment: 0
Returning buffer pointer: 0x19484be31b8 (aligned: true)
Created staging buffer at: 0x19484be31b8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a61000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2926957127744361820), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31f8, alignment: 0
Returning buffer pointer: 0x19484be31f8 (aligned: true)
Created staging buffer at: 0x19484be31f8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a29000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4839018843563103582), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [3.2e1,-5.6e1,8.0e1] to [6.4e1,-4.8e1,8.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be3278, alignment: 0
Returning buffer pointer: 0x19484be3278 (aligned: true)
Submitting readback 450 at frame 472 (will be ready at frame 475)
Successfully queued 4 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.3ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 13)
DeferredReadbackManager: advanced to frame 473
Processing readbacks: 3 pending, completed_frame: 473, frames_in_flight: 3
Checking readback 448: submitted frame 471, current frame 473, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 473
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 473, frames_in_flight: 3
Checking readback 448: submitted frame 471, current frame 473, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 30.1ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 474
Processing readbacks: 3 pending, completed_frame: 474, frames_in_flight: 3
Checking readback 448: submitted frame 471, current frame 474, 3 frames elapsed (need 3)
Readback 448 ready (submitted frame 471, current frame 474)
Checking readback 449: submitted frame 471, current frame 474, 3 frames elapsed (need 3)
Readback 449 ready (submitted frame 471, current frame 474)
Checking readback 450: submitted frame 472, current frame 474, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 488/512 completed
Minichunk 489/512 completed
Minichunk 490/512 completed
Minichunk 491/512 completed
Minichunk 492/512 completed
Minichunk 493/512 completed
Minichunk 494/512 completed
Minichunk 495/512 completed
Minichunk 496/512 completed
Minichunk 497/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (6 minichunks, 12288 bytes)
Minichunk 498/512 completed
Minichunk 499/512 completed
Minichunk 500/512 completed
Minichunk 501/512 completed
Minichunk 502/512 completed
Minichunk 503/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 474
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 474, frames_in_flight: 3
Checking readback 450: submitted frame 472, current frame 474, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 1) with 5 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 5 minichunks in workspace 1
Overall bounds: [24, -56, 72] to [64, -48, 80]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32f8, alignment: 0
Returning buffer pointer: 0x19484be32f8 (aligned: true)
Created staging buffer at: 0x19484be32f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11790207220665292131), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3378, alignment: 0
Returning buffer pointer: 0x19484be3378 (aligned: true)
Created staging buffer at: 0x19484be3378
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a58000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2222162477758551397), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33f8, alignment: 0
Returning buffer pointer: 0x19484be33f8 (aligned: true)
Created staging buffer at: 0x19484be33f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a15000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6722844001268929895), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3478, alignment: 0
Returning buffer pointer: 0x19484be3478 (aligned: true)
Created staging buffer at: 0x19484be3478
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0b000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6159254132080252265), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [2.4e1,-5.6e1,7.2e1] to [6.4e1,-4.8e1,8.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be25e8, alignment: 0
Returning buffer pointer: 0x19484be25e8 (aligned: true)
Submitting readback 451 at frame 474 (will be ready at frame 477)
Successfully queued 5 minichunks from this batch
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 31.0ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 475
Processing readbacks: 2 pending, completed_frame: 475, frames_in_flight: 3
Checking readback 450: submitted frame 472, current frame 475, 3 frames elapsed (need 3)
Readback 450 ready (submitted frame 472, current frame 475)
Checking readback 451: submitted frame 474, current frame 475, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (4 minichunks, 8192 bytes)
Minichunk 504/512 completed
Minichunk 505/512 completed
Minichunk 506/512 completed
Minichunk 507/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 475
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 475, frames_in_flight: 3
Checking readback 451: submitted frame 474, current frame 475, 1 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.1ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 476
Processing readbacks: 1 pending, completed_frame: 476, frames_in_flight: 3
Checking readback 451: submitted frame 474, current frame 476, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 476
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 476, frames_in_flight: 3
Checking readback 451: submitted frame 474, current frame 476, 2 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 21.5ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 477
Processing readbacks: 1 pending, completed_frame: 477, frames_in_flight: 3
Checking readback 451: submitted frame 474, current frame 477, 3 frames elapsed (need 3)
Readback 451 ready (submitted frame 474, current frame 477)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (5 minichunks, 10240 bytes)
Minichunk 508/512 completed
Minichunk 509/512 completed
Minichunk 510/512 completed
Minichunk 511/512 completed
Minichunk 512/512 completed
Chunk ChunkId(0, -1, 1) complete! All 512 minichunks processed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 3/3
GPU generation completed successfully
GPU generation completed successfully. Voxel count: 262144
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(Non-empty voxels: 0
15607181627698970646)
Frame time: 18.2ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 478
Processing 0 completed readbacks
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 14.0ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 479
Processing 0 completed readbacks
get_chunks_for_rendering called - active chunks: 6, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
queue_generation_blocking returned: true
GPU pipeline worker: Processing request 34 with priority 9
Processing 0 completed readbacks
Async generation completed for chunk ChunkId(0, -1, 1)
Sending result for chunk ChunkId(0, -1, 1) through channel
GPU generation thread spawned for bounds: [-64.0,-128.0,0.0] to [0.0,-64.0,64.0]
GPU generation: starting for 262144 voxels
GPU generation: waiting for result...
batch_queue_draw called with 0 meshes
Result sent successfully for chunk ChunkId(0, -1, 1)
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 11.6ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 480
Processing 0 completed readbacks
Received generation result 1 for region RegionId(0, -1, 0)
Processing single chunk workspace for chunk ChunkId(0, -1, 1)
Chunk ChunkId(0, -1, 1) has 0 non-empty voxels out of 262144
Extracted 1 chunks from region RegionId(0, -1, 0)
  Chunk ChunkId(0, -1, 1): palette size 1, 32768 bytes compressed
Adding chunk ChunkId(0, -1, 1) to active_chunks (total: 7)
Creating generation params for region RegionId(0, -1, 0)
Region RegionId(0, -1, 0) world bounds: min=[0,-256,0] max=[256,0,256]
Creating plane SDF with normal [0, 0, 1] and distance 0
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing 0 completed readbacks
Main thread: Execute GPU worldgen for bounds [-64.0,-128.0,0.0] to [0.0,-64.0,64.0]
Processing chunk ChunkId(-1, -2, 0) as minichunks
Creating ChunkAccumulator: 262144 voxels, 512 minichunks (8 per axis)
Queuing 512 minichunks for chunk ChunkId(-1, -2, 0)
Processing 512 minichunks in 37 batches of up to 14 each (frames_in_flight: 3)
PID controller: Processing 7 minichunks per workspace (workgroup budget: 7)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 2/3
Processing 7 minichunks in workspace 2
Overall bounds: [-64, -128, 0] to [-8, -120, 8]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2a28, alignment: 0
Returning buffer pointer: 0x19484be2a28 (aligned: true)
Created staging buffer at: 0x19484be2a28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(897211383869871470), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26a8, alignment: 0
Returning buffer pointer: 0x19484be26a8 (aligned: true)
Created staging buffer at: 0x19484be26a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7978345542700766576), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2768, alignment: 0
Returning buffer pointer: 0x19484be2768 (aligned: true)
Created staging buffer at: 0x19484be2768
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4829553147959580018), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27a8, alignment: 0
Returning buffer pointer: 0x19484be27a8 (aligned: true)
Created staging buffer at: 0x19484be27a8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f7000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7543462305636291956), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,0.0e0] to [-8.0e0,-1.2e2,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be28a8, alignment: 0
Returning buffer pointer: 0x19484be28a8 (aligned: true)
Submitting readback 452 at frame 480 (will be ready at frame 483)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 0
Overall bounds: [-64, -128, 0] to [0, -112, 8]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d78, alignment: 0
Returning buffer pointer: 0x19484be2d78 (aligned: true)
Created staging buffer at: 0x19484be2d78
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a09000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8661589764782167417), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2df8, alignment: 0
Returning buffer pointer: 0x19484be2df8 (aligned: true)
Created staging buffer at: 0x19484be2df8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8173721062375167355), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3278, alignment: 0
Returning buffer pointer: 0x19484be3278 (aligned: true)
Created staging buffer at: 0x19484be3278
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a17000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8455624848620655997), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2fb8, alignment: 0
Returning buffer pointer: 0x19484be2fb8 (aligned: true)
Created staging buffer at: 0x19484be2fb8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a18000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9571266311976129919), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,0.0e0] to [0.0e0,-1.1e2,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be30f8, alignment: 0
Returning buffer pointer: 0x19484be30f8 (aligned: true)
Submitting readback 453 at frame 480 (will be ready at frame 483)
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 41.3ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 481
Processing readbacks: 2 pending, completed_frame: 481, frames_in_flight: 3
Checking readback 452: submitted frame 480, current frame 481, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 481
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 481, frames_in_flight: 3
Checking readback 452: submitted frame 480, current frame 481, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 36 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 1
Overall bounds: [-64, -120, 0] to [0, -104, 8]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33b8, alignment: 0
Returning buffer pointer: 0x19484be33b8 (aligned: true)
Created staging buffer at: 0x19484be33b8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a56000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7843672960484251012), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3038, alignment: 0
Returning buffer pointer: 0x19484be3038 (aligned: true)
Created staging buffer at: 0x19484be3038
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a11000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4892300077533500806), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aee8, alignment: 0
Returning buffer pointer: 0x19484d3aee8 (aligned: true)
Created staging buffer at: 0x19484d3aee8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10848466715382125960), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af28, alignment: 0
Returning buffer pointer: 0x19484d3af28 (aligned: true)
Created staging buffer at: 0x19484d3af28
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a12000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1186676511579575690), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.2e2,0.0e0] to [0.0e0,-1.0e2,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3b028, alignment: 0
Returning buffer pointer: 0x19484d3b028 (aligned: true)
Submitting readback 454 at frame 481 (will be ready at frame 484)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 40.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 13)
DeferredReadbackManager: advanced to frame 482
Processing readbacks: 3 pending, completed_frame: 482, frames_in_flight: 3
Checking readback 452: submitted frame 480, current frame 482, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 482
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 482, frames_in_flight: 3
Checking readback 452: submitted frame 480, current frame 482, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 36 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 36.0ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 483
Processing readbacks: 3 pending, completed_frame: 483, frames_in_flight: 3
Checking readback 452: submitted frame 480, current frame 483, 3 frames elapsed (need 3)
Readback 452 ready (submitted frame 480, current frame 483)
Checking readback 453: submitted frame 480, current frame 483, 3 frames elapsed (need 3)
Readback 453 ready (submitted frame 480, current frame 483)
Checking readback 454: submitted frame 481, current frame 483, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 1/512 completed
Minichunk 2/512 completed
Minichunk 3/512 completed
Minichunk 4/512 completed
Minichunk 5/512 completed
Minichunk 6/512 completed
Minichunk 7/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 8/512 completed
Minichunk 9/512 completed
Minichunk 10/512 completed
Minichunk 11/512 completed
Minichunk 12/512 completed
Minichunk 13/512 completed
Minichunk 14/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 483
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 483, frames_in_flight: 3
Checking readback 454: submitted frame 481, current frame 483, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 36 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -88, 0] to [0, -72, 8]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b128, alignment: 0
Returning buffer pointer: 0x19484d3b128 (aligned: true)
Created staging buffer at: 0x19484d3b128
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5805009077796869519), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30f8, alignment: 0
Returning buffer pointer: 0x19484be30f8 (aligned: true)
Created staging buffer at: 0x19484be30f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6428605893583050129), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3138, alignment: 0
Returning buffer pointer: 0x19484be3138 (aligned: true)
Created staging buffer at: 0x19484be3138
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a59000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(503573026986530195), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32b8, alignment: 0
Returning buffer pointer: 0x19484be32b8 (aligned: true)
Created staging buffer at: 0x19484be32b8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5a000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12376950605711676821), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.8e1,0.0e0] to [0.0e0,-7.2e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2e38, alignment: 0
Returning buffer pointer: 0x19484be2e38 (aligned: true)
Submitting readback 455 at frame 483 (will be ready at frame 486)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 0
Overall bounds: [-48, -80, 0] to [0, -72, 8]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d38, alignment: 0
Returning buffer pointer: 0x19484be2d38 (aligned: true)
Created staging buffer at: 0x19484be2d38
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a54000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5457091712931337626), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e78, alignment: 0
Returning buffer pointer: 0x19484be2e78 (aligned: true)
Created staging buffer at: 0x19484be2e78
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a66000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3995513105151956380), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2628, alignment: 0
Returning buffer pointer: 0x19484be2628 (aligned: true)
Created staging buffer at: 0x19484be2628
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a67000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12837888969819559326), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2728, alignment: 0
Returning buffer pointer: 0x19484be2728 (aligned: true)
Created staging buffer at: 0x19484be2728
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a68000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4152202308203058592), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.8e1,-8.0e1,0.0e0] to [0.0e0,-7.2e1,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2828, alignment: 0
Returning buffer pointer: 0x19484be2828 (aligned: true)
Submitting readback 456 at frame 483 (will be ready at frame 486)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 41.1ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 484
Processing readbacks: 3 pending, completed_frame: 484, frames_in_flight: 3
Checking readback 454: submitted frame 481, current frame 484, 3 frames elapsed (need 3)
Readback 454 ready (submitted frame 481, current frame 484)
Checking readback 455: submitted frame 483, current frame 484, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 15/512 completed
Minichunk 16/512 completed
Minichunk 17/512 completed
Minichunk 18/512 completed
Minichunk 19/512 completed
Minichunk 20/512 completed
Minichunk 21/512 completed
Minichunk 22/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 484
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 484, frames_in_flight: 3
Checking readback 455: submitted frame 483, current frame 484, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 35 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 1
Overall bounds: [-64, -96, 8] to [0, -80, 16]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e2138, alignment: 0
Returning buffer pointer: 0x194846e2138 (aligned: true)
Created staging buffer at: 0x194846e2138
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a22000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4113879929928553893), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1db8, alignment: 0
Returning buffer pointer: 0x194846e1db8 (aligned: true)
Created staging buffer at: 0x194846e1db8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a57000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9267442661919298983), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1d78, alignment: 0
Returning buffer pointer: 0x194846e1d78 (aligned: true)
Created staging buffer at: 0x194846e1d78
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3036081457777874345), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e20b8, alignment: 0
Returning buffer pointer: 0x194846e20b8 (aligned: true)
Created staging buffer at: 0x194846e20b8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0d000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14936247537802155435), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-9.6e1,8.0e0] to [0.0e0,-8.0e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e20f8, alignment: 0
Returning buffer pointer: 0x194846e20f8 (aligned: true)
Submitting readback 457 at frame 484 (will be ready at frame 487)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 41.7ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 485
Processing readbacks: 3 pending, completed_frame: 485, frames_in_flight: 3
Checking readback 455: submitted frame 483, current frame 485, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 485
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 485, frames_in_flight: 3
Checking readback 455: submitted frame 483, current frame 485, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 35 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 36.4ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 486
Processing readbacks: 3 pending, completed_frame: 486, frames_in_flight: 3
Checking readback 455: submitted frame 483, current frame 486, 3 frames elapsed (need 3)
Readback 455 ready (submitted frame 483, current frame 486)
Checking readback 456: submitted frame 483, current frame 486, 3 frames elapsed (need 3)
Readback 456 ready (submitted frame 483, current frame 486)
Checking readback 457: submitted frame 484, current frame 486, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 23/512 completed
Minichunk 24/512 completed
Minichunk 25/512 completed
Minichunk 26/512 completed
Minichunk 27/512 completed
Minichunk 28/512 completed
Minichunk 29/512 completed
Minichunk 30/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 31/512 completed
Minichunk 32/512 completed
Minichunk 33/512 completed
Minichunk 34/512 completed
Minichunk 35/512 completed
Minichunk 36/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 486
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 486, frames_in_flight: 3
Checking readback 457: submitted frame 484, current frame 486, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 35 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 2
Overall bounds: [-64, -112, 24] to [0, -96, 32]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59e8, alignment: 0
Returning buffer pointer: 0x19484be59e8 (aligned: true)
Created staging buffer at: 0x19484be59e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a38000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10903360932910470576), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5828, alignment: 0
Returning buffer pointer: 0x19484be5828 (aligned: true)
Created staging buffer at: 0x19484be5828
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a08000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1498228628868044210), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5768, alignment: 0
Returning buffer pointer: 0x19484be5768 (aligned: true)
Created staging buffer at: 0x19484be5768
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15995661076024792500), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5868, alignment: 0
Returning buffer pointer: 0x19484be5868 (aligned: true)
Created staging buffer at: 0x19484be5868
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5c000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16228231974555227574), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.1e2,2.4e1] to [0.0e0,-9.6e1,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5968, alignment: 0
Returning buffer pointer: 0x19484be5968 (aligned: true)
Submitting readback 458 at frame 486 (will be ready at frame 489)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 0
Overall bounds: [-40, -104, 24] to [0, -96, 32]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3338, alignment: 0
Returning buffer pointer: 0x19484be3338 (aligned: true)
Created staging buffer at: 0x19484be3338
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b17000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(485867591244453307), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e38, alignment: 0
Returning buffer pointer: 0x19484be2e38 (aligned: true)
Created staging buffer at: 0x19484be2e38
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b18000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16717405797264397757), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2f38, alignment: 0
Returning buffer pointer: 0x19484be2f38 (aligned: true)
Created staging buffer at: 0x19484be2f38
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a46000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14963695746077955519), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3078, alignment: 0
Returning buffer pointer: 0x19484be3078 (aligned: true)
Created staging buffer at: 0x19484be3078
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b12000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(780157375976838593), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-1.0e2,2.4e1] to [0.0e0,-9.6e1,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be68c8, alignment: 0
Returning buffer pointer: 0x19484be68c8 (aligned: true)
Submitting readback 459 at frame 486 (will be ready at frame 489)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 40.4ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 487
Processing readbacks: 3 pending, completed_frame: 487, frames_in_flight: 3
Checking readback 457: submitted frame 484, current frame 487, 3 frames elapsed (need 3)
Readback 457 ready (submitted frame 484, current frame 487)
Checking readback 458: submitted frame 486, current frame 487, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 37/512 completed
Minichunk 38/512 completed
Minichunk 39/512 completed
Minichunk 40/512 completed
Minichunk 41/512 completed
Minichunk 42/512 completed
Minichunk 43/512 completed
Minichunk 44/512 completed
Minichunk 45/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 487
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 487, frames_in_flight: 3
Checking readback 458: submitted frame 486, current frame 487, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 34 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 1
Overall bounds: [-64, -80, 48] to [0, -64, 56]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6b48, alignment: 0
Returning buffer pointer: 0x19484be6b48 (aligned: true)
Created staging buffer at: 0x19484be6b48
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18080881579567093190), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a68, alignment: 0
Returning buffer pointer: 0x19484be5a68 (aligned: true)
Created staging buffer at: 0x19484be5a68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a36000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18292139544704718280), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ba8, alignment: 0
Returning buffer pointer: 0x19484be5ba8 (aligned: true)
Created staging buffer at: 0x19484be5ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a63000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18253562079732569546), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d28, alignment: 0
Returning buffer pointer: 0x19484be5d28 (aligned: true)
Created staging buffer at: 0x19484be5d28
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a47000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18117726214213866956), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e1,4.8e1] to [0.0e0,-6.4e1,5.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5c28, alignment: 0
Returning buffer pointer: 0x19484be5c28 (aligned: true)
Submitting readback 460 at frame 487 (will be ready at frame 490)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 4 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 39.2ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 8)
DeferredReadbackManager: advanced to frame 488
Processing readbacks: 3 pending, completed_frame: 488, frames_in_flight: 3
Checking readback 458: submitted frame 486, current frame 488, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 488
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 488, frames_in_flight: 3
Checking readback 458: submitted frame 486, current frame 488, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 34 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.7ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 489
Processing readbacks: 3 pending, completed_frame: 489, frames_in_flight: 3
Checking readback 458: submitted frame 486, current frame 489, 3 frames elapsed (need 3)
Readback 458 ready (submitted frame 486, current frame 489)
Checking readback 459: submitted frame 486, current frame 489, 3 frames elapsed (need 3)
Readback 459 ready (submitted frame 486, current frame 489)
Checking readback 460: submitted frame 487, current frame 489, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 46/512 completed
Minichunk 47/512 completed
Minichunk 48/512 completed
Minichunk 49/512 completed
Minichunk 50/512 completed
Minichunk 51/512 completed
Minichunk 52/512 completed
Minichunk 53/512 completed
Minichunk 54/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 55/512 completed
Minichunk 56/512 completed
Minichunk 57/512 completed
Minichunk 58/512 completed
Minichunk 59/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 489
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 489, frames_in_flight: 3
Checking readback 460: submitted frame 487, current frame 489, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 34 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -72, 56] to [0, -64, 64]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c68, alignment: 0
Returning buffer pointer: 0x19484be5c68 (aligned: true)
Created staging buffer at: 0x19484be5c68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16890395260197279185), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57e8, alignment: 0
Returning buffer pointer: 0x19484be57e8 (aligned: true)
Created staging buffer at: 0x19484be57e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a25000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17262102758153000403), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ce8, alignment: 0
Returning buffer pointer: 0x19484be5ce8 (aligned: true)
Created staging buffer at: 0x19484be5ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a26000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9868795257963943381), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d68, alignment: 0
Returning buffer pointer: 0x19484be5d68 (aligned: true)
Created staging buffer at: 0x19484be5d68
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2a000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16547143123168400855), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-7.2e1,5.6e1] to [0.0e0,-6.4e1,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5968, alignment: 0
Returning buffer pointer: 0x19484be5968 (aligned: true)
Submitting readback 461 at frame 489 (will be ready at frame 492)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 6 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 0
Overall bounds: [-64, -112, 0] to [0, -96, 8]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5de8, alignment: 0
Returning buffer pointer: 0x19484be5de8 (aligned: true)
Created staging buffer at: 0x19484be5de8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16013444577092441564), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a28, alignment: 0
Returning buffer pointer: 0x19484be5a28 (aligned: true)
Created staging buffer at: 0x19484be5a28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a23000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11345443772113622494), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af68, alignment: 0
Returning buffer pointer: 0x19484d3af68 (aligned: true)
Created staging buffer at: 0x19484d3af68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1967460609184241120), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3afe8, alignment: 0
Returning buffer pointer: 0x19484d3afe8 (aligned: true)
Created staging buffer at: 0x19484d3afe8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0e000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15556683257658480098), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.1e2,0.0e0] to [0.0e0,-9.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=6 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3b028, alignment: 0
Returning buffer pointer: 0x19484d3b028 (aligned: true)
Submitting readback 462 at frame 489 (will be ready at frame 492)
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.6ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 490
Processing readbacks: 3 pending, completed_frame: 490, frames_in_flight: 3
Checking readback 460: submitted frame 487, current frame 490, 3 frames elapsed (need 3)
Readback 460 ready (submitted frame 487, current frame 490)
Checking readback 461: submitted frame 489, current frame 490, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 60/512 completed
Minichunk 61/512 completed
Minichunk 62/512 completed
Minichunk 63/512 completed
Minichunk 64/512 completed
Minichunk 65/512 completed
Minichunk 66/512 completed
Minichunk 67/512 completed
Minichunk 68/512 completed
Minichunk 69/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 490
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 490, frames_in_flight: 3
Checking readback 461: submitted frame 489, current frame 490, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 32 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 1
Overall bounds: [-64, -88, 56] to [0, -72, 64]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3ae68, alignment: 0
Returning buffer pointer: 0x19484d3ae68 (aligned: true)
Created staging buffer at: 0x19484d3ae68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a13000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12676748943699219943), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b1a8, alignment: 0
Returning buffer pointer: 0x19484d3b1a8 (aligned: true)
Created staging buffer at: 0x19484d3b1a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a19000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(799224007114102249), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2db8, alignment: 0
Returning buffer pointer: 0x19484be2db8 (aligned: true)
Created staging buffer at: 0x19484be2db8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11637855590985766379), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2eb8, alignment: 0
Returning buffer pointer: 0x19484be2eb8 (aligned: true)
Created staging buffer at: 0x19484be2eb8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1b000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14297352117227099629), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.8e1,5.6e1] to [0.0e0,-7.2e1,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2ef8, alignment: 0
Returning buffer pointer: 0x19484be2ef8 (aligned: true)
Submitting readback 463 at frame 490 (will be ready at frame 493)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.3ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 491
Processing readbacks: 3 pending, completed_frame: 491, frames_in_flight: 3
Checking readback 461: submitted frame 489, current frame 491, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 491
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 491, frames_in_flight: 3
Checking readback 461: submitted frame 489, current frame 491, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 32 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.2ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 492
Processing readbacks: 3 pending, completed_frame: 492, frames_in_flight: 3
Checking readback 461: submitted frame 489, current frame 492, 3 frames elapsed (need 3)
Readback 461 ready (submitted frame 489, current frame 492)
Checking readback 462: submitted frame 489, current frame 492, 3 frames elapsed (need 3)
Readback 462 ready (submitted frame 489, current frame 492)
Checking readback 463: submitted frame 490, current frame 492, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 70/512 completed
Minichunk 71/512 completed
Minichunk 72/512 completed
Minichunk 73/512 completed
Minichunk 74/512 completed
Minichunk 75/512 completed
Minichunk 76/512 completed
Minichunk 77/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 78/512 completed
Minichunk 79/512 completed
Minichunk 80/512 completed
Minichunk 81/512 completed
Minichunk 82/512 completed
Minichunk 83/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 492
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 492, frames_in_flight: 3
Checking readback 463: submitted frame 490, current frame 492, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 32 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 5 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 5 minichunks in workspace 2
Overall bounds: [-40, -88, 8] to [0, -80, 16]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ff8, alignment: 0
Returning buffer pointer: 0x19484be2ff8 (aligned: true)
Created staging buffer at: 0x19484be2ff8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4148520043761636850), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30b8, alignment: 0
Returning buffer pointer: 0x19484be30b8 (aligned: true)
Created staging buffer at: 0x19484be30b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12910772297089947124), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5be8, alignment: 0
Returning buffer pointer: 0x19484be5be8 (aligned: true)
Created staging buffer at: 0x19484be5be8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a39000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4020031114939733494), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c28, alignment: 0
Returning buffer pointer: 0x19484be5c28 (aligned: true)
Created staging buffer at: 0x19484be5c28
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a62000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3076039909354509816), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-8.8e1,8.0e0] to [0.0e0,-8.0e1,1.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be57a8, alignment: 0
Returning buffer pointer: 0x19484be57a8 (aligned: true)
Submitting readback 464 at frame 492 (will be ready at frame 495)
Successfully queued 5 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 0
Overall bounds: [-64, -104, 56] to [0, -88, 64]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59a8, alignment: 0
Returning buffer pointer: 0x19484be59a8 (aligned: true)
Created staging buffer at: 0x19484be59a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a20000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10036543348967216637), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dcc8, alignment: 0
Returning buffer pointer: 0x1948419dcc8 (aligned: true)
Created staging buffer at: 0x1948419dcc8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a53000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2413495093177619967), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dc88, alignment: 0
Returning buffer pointer: 0x1948419dc88 (aligned: true)
Created staging buffer at: 0x1948419dc88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a45000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6356218446056789505), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dfc8, alignment: 0
Returning buffer pointer: 0x1948419dfc8 (aligned: true)
Created staging buffer at: 0x1948419dfc8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5e000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10559411705509582339), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.0e2,5.6e1] to [0.0e0,-8.8e1,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dd08, alignment: 0
Returning buffer pointer: 0x1948419dd08 (aligned: true)
Submitting readback 465 at frame 492 (will be ready at frame 495)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.5ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 493
Processing readbacks: 3 pending, completed_frame: 493, frames_in_flight: 3
Checking readback 463: submitted frame 490, current frame 493, 3 frames elapsed (need 3)
Readback 463 ready (submitted frame 490, current frame 493)
Checking readback 464: submitted frame 492, current frame 493, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 84/512 completed
Minichunk 85/512 completed
Minichunk 86/512 completed
Minichunk 87/512 completed
Minichunk 88/512 completed
Minichunk 89/512 completed
Minichunk 90/512 completed
Minichunk 91/512 completed
Minichunk 92/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 493
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 493, frames_in_flight: 3
Checking readback 464: submitted frame 492, current frame 493, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 31 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 4 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 1
Overall bounds: [-32, -72, 48] to [0, -64, 56]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419ddc8, alignment: 0
Returning buffer pointer: 0x1948419ddc8 (aligned: true)
Created staging buffer at: 0x1948419ddc8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a27000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1369932114581001736), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419de08, alignment: 0
Returning buffer pointer: 0x1948419de08 (aligned: true)
Created staging buffer at: 0x1948419de08
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a51000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6316412826596414986), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df48, alignment: 0
Returning buffer pointer: 0x1948419df48 (aligned: true)
Created staging buffer at: 0x1948419df48
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7228802968487728652), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dec8, alignment: 0
Returning buffer pointer: 0x1948419dec8 (aligned: true)
Created staging buffer at: 0x1948419dec8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3b000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(956781824351147534), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-3.2e1,-7.2e1,4.8e1] to [0.0e0,-6.4e1,5.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5968, alignment: 0
Returning buffer pointer: 0x19484be5968 (aligned: true)
Submitting readback 466 at frame 493 (will be ready at frame 496)
Successfully queued 4 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.3ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 11)
DeferredReadbackManager: advanced to frame 494
Processing readbacks: 3 pending, completed_frame: 494, frames_in_flight: 3
Checking readback 464: submitted frame 492, current frame 494, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 494
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 494, frames_in_flight: 3
Checking readback 464: submitted frame 492, current frame 494, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 30 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.3ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 495
Processing readbacks: 3 pending, completed_frame: 495, frames_in_flight: 3
Checking readback 464: submitted frame 492, current frame 495, 3 frames elapsed (need 3)
Readback 464 ready (submitted frame 492, current frame 495)
Checking readback 465: submitted frame 492, current frame 495, 3 frames elapsed (need 3)
Readback 465 ready (submitted frame 492, current frame 495)
Checking readback 466: submitted frame 493, current frame 495, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 93/512 completed
Minichunk 94/512 completed
Minichunk 95/512 completed
Minichunk 96/512 completed
Minichunk 97/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 98/512 completed
Minichunk 99/512 completed
Minichunk 100/512 completed
Minichunk 101/512 completed
Minichunk 102/512 completed
Minichunk 103/512 completed
Minichunk 104/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 495
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 495, frames_in_flight: 3
Checking readback 466: submitted frame 493, current frame 495, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 30 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -120, 56] to [0, -104, 64]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e28, alignment: 0
Returning buffer pointer: 0x19484be5e28 (aligned: true)
Created staging buffer at: 0x19484be5e28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a52000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7303855632199718419), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e68, alignment: 0
Returning buffer pointer: 0x19484be5e68 (aligned: true)
Created staging buffer at: 0x19484be5e68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a16000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8779587153651832341), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ae8, alignment: 0
Returning buffer pointer: 0x19484be5ae8 (aligned: true)
Created staging buffer at: 0x19484be5ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a37000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8136049594984306199), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5728, alignment: 0
Returning buffer pointer: 0x19484be5728 (aligned: true)
Created staging buffer at: 0x19484be5728
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1d000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9152220440398140953), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.2e2,5.6e1] to [0.0e0,-1.0e2,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be57a8, alignment: 0
Returning buffer pointer: 0x19484be57a8 (aligned: true)
Submitting readback 467 at frame 495 (will be ready at frame 498)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 0
Overall bounds: [-64, -112, 56] to [0, -96, 64]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2528, alignment: 0
Returning buffer pointer: 0x19484be2528 (aligned: true)
Created staging buffer at: 0x19484be2528
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8613942428392494622), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be28a8, alignment: 0
Returning buffer pointer: 0x19484be28a8 (aligned: true)
Created staging buffer at: 0x19484be28a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a28000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7094032529736341024), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2828, alignment: 0
Returning buffer pointer: 0x19484be2828 (aligned: true)
Created staging buffer at: 0x19484be2828
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5f000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10134703349048546850), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26e8, alignment: 0
Returning buffer pointer: 0x19484be26e8 (aligned: true)
Created staging buffer at: 0x19484be26e8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a60000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7912460606941173284), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.1e2,5.6e1] to [0.0e0,-9.6e1,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=6 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be28e8, alignment: 0
Returning buffer pointer: 0x19484be28e8 (aligned: true)
Submitting readback 468 at frame 495 (will be ready at frame 498)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.5ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 496
Processing readbacks: 3 pending, completed_frame: 496, frames_in_flight: 3
Checking readback 466: submitted frame 493, current frame 496, 3 frames elapsed (need 3)
Readback 466 ready (submitted frame 493, current frame 496)
Checking readback 467: submitted frame 495, current frame 496, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (4 minichunks, 8192 bytes)
Minichunk 105/512 completed
Minichunk 106/512 completed
Minichunk 107/512 completed
Minichunk 108/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 496
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 496, frames_in_flight: 3
Checking readback 467: submitted frame 495, current frame 496, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 1
Overall bounds: [-64, -128, 56] to [0, -112, 64]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2968, alignment: 0
Returning buffer pointer: 0x19484be2968 (aligned: true)
Created staging buffer at: 0x19484be2968
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b19000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6192774943076259369), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ae8, alignment: 0
Returning buffer pointer: 0x19484be2ae8 (aligned: true)
Created staging buffer at: 0x19484be2ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10578878558879356459), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2b68, alignment: 0
Returning buffer pointer: 0x19484be2b68 (aligned: true)
Created staging buffer at: 0x19484be2b68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b13000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2262394707730503213), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd88, alignment: 0
Returning buffer pointer: 0x1948419dd88 (aligned: true)
Created staging buffer at: 0x1948419dd88
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1a000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4871811777861522991), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,5.6e1] to [0.0e0,-1.1e2,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dd08, alignment: 0
Returning buffer pointer: 0x1948419dd08 (aligned: true)
Submitting readback 469 at frame 496 (will be ready at frame 499)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.3ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 11)
DeferredReadbackManager: advanced to frame 497
Processing readbacks: 3 pending, completed_frame: 497, frames_in_flight: 3
Checking readback 467: submitted frame 495, current frame 497, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 497
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 497, frames_in_flight: 3
Checking readback 467: submitted frame 495, current frame 497, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.3ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 498
Processing readbacks: 3 pending, completed_frame: 498, frames_in_flight: 3
Checking readback 467: submitted frame 495, current frame 498, 3 frames elapsed (need 3)
Readback 467 ready (submitted frame 495, current frame 498)
Checking readback 468: submitted frame 495, current frame 498, 3 frames elapsed (need 3)
Readback 468 ready (submitted frame 495, current frame 498)
Checking readback 469: submitted frame 496, current frame 498, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 109/512 completed
Minichunk 110/512 completed
Minichunk 111/512 completed
Minichunk 112/512 completed
Minichunk 113/512 completed
Minichunk 114/512 completed
Minichunk 115/512 completed
Minichunk 116/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 117/512 completed
Minichunk 118/512 completed
Minichunk 119/512 completed
Minichunk 120/512 completed
Minichunk 121/512 completed
Minichunk 122/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 498
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 498, frames_in_flight: 3
Checking readback 469: submitted frame 496, current frame 498, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 2
Overall bounds: [-64, -96, 48] to [0, -80, 56]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df08, alignment: 0
Returning buffer pointer: 0x1948419df08 (aligned: true)
Created staging buffer at: 0x1948419df08
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11534989681137554996), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df88, alignment: 0
Returning buffer pointer: 0x1948419df88 (aligned: true)
Created staging buffer at: 0x1948419df88
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a24000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1045897241782392374), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5da8, alignment: 0
Returning buffer pointer: 0x19484be5da8 (aligned: true)
Created staging buffer at: 0x19484be5da8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a44000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12531274759251433016), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5968, alignment: 0
Returning buffer pointer: 0x19484be5968 (aligned: true)
Created staging buffer at: 0x19484be5968
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b14000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13021835066123228730), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-9.6e1,4.8e1] to [0.0e0,-8.0e1,5.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be57a8, alignment: 0
Returning buffer pointer: 0x19484be57a8 (aligned: true)
Submitting readback 470 at frame 498 (will be ready at frame 501)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 0
Overall bounds: [-64, -88, 48] to [0, -72, 56]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5b28, alignment: 0
Returning buffer pointer: 0x19484be5b28 (aligned: true)
Created staging buffer at: 0x19484be5b28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4336463964343899711), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58a8, alignment: 0
Returning buffer pointer: 0x19484be58a8 (aligned: true)
Created staging buffer at: 0x19484be58a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13782159451358238273), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5aa8, alignment: 0
Returning buffer pointer: 0x19484be5aa8 (aligned: true)
Created staging buffer at: 0x19484be5aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1f000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14104802342436083267), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ca8, alignment: 0
Returning buffer pointer: 0x19484be5ca8 (aligned: true)
Created staging buffer at: 0x19484be5ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a49000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4100682491860358725), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.8e1,4.8e1] to [0.0e0,-7.2e1,5.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=5 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194262435e8, alignment: 0
Returning buffer pointer: 0x194262435e8 (aligned: true)
Submitting readback 471 at frame 498 (will be ready at frame 501)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.4ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 499
Processing readbacks: 3 pending, completed_frame: 499, frames_in_flight: 3
Checking readback 469: submitted frame 496, current frame 499, 3 frames elapsed (need 3)
Readback 469 ready (submitted frame 496, current frame 499)
Checking readback 470: submitted frame 498, current frame 499, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 123/512 completed
Minichunk 124/512 completed
Minichunk 125/512 completed
Minichunk 126/512 completed
Minichunk 127/512 completed
Minichunk 128/512 completed
Minichunk 129/512 completed
Minichunk 130/512 completed
Minichunk 131/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 499
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 499, frames_in_flight: 3
Checking readback 470: submitted frame 498, current frame 499, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 28 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 5 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 1
Overall bounds: [-40, -80, 56] to [0, -72, 64]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194262436a8, alignment: 0
Returning buffer pointer: 0x194262436a8 (aligned: true)
Created staging buffer at: 0x194262436a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9862923865871619658), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194262436e8, alignment: 0
Returning buffer pointer: 0x194262436e8 (aligned: true)
Created staging buffer at: 0x194262436e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a48000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15063382967810266700), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27e8, alignment: 0
Returning buffer pointer: 0x19484be27e8 (aligned: true)
Created staging buffer at: 0x19484be27e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3068465373750761038), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2c28, alignment: 0
Returning buffer pointer: 0x19484be2c28 (aligned: true)
Created staging buffer at: 0x19484be2c28
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f4000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9538341436282377808), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-8.0e1,5.6e1] to [0.0e0,-7.2e1,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be29a8, alignment: 0
Returning buffer pointer: 0x19484be29a8 (aligned: true)
Submitting readback 472 at frame 499 (will be ready at frame 502)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.8ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 8)
DeferredReadbackManager: advanced to frame 500
Processing readbacks: 3 pending, completed_frame: 500, frames_in_flight: 3
Checking readback 470: submitted frame 498, current frame 500, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 500
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 500, frames_in_flight: 3
Checking readback 470: submitted frame 498, current frame 500, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.8ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 501
Processing readbacks: 3 pending, completed_frame: 501, frames_in_flight: 3
Checking readback 470: submitted frame 498, current frame 501, 3 frames elapsed (need 3)
Readback 470 ready (submitted frame 498, current frame 501)
Checking readback 471: submitted frame 498, current frame 501, 3 frames elapsed (need 3)
Readback 471 ready (submitted frame 498, current frame 501)
Checking readback 472: submitted frame 499, current frame 501, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 132/512 completed
Minichunk 133/512 completed
Minichunk 134/512 completed
Minichunk 135/512 completed
Minichunk 136/512 completed
Minichunk 137/512 completed
Minichunk 138/512 completed
Minichunk 139/512 completed
Minichunk 140/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 141/512 completed
Minichunk 142/512 completed
Minichunk 143/512 completed
Minichunk 144/512 completed
Minichunk 145/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 501
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 501, frames_in_flight: 3
Checking readback 472: submitted frame 499, current frame 501, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 7 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 2
Overall bounds: [-64, -96, 56] to [0, -80, 64]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2568, alignment: 0
Returning buffer pointer: 0x19484be2568 (aligned: true)
Created staging buffer at: 0x19484be2568
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2064506803986634325), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2668, alignment: 0
Returning buffer pointer: 0x19484be2668 (aligned: true)
Created staging buffer at: 0x19484be2668
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4e000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14114219659527984727), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be25a8, alignment: 0
Returning buffer pointer: 0x19484be25a8 (aligned: true)
Created staging buffer at: 0x19484be25a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a14000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10865354114473137753), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2868, alignment: 0
Returning buffer pointer: 0x19484be2868 (aligned: true)
Created staging buffer at: 0x19484be2868
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a42000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1270802345243973211), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-9.6e1,5.6e1] to [0.0e0,-8.0e1,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be28e8, alignment: 0
Returning buffer pointer: 0x19484be28e8 (aligned: true)
Submitting readback 473 at frame 501 (will be ready at frame 504)
Successfully queued 7 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -112, 48] to [0, -96, 56]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3afa8, alignment: 0
Returning buffer pointer: 0x19484d3afa8 (aligned: true)
Created staging buffer at: 0x19484d3afa8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17389892397579638368), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b028, alignment: 0
Returning buffer pointer: 0x19484d3b028 (aligned: true)
Created staging buffer at: 0x19484d3b028
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0e000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16819815409787082338), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b068, alignment: 0
Returning buffer pointer: 0x19484d3b068 (aligned: true)
Created staging buffer at: 0x19484d3b068
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a55000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(432709502576367204), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b0a8, alignment: 0
Returning buffer pointer: 0x19484d3b0a8 (aligned: true)
Created staging buffer at: 0x19484d3b0a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a64000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18156429023511582310), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.1e2,4.8e1] to [0.0e0,-9.6e1,5.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3b0e8, alignment: 0
Returning buffer pointer: 0x19484d3b0e8 (aligned: true)
Submitting readback 474 at frame 501 (will be ready at frame 504)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 502
Processing readbacks: 3 pending, completed_frame: 502, frames_in_flight: 3
Checking readback 472: submitted frame 499, current frame 502, 3 frames elapsed (need 3)
Readback 472 ready (submitted frame 499, current frame 502)
Checking readback 473: submitted frame 501, current frame 502, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (5 minichunks, 10240 bytes)
Minichunk 146/512 completed
Minichunk 147/512 completed
Minichunk 148/512 completed
Minichunk 149/512 completed
Minichunk 150/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 502
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 502, frames_in_flight: 3
Checking readback 473: submitted frame 501, current frame 502, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 26 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 5 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 1
Overall bounds: [-56, -120, 56] to [-16, -112, 64]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b168, alignment: 0
Returning buffer pointer: 0x19484d3b168 (aligned: true)
Created staging buffer at: 0x19484d3b168
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18154429011860657771), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aea8, alignment: 0
Returning buffer pointer: 0x19484d3aea8 (aligned: true)
Created staging buffer at: 0x19484d3aea8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a10000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17629308855504606829), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6b08, alignment: 0
Returning buffer pointer: 0x19484be6b08 (aligned: true)
Created staging buffer at: 0x19484be6b08
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a50000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17459436508036470383), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6e08, alignment: 0
Returning buffer pointer: 0x19484be6e08 (aligned: true)
Created staging buffer at: 0x19484be6e08
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f5000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14506700230667277937), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-5.6e1,-1.2e2,5.6e1] to [-1.6e1,-1.1e2,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be6c88, alignment: 0
Returning buffer pointer: 0x19484be6c88 (aligned: true)
Submitting readback 475 at frame 502 (will be ready at frame 505)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.4ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 9)
DeferredReadbackManager: advanced to frame 503
Processing readbacks: 3 pending, completed_frame: 503, frames_in_flight: 3
Checking readback 473: submitted frame 501, current frame 503, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 503
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 503, frames_in_flight: 3
Checking readback 473: submitted frame 501, current frame 503, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 25 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.7ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 504
Processing readbacks: 3 pending, completed_frame: 504, frames_in_flight: 3
Checking readback 473: submitted frame 501, current frame 504, 3 frames elapsed (need 3)
Readback 473 ready (submitted frame 501, current frame 504)
Checking readback 474: submitted frame 501, current frame 504, 3 frames elapsed (need 3)
Readback 474 ready (submitted frame 501, current frame 504)
Checking readback 475: submitted frame 502, current frame 504, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 151/512 completed
Minichunk 152/512 completed
Minichunk 153/512 completed
Minichunk 154/512 completed
Minichunk 155/512 completed
Minichunk 156/512 completed
Minichunk 157/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 158/512 completed
Minichunk 159/512 completed
Minichunk 160/512 completed
Minichunk 161/512 completed
Minichunk 162/512 completed
Minichunk 163/512 completed
Minichunk 164/512 completed
Minichunk 165/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 504
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 504, frames_in_flight: 3
Checking readback 475: submitted frame 502, current frame 504, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 25 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -120, 48] to [0, -112, 56]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6908, alignment: 0
Returning buffer pointer: 0x19484be6908 (aligned: true)
Created staging buffer at: 0x19484be6908
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16810116617718470262), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6ac8, alignment: 0
Returning buffer pointer: 0x19484be6ac8 (aligned: true)
Created staging buffer at: 0x19484be6ac8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9287502152056444536), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e20f8, alignment: 0
Returning buffer pointer: 0x194846e20f8 (aligned: true)
Created staging buffer at: 0x194846e20f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a43000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15823982230952220282), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1e38, alignment: 0
Returning buffer pointer: 0x194846e1e38 (aligned: true)
Created staging buffer at: 0x194846e1e38
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a65000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16072276145759852156), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.2e2,4.8e1] to [0.0e0,-1.1e2,5.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e1ab8, alignment: 0
Returning buffer pointer: 0x194846e1ab8 (aligned: true)
Submitting readback 476 at frame 504 (will be ready at frame 507)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 0
Overall bounds: [-64, -112, 48] to [-16, -104, 56]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1af8, alignment: 0
Returning buffer pointer: 0x194846e1af8 (aligned: true)
Created staging buffer at: 0x194846e1af8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10845886161591735937), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3178, alignment: 0
Returning buffer pointer: 0x19484be3178 (aligned: true)
Created staging buffer at: 0x19484be3178
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a21000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1472138317452547715), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31b8, alignment: 0
Returning buffer pointer: 0x19484be31b8 (aligned: true)
Created staging buffer at: 0x19484be31b8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a61000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14821425538513507973), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31f8, alignment: 0
Returning buffer pointer: 0x19484be31f8 (aligned: true)
Created staging buffer at: 0x19484be31f8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b15000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12608594615939896967), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.1e2,4.8e1] to [-1.6e1,-1.0e2,5.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2ef8, alignment: 0
Returning buffer pointer: 0x19484be2ef8 (aligned: true)
Submitting readback 477 at frame 504 (will be ready at frame 507)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.2ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 505
Processing readbacks: 3 pending, completed_frame: 505, frames_in_flight: 3
Checking readback 475: submitted frame 502, current frame 505, 3 frames elapsed (need 3)
Readback 475 ready (submitted frame 502, current frame 505)
Checking readback 476: submitted frame 504, current frame 505, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (5 minichunks, 10240 bytes)
Minichunk 166/512 completed
Minichunk 167/512 completed
Minichunk 168/512 completed
Minichunk 169/512 completed
Minichunk 170/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 505
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0, Pitch: 0.0, Roll: -45.0]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 505, frames_in_flight: 3
Checking readback 476: submitted frame 504, current frame 505, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 1
Overall bounds: [-64, -128, 40] to [0, -64, 56]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3378, alignment: 0
Returning buffer pointer: 0x19484be3378 (aligned: true)
Created staging buffer at: 0x19484be3378
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b16000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(486987993593157260), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33f8, alignment: 0
Returning buffer pointer: 0x19484be33f8 (aligned: true)
Created staging buffer at: 0x19484be33f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a29000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13527585126132749966), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3478, alignment: 0
Returning buffer pointer: 0x19484be3478 (aligned: true)
Created staging buffer at: 0x19484be3478
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13793044616473220752), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2a68, alignment: 0
Returning buffer pointer: 0x19484be2a68 (aligned: true)
Created staging buffer at: 0x19484be2a68
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a58000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4215702403242006162), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,4.0e1] to [0.0e0,-6.4e1,5.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=9 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be28e8, alignment: 0
Returning buffer pointer: 0x19484be28e8 (aligned: true)
Submitting readback 478 at frame 505 (will be ready at frame 508)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.1ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 11)
DeferredReadbackManager: advanced to frame 506
Processing readbacks: 3 pending, completed_frame: 506, frames_in_flight: 3
Checking readback 476: submitted frame 504, current frame 506, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 506
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 506, frames_in_flight: 3
Checking readback 476: submitted frame 504, current frame 506, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.3ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 507
Processing readbacks: 3 pending, completed_frame: 507, frames_in_flight: 3
Checking readback 476: submitted frame 504, current frame 507, 3 frames elapsed (need 3)
Readback 476 ready (submitted frame 504, current frame 507)
Checking readback 477: submitted frame 504, current frame 507, 3 frames elapsed (need 3)
Readback 477 ready (submitted frame 504, current frame 507)
Checking readback 478: submitted frame 505, current frame 507, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 171/512 completed
Minichunk 172/512 completed
Minichunk 173/512 completed
Minichunk 174/512 completed
Minichunk 175/512 completed
Minichunk 176/512 completed
Minichunk 177/512 completed
Minichunk 178/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 179/512 completed
Minichunk 180/512 completed
Minichunk 181/512 completed
Minichunk 182/512 completed
Minichunk 183/512 completed
Minichunk 184/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 507
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 507, frames_in_flight: 3
Checking readback 478: submitted frame 505, current frame 507, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 2
Overall bounds: [-64, -88, 40] to [0, -72, 48]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26a8, alignment: 0
Returning buffer pointer: 0x19484be26a8 (aligned: true)
Created staging buffer at: 0x19484be26a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a15000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12252475993842783895), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2a28, alignment: 0
Returning buffer pointer: 0x19484be2a28 (aligned: true)
Created staging buffer at: 0x19484be2a28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a17000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5591144170589787801), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2768, alignment: 0
Returning buffer pointer: 0x19484be2768 (aligned: true)
Created staging buffer at: 0x19484be2768
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a18000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3232755500684678811), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27a8, alignment: 0
Returning buffer pointer: 0x19484be27a8 (aligned: true)
Created staging buffer at: 0x19484be27a8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f7000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9963458811068946077), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.8e1,4.0e1] to [0.0e0,-7.2e1,4.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be32f8, alignment: 0
Returning buffer pointer: 0x19484be32f8 (aligned: true)
Submitting readback 479 at frame 507 (will be ready at frame 510)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 0
Overall bounds: [-64, -80, 40] to [0, -64, 48]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2fb8, alignment: 0
Returning buffer pointer: 0x19484be2fb8 (aligned: true)
Created staging buffer at: 0x19484be2fb8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6511428805968533154), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ef8, alignment: 0
Returning buffer pointer: 0x19484be2ef8 (aligned: true)
Created staging buffer at: 0x19484be2ef8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a09000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6866590852949481124), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3278, alignment: 0
Returning buffer pointer: 0x19484be3278 (aligned: true)
Created staging buffer at: 0x19484be3278
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10998029983573612198), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d78, alignment: 0
Returning buffer pointer: 0x19484be2d78 (aligned: true)
Created staging buffer at: 0x19484be2d78
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a33000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7349456777450100392), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e1,4.0e1] to [0.0e0,-6.4e1,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=5 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2df8, alignment: 0
Returning buffer pointer: 0x19484be2df8 (aligned: true)
Submitting readback 480 at frame 507 (will be ready at frame 510)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.6ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 508
Processing readbacks: 3 pending, completed_frame: 508, frames_in_flight: 3
Checking readback 478: submitted frame 505, current frame 508, 3 frames elapsed (need 3)
Readback 478 ready (submitted frame 505, current frame 508)
Checking readback 479: submitted frame 507, current frame 508, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 185/512 completed
Minichunk 186/512 completed
Minichunk 187/512 completed
Minichunk 188/512 completed
Minichunk 189/512 completed
Minichunk 190/512 completed
Minichunk 191/512 completed
Minichunk 192/512 completed
Minichunk 193/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 508
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 508, frames_in_flight: 3
Checking readback 479: submitted frame 507, current frame 508, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 23 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 6 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [-64, -104, 48] to [0, -88, 56]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3038, alignment: 0
Returning buffer pointer: 0x19484be3038 (aligned: true)
Created staging buffer at: 0x19484be3038
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4752741265643148973), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30f8, alignment: 0
Returning buffer pointer: 0x19484be30f8 (aligned: true)
Created staging buffer at: 0x19484be30f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a59000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7872189894062249647), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3138, alignment: 0
Returning buffer pointer: 0x19484be3138 (aligned: true)
Created staging buffer at: 0x19484be3138
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8387643144186894001), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32b8, alignment: 0
Returning buffer pointer: 0x19484be32b8 (aligned: true)
Created staging buffer at: 0x19484be32b8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f2000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8525427344310015667), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.0e2,4.8e1] to [0.0e0,-8.8e1,5.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=6 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be33b8, alignment: 0
Returning buffer pointer: 0x19484be33b8 (aligned: true)
Submitting readback 481 at frame 508 (will be ready at frame 511)
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.8ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 13)
DeferredReadbackManager: advanced to frame 509
Processing readbacks: 3 pending, completed_frame: 509, frames_in_flight: 3
Checking readback 479: submitted frame 507, current frame 509, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 509
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 509, frames_in_flight: 3
Checking readback 479: submitted frame 507, current frame 509, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 22 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.7ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 510
Processing readbacks: 3 pending, completed_frame: 510, frames_in_flight: 3
Checking readback 479: submitted frame 507, current frame 510, 3 frames elapsed (need 3)
Readback 479 ready (submitted frame 507, current frame 510)
Checking readback 480: submitted frame 507, current frame 510, 3 frames elapsed (need 3)
Readback 480 ready (submitted frame 507, current frame 510)
Checking readback 481: submitted frame 508, current frame 510, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 194/512 completed
Minichunk 195/512 completed
Minichunk 196/512 completed
Minichunk 197/512 completed
Minichunk 198/512 completed
Minichunk 199/512 completed
Minichunk 200/512 completed
Minichunk 201/512 completed
Minichunk 202/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 203/512 completed
Minichunk 204/512 completed
Minichunk 205/512 completed
Minichunk 206/512 completed
Minichunk 207/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 510
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 510, frames_in_flight: 3
Checking readback 481: submitted frame 508, current frame 510, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 22 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 2
Overall bounds: [-64, -104, 40] to [0, -88, 48]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d38, alignment: 0
Returning buffer pointer: 0x19484be2d38 (aligned: true)
Created staging buffer at: 0x19484be2d38
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a11000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9199045342090237624), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e78, alignment: 0
Returning buffer pointer: 0x19484be2e78 (aligned: true)
Created staging buffer at: 0x19484be2e78
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a54000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8845721678550931130), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2df8, alignment: 0
Returning buffer pointer: 0x19484be2df8 (aligned: true)
Created staging buffer at: 0x19484be2df8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a12000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7051782695927420604), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b0e8, alignment: 0
Returning buffer pointer: 0x19484d3b0e8 (aligned: true)
Created staging buffer at: 0x19484d3b0e8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a34000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5086381472022009534), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.0e2,4.0e1] to [0.0e0,-8.8e1,4.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3b128, alignment: 0
Returning buffer pointer: 0x19484d3b128 (aligned: true)
Submitting readback 482 at frame 510 (will be ready at frame 513)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 0
Overall bounds: [-64, -88, 40] to [-32, -80, 48]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aee8, alignment: 0
Returning buffer pointer: 0x19484d3aee8 (aligned: true)
Created staging buffer at: 0x19484d3aee8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a56000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7593570349048927939), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af28, alignment: 0
Returning buffer pointer: 0x19484d3af28 (aligned: true)
Created staging buffer at: 0x19484d3af28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10563199523067270853), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be28e8, alignment: 0
Returning buffer pointer: 0x19484be28e8 (aligned: true)
Created staging buffer at: 0x19484be28e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6056994053138945735), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2628, alignment: 0
Returning buffer pointer: 0x19484be2628 (aligned: true)
Created staging buffer at: 0x19484be2628
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a40000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6549784169591871177), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.8e1,4.0e1] to [-3.2e1,-8.0e1,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2728, alignment: 0
Returning buffer pointer: 0x19484be2728 (aligned: true)
Submitting readback 483 at frame 510 (will be ready at frame 513)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.4ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 511
Processing readbacks: 3 pending, completed_frame: 511, frames_in_flight: 3
Checking readback 481: submitted frame 508, current frame 511, 3 frames elapsed (need 3)
Readback 481 ready (submitted frame 508, current frame 511)
Checking readback 482: submitted frame 510, current frame 511, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 208/512 completed
Minichunk 209/512 completed
Minichunk 210/512 completed
Minichunk 211/512 completed
Minichunk 212/512 completed
Minichunk 213/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 511
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 511, frames_in_flight: 3
Checking readback 482: submitted frame 510, current frame 511, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 1
Overall bounds: [-64, -112, 40] to [0, -96, 48]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59e8, alignment: 0
Returning buffer pointer: 0x19484be59e8 (aligned: true)
Created staging buffer at: 0x19484be59e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a35000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11307946027559950030), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5768, alignment: 0
Returning buffer pointer: 0x19484be5768 (aligned: true)
Created staging buffer at: 0x19484be5768
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a41000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2428138389036340944), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57a8, alignment: 0
Returning buffer pointer: 0x19484be57a8 (aligned: true)
Created staging buffer at: 0x19484be57a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a22000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5222179954145367762), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5828, alignment: 0
Returning buffer pointer: 0x19484be5828 (aligned: true)
Created staging buffer at: 0x19484be5828
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5c000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10601858351899875028), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.1e2,4.0e1] to [0.0e0,-9.6e1,4.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5868, alignment: 0
Returning buffer pointer: 0x19484be5868 (aligned: true)
Submitting readback 484 at frame 511 (will be ready at frame 514)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.0ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 512
Processing readbacks: 3 pending, completed_frame: 512, frames_in_flight: 3
Checking readback 482: submitted frame 510, current frame 512, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 512
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 512, frames_in_flight: 3
Checking readback 482: submitted frame 510, current frame 512, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.8ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 513
Processing readbacks: 3 pending, completed_frame: 513, frames_in_flight: 3
Checking readback 482: submitted frame 510, current frame 513, 3 frames elapsed (need 3)
Readback 482 ready (submitted frame 510, current frame 513)
Checking readback 483: submitted frame 510, current frame 513, 3 frames elapsed (need 3)
Readback 483 ready (submitted frame 510, current frame 513)
Checking readback 484: submitted frame 511, current frame 513, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (10 minichunks, 20480 bytes)
Minichunk 214/512 completed
Minichunk 215/512 completed
Minichunk 216/512 completed
Minichunk 217/512 completed
Minichunk 218/512 completed
Minichunk 219/512 completed
Minichunk 220/512 completed
Minichunk 221/512 completed
Minichunk 222/512 completed
Minichunk 223/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (4 minichunks, 8192 bytes)
Minichunk 224/512 completed
Minichunk 225/512 completed
Minichunk 226/512 completed
Minichunk 227/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 513
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 513, frames_in_flight: 3
Checking readback 484: submitted frame 511, current frame 513, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 5 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 5 minichunks in workspace 2
Overall bounds: [-40, -128, 48] to [0, -120, 56]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58e8, alignment: 0
Returning buffer pointer: 0x19484be58e8 (aligned: true)
Created staging buffer at: 0x19484be58e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3511104565837567705), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3338, alignment: 0
Returning buffer pointer: 0x19484be3338 (aligned: true)
Created staging buffer at: 0x19484be3338
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a08000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13253901288816514779), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32f8, alignment: 0
Returning buffer pointer: 0x19484be32f8 (aligned: true)
Created staging buffer at: 0x19484be32f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a46000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11855478628936586973), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2f38, alignment: 0
Returning buffer pointer: 0x19484be2f38 (aligned: true)
Created staging buffer at: 0x19484be2f38
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b12000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4402599588754626271), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-1.3e2,4.8e1] to [0.0e0,-1.2e2,5.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2e38, alignment: 0
Returning buffer pointer: 0x19484be2e38 (aligned: true)
Submitting readback 485 at frame 513 (will be ready at frame 516)
Successfully queued 5 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 0
Overall bounds: [-64, -128, 40] to [0, -112, 48]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3078, alignment: 0
Returning buffer pointer: 0x19484be3078 (aligned: true)
Created staging buffer at: 0x19484be3078
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a38000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11930543387276482276), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1d78, alignment: 0
Returning buffer pointer: 0x194846e1d78 (aligned: true)
Created staging buffer at: 0x194846e1d78
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b17000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13140127124109137638), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e20b8, alignment: 0
Returning buffer pointer: 0x194846e20b8 (aligned: true)
Created staging buffer at: 0x194846e20b8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b18000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3513583964558202600), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e2138, alignment: 0
Returning buffer pointer: 0x194846e2138 (aligned: true)
Created staging buffer at: 0x194846e2138
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a57000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12679181063419860714), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,4.0e1] to [0.0e0,-1.1e2,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e1db8, alignment: 0
Returning buffer pointer: 0x194846e1db8 (aligned: true)
Submitting readback 486 at frame 513 (will be ready at frame 516)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.4ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 514
Processing readbacks: 3 pending, completed_frame: 514, frames_in_flight: 3
Checking readback 484: submitted frame 511, current frame 514, 3 frames elapsed (need 3)
Readback 484 ready (submitted frame 511, current frame 514)
Checking readback 485: submitted frame 513, current frame 514, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (11 minichunks, 22528 bytes)
Minichunk 228/512 completed
Minichunk 229/512 completed
Minichunk 230/512 completed
Minichunk 231/512 completed
Minichunk 232/512 completed
Minichunk 233/512 completed
Minichunk 234/512 completed
Minichunk 235/512 completed
Minichunk 236/512 completed
Minichunk 237/512 completed
Minichunk 238/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 514
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 514, frames_in_flight: 3
Checking readback 485: submitted frame 513, current frame 514, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 1
Overall bounds: [-64, -80, 32] to [0, -64, 40]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a68, alignment: 0
Returning buffer pointer: 0x19484be5a68 (aligned: true)
Created staging buffer at: 0x19484be5a68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15550118073729029871), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ba8, alignment: 0
Returning buffer pointer: 0x19484be5ba8 (aligned: true)
Created staging buffer at: 0x19484be5ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2496867761376990961), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c68, alignment: 0
Returning buffer pointer: 0x19484be5c68 (aligned: true)
Created staging buffer at: 0x19484be5c68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11347023770322736883), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ce8, alignment: 0
Returning buffer pointer: 0x19484be5ce8 (aligned: true)
Created staging buffer at: 0x19484be5ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a36000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15974888002841220853), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e1,3.2e1] to [0.0e0,-6.4e1,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5d28, alignment: 0
Returning buffer pointer: 0x19484be5d28 (aligned: true)
Submitting readback 487 at frame 514 (will be ready at frame 517)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 4 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 515
Processing readbacks: 3 pending, completed_frame: 515, frames_in_flight: 3
Checking readback 485: submitted frame 513, current frame 515, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 515
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 515, frames_in_flight: 3
Checking readback 485: submitted frame 513, current frame 515, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.1ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 516
Processing readbacks: 3 pending, completed_frame: 516, frames_in_flight: 3
Checking readback 485: submitted frame 513, current frame 516, 3 frames elapsed (need 3)
Readback 485 ready (submitted frame 513, current frame 516)
Checking readback 486: submitted frame 513, current frame 516, 3 frames elapsed (need 3)
Readback 486 ready (submitted frame 513, current frame 516)
Checking readback 487: submitted frame 514, current frame 516, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 239/512 completed
Minichunk 240/512 completed
Minichunk 241/512 completed
Minichunk 242/512 completed
Minichunk 243/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 244/512 completed
Minichunk 245/512 completed
Minichunk 246/512 completed
Minichunk 247/512 completed
Minichunk 248/512 completed
Minichunk 249/512 completed
Minichunk 250/512 completed
Minichunk 251/512 completed
Minichunk 252/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 516
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 516, frames_in_flight: 3
Checking readback 487: submitted frame 514, current frame 516, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 2
Overall bounds: [-64, -96, 32] to [0, -80, 40]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5de8, alignment: 0
Returning buffer pointer: 0x19484be5de8 (aligned: true)
Created staging buffer at: 0x19484be5de8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a63000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15293541537829361402), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a28, alignment: 0
Returning buffer pointer: 0x19484be5a28 (aligned: true)
Created staging buffer at: 0x19484be5a28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f0000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10584784035832141564), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57e8, alignment: 0
Returning buffer pointer: 0x19484be57e8 (aligned: true)
Created staging buffer at: 0x19484be57e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17280935193313548030), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5868, alignment: 0
Returning buffer pointer: 0x19484be5868 (aligned: true)
Created staging buffer at: 0x19484be5868
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0e000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13859872933209446144), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-9.6e1,3.2e1] to [0.0e0,-8.0e1,4.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3af68, alignment: 0
Returning buffer pointer: 0x19484d3af68 (aligned: true)
Submitting readback 488 at frame 516 (will be ready at frame 519)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 0
Overall bounds: [-64, -88, 32] to [0, -72, 40]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3afe8, alignment: 0
Returning buffer pointer: 0x19484d3afe8 (aligned: true)
Created staging buffer at: 0x19484d3afe8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a25000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16159412442261100293), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b128, alignment: 0
Returning buffer pointer: 0x19484d3b128 (aligned: true)
Created staging buffer at: 0x19484d3b128
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a32000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17968806160324630279), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419de88, alignment: 0
Returning buffer pointer: 0x1948419de88 (aligned: true)
Created staging buffer at: 0x1948419de88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a47000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18272299956893128457), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd08, alignment: 0
Returning buffer pointer: 0x1948419dd08 (aligned: true)
Created staging buffer at: 0x1948419dd08
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4b000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17585856155974899467), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.8e1,3.2e1] to [0.0e0,-7.2e1,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=5 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dd48, alignment: 0
Returning buffer pointer: 0x1948419dd48 (aligned: true)
Submitting readback 489 at frame 516 (will be ready at frame 519)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.1ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 517
Processing readbacks: 3 pending, completed_frame: 517, frames_in_flight: 3
Checking readback 487: submitted frame 514, current frame 517, 3 frames elapsed (need 3)
Readback 487 ready (submitted frame 514, current frame 517)
Checking readback 488: submitted frame 516, current frame 517, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 253/512 completed
Minichunk 254/512 completed
Minichunk 255/512 completed
Minichunk 256/512 completed
Minichunk 257/512 completed
Minichunk 258/512 completed
Minichunk 259/512 completed
Minichunk 260/512 completed
Minichunk 261/512 completed
Minichunk 262/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 517
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 517, frames_in_flight: 3
Checking readback 488: submitted frame 516, current frame 517, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 19 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 3 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 1
Overall bounds: [-40, -104, 40] to [-16, -96, 48]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33b8, alignment: 0
Returning buffer pointer: 0x19484be33b8 (aligned: true)
Created staging buffer at: 0x19484be33b8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a13000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(902470347985524496), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2db8, alignment: 0
Returning buffer pointer: 0x19484be2db8 (aligned: true)
Created staging buffer at: 0x19484be2db8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a19000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17235462690923616018), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30b8, alignment: 0
Returning buffer pointer: 0x19484be30b8 (aligned: true)
Created staging buffer at: 0x19484be30b8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14013684714330658580), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ff8, alignment: 0
Returning buffer pointer: 0x19484be2ff8 (aligned: true)
Created staging buffer at: 0x19484be2ff8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a23000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16737045273959733014), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-1.0e2,4.0e1] to [-1.6e1,-9.6e1,4.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2e38, alignment: 0
Returning buffer pointer: 0x19484be2e38 (aligned: true)
Submitting readback 490 at frame 517 (will be ready at frame 520)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 518
Processing readbacks: 3 pending, completed_frame: 518, frames_in_flight: 3
Checking readback 488: submitted frame 516, current frame 518, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 518
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 518, frames_in_flight: 3
Checking readback 488: submitted frame 516, current frame 518, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.8ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 519
Processing readbacks: 3 pending, completed_frame: 519, frames_in_flight: 3
Checking readback 488: submitted frame 516, current frame 519, 3 frames elapsed (need 3)
Readback 488 ready (submitted frame 516, current frame 519)
Checking readback 489: submitted frame 516, current frame 519, 3 frames elapsed (need 3)
Readback 489 ready (submitted frame 516, current frame 519)
Checking readback 490: submitted frame 517, current frame 519, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 263/512 completed
Minichunk 264/512 completed
Minichunk 265/512 completed
Minichunk 266/512 completed
Minichunk 267/512 completed
Minichunk 268/512 completed
Minichunk 269/512 completed
Minichunk 270/512 completed
Minichunk 271/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 272/512 completed
Minichunk 273/512 completed
Minichunk 274/512 completed
Minichunk 275/512 completed
Minichunk 276/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 519
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 519, frames_in_flight: 3
Checking readback 490: submitted frame 517, current frame 519, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 2
Overall bounds: [-64, -104, 32] to [0, -88, 40]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59a8, alignment: 0
Returning buffer pointer: 0x19484be59a8 (aligned: true)
Created staging buffer at: 0x19484be59a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a62000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11006114692572649243), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5be8, alignment: 0
Returning buffer pointer: 0x19484be5be8 (aligned: true)
Created staging buffer at: 0x19484be5be8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5e000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15129522990267504413), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c28, alignment: 0
Returning buffer pointer: 0x19484be5c28 (aligned: true)
Created staging buffer at: 0x19484be5c28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1b000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15721906869964379935), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d28, alignment: 0
Returning buffer pointer: 0x19484be5d28 (aligned: true)
Created staging buffer at: 0x19484be5d28
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4f000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9771114644952323873), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.0e2,3.2e1] to [0.0e0,-8.8e1,4.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5d68, alignment: 0
Returning buffer pointer: 0x19484be5d68 (aligned: true)
Submitting readback 491 at frame 519 (will be ready at frame 522)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 0
Overall bounds: [-56, -96, 32] to [-16, -88, 40]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dfc8, alignment: 0
Returning buffer pointer: 0x1948419dfc8 (aligned: true)
Created staging buffer at: 0x1948419dfc8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3391563462642505510), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dc88, alignment: 0
Returning buffer pointer: 0x1948419dc88 (aligned: true)
Created staging buffer at: 0x1948419dc88
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a26000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14094875951460521768), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dcc8, alignment: 0
Returning buffer pointer: 0x1948419dcc8 (aligned: true)
Created staging buffer at: 0x1948419dcc8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a39000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13122219378227549994), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd48, alignment: 0
Returning buffer pointer: 0x1948419dd48 (aligned: true)
Created staging buffer at: 0x1948419dd48
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a53000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3589803210107262764), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-5.6e1,-9.6e1,3.2e1] to [-1.6e1,-8.8e1,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3b1a8, alignment: 0
Returning buffer pointer: 0x19484d3b1a8 (aligned: true)
Submitting readback 492 at frame 519 (will be ready at frame 522)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.5ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 520
Processing readbacks: 3 pending, completed_frame: 520, frames_in_flight: 3
Checking readback 490: submitted frame 517, current frame 520, 3 frames elapsed (need 3)
Readback 490 ready (submitted frame 517, current frame 520)
Checking readback 491: submitted frame 519, current frame 520, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (3 minichunks, 6144 bytes)
Minichunk 277/512 completed
Minichunk 278/512 completed
Minichunk 279/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 520
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 520, frames_in_flight: 3
Checking readback 491: submitted frame 519, current frame 520, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 17 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 5 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 1
Overall bounds: [-40, -120, 40] to [0, -112, 48]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af68, alignment: 0
Returning buffer pointer: 0x19484d3af68 (aligned: true)
Created staging buffer at: 0x19484d3af68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a45000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12815395160938518321), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3ae68, alignment: 0
Returning buffer pointer: 0x19484d3ae68 (aligned: true)
Created staging buffer at: 0x19484d3ae68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a27000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13276888778418427699), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419ddc8, alignment: 0
Returning buffer pointer: 0x1948419ddc8 (aligned: true)
Created staging buffer at: 0x1948419ddc8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a16000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(465684955804997429), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419de08, alignment: 0
Returning buffer pointer: 0x1948419de08 (aligned: true)
Created staging buffer at: 0x1948419de08
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1a000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12339247252483610423), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-1.2e2,4.0e1] to [0.0e0,-1.1e2,4.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dec8, alignment: 0
Returning buffer pointer: 0x1948419dec8 (aligned: true)
Submitting readback 493 at frame 520 (will be ready at frame 523)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.3ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 521
Processing readbacks: 3 pending, completed_frame: 521, frames_in_flight: 3
Checking readback 491: submitted frame 519, current frame 521, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 521
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 521, frames_in_flight: 3
Checking readback 491: submitted frame 519, current frame 521, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.3ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 522
Processing readbacks: 3 pending, completed_frame: 522, frames_in_flight: 3
Checking readback 491: submitted frame 519, current frame 522, 3 frames elapsed (need 3)
Readback 491 ready (submitted frame 519, current frame 522)
Checking readback 492: submitted frame 519, current frame 522, 3 frames elapsed (need 3)
Readback 492 ready (submitted frame 519, current frame 522)
Checking readback 493: submitted frame 520, current frame 522, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 280/512 completed
Minichunk 281/512 completed
Minichunk 282/512 completed
Minichunk 283/512 completed
Minichunk 284/512 completed
Minichunk 285/512 completed
Minichunk 286/512 completed
Minichunk 287/512 completed
Minichunk 288/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 289/512 completed
Minichunk 290/512 completed
Minichunk 291/512 completed
Minichunk 292/512 completed
Minichunk 293/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 522
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 522, frames_in_flight: 3
Checking readback 493: submitted frame 520, current frame 522, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 4 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 4 minichunks in workspace 2
Overall bounds: [-64, -128, 32] to [0, -64, 48]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df48, alignment: 0
Returning buffer pointer: 0x1948419df48 (aligned: true)
Created staging buffer at: 0x1948419df48
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5450898163932075836), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2528, alignment: 0
Returning buffer pointer: 0x19484be2528 (aligned: true)
Created staging buffer at: 0x19484be2528
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a28000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1511776811145500478), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be29a8, alignment: 0
Returning buffer pointer: 0x19484be29a8 (aligned: true)
Created staging buffer at: 0x19484be29a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a20000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10786234357250004800), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26e8, alignment: 0
Returning buffer pointer: 0x19484be26e8 (aligned: true)
Created staging buffer at: 0x19484be26e8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5f000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6443001799325521730), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,3.2e1] to [0.0e0,-6.4e1,4.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=4 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2728, alignment: 0
Returning buffer pointer: 0x19484be2728 (aligned: true)
Submitting readback 494 at frame 522 (will be ready at frame 525)
Successfully queued 4 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 0
Overall bounds: [-64, -120, 32] to [0, -104, 40]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be28a8, alignment: 0
Returning buffer pointer: 0x19484be28a8 (aligned: true)
Created staging buffer at: 0x19484be28a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a60000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6512839479386969927), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ae8, alignment: 0
Returning buffer pointer: 0x19484be5ae8 (aligned: true)
Created staging buffer at: 0x19484be5ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a51000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9247023631479871305), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d68, alignment: 0
Returning buffer pointer: 0x19484be5d68 (aligned: true)
Created staging buffer at: 0x19484be5d68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a52000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7772725873190377291), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e28, alignment: 0
Returning buffer pointer: 0x19484be5e28 (aligned: true)
Created staging buffer at: 0x19484be5e28
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a37000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5683977036834543437), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.2e2,3.2e1] to [0.0e0,-1.0e2,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5e68, alignment: 0
Returning buffer pointer: 0x19484be5e68 (aligned: true)
Submitting readback 495 at frame 522 (will be ready at frame 525)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 4 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.9ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 523
Processing readbacks: 3 pending, completed_frame: 523, frames_in_flight: 3
Checking readback 493: submitted frame 520, current frame 523, 3 frames elapsed (need 3)
Readback 493 ready (submitted frame 520, current frame 523)
Checking readback 494: submitted frame 522, current frame 523, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (5 minichunks, 10240 bytes)
Minichunk 294/512 completed
Minichunk 295/512 completed
Minichunk 296/512 completed
Minichunk 297/512 completed
Minichunk 298/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 523
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 523, frames_in_flight: 3
Checking readback 494: submitted frame 522, current frame 523, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 1
Overall bounds: [-64, -128, 24] to [0, -64, 40]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5da8, alignment: 0
Returning buffer pointer: 0x19484be5da8 (aligned: true)
Created staging buffer at: 0x19484be5da8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a24000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8563616681677559634), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5968, alignment: 0
Returning buffer pointer: 0x19484be5968 (aligned: true)
Created staging buffer at: 0x19484be5968
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a44000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8472064746479163220), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2968, alignment: 0
Returning buffer pointer: 0x19484be2968 (aligned: true)
Created staging buffer at: 0x19484be2968
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b13000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9010488993531303766), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ae8, alignment: 0
Returning buffer pointer: 0x19484be2ae8 (aligned: true)
Created staging buffer at: 0x19484be2ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b14000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9132523789098162008), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,2.4e1] to [0.0e0,-6.4e1,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=11 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2828, alignment: 0
Returning buffer pointer: 0x19484be2828 (aligned: true)
Submitting readback 496 at frame 523 (will be ready at frame 526)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.8ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 12)
DeferredReadbackManager: advanced to frame 524
Processing readbacks: 3 pending, completed_frame: 524, frames_in_flight: 3
Checking readback 494: submitted frame 522, current frame 524, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 524
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 524, frames_in_flight: 3
Checking readback 494: submitted frame 522, current frame 524, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 525
Processing readbacks: 3 pending, completed_frame: 525, frames_in_flight: 3
Checking readback 494: submitted frame 522, current frame 525, 3 frames elapsed (need 3)
Readback 494 ready (submitted frame 522, current frame 525)
Checking readback 495: submitted frame 522, current frame 525, 3 frames elapsed (need 3)
Readback 495 ready (submitted frame 522, current frame 525)
Checking readback 496: submitted frame 523, current frame 525, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (4 minichunks, 8192 bytes)
Minichunk 299/512 completed
Minichunk 300/512 completed
Minichunk 301/512 completed
Minichunk 302/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 303/512 completed
Minichunk 304/512 completed
Minichunk 305/512 completed
Minichunk 306/512 completed
Minichunk 307/512 completed
Minichunk 308/512 completed
Minichunk 309/512 completed
Minichunk 310/512 completed
Minichunk 311/512 completed
Minichunk 312/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 525
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 525, frames_in_flight: 3
Checking readback 496: submitted frame 523, current frame 525, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 2
Overall bounds: [-64, -88, 24] to [0, -64, 32]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2b68, alignment: 0
Returning buffer pointer: 0x19484be2b68 (aligned: true)
Created staging buffer at: 0x19484be2b68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b19000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(446586438830528349), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5aa8, alignment: 0
Returning buffer pointer: 0x19484be5aa8 (aligned: true)
Created staging buffer at: 0x19484be5aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7780155273259259743), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e68, alignment: 0
Returning buffer pointer: 0x19484be5e68 (aligned: true)
Created staging buffer at: 0x19484be5e68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8126530023311021921), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5b28, alignment: 0
Returning buffer pointer: 0x19484be5b28 (aligned: true)
Created staging buffer at: 0x19484be5b28
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1a000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(751307290375624547), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.8e1,2.4e1] to [0.0e0,-6.4e1,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=11 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be58a8, alignment: 0
Returning buffer pointer: 0x19484be58a8 (aligned: true)
Submitting readback 497 at frame 525 (will be ready at frame 528)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 0
Overall bounds: [-56, -72, 24] to [-32, -64, 32]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5728, alignment: 0
Returning buffer pointer: 0x19484be5728 (aligned: true)
Created staging buffer at: 0x19484be5728
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11129886716511393640), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ca8, alignment: 0
Returning buffer pointer: 0x19484be5ca8 (aligned: true)
Created staging buffer at: 0x19484be5ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a6c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6714091888711833450), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd88, alignment: 0
Returning buffer pointer: 0x1948419dd88 (aligned: true)
Created staging buffer at: 0x1948419dd88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0f000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2061462256289322860), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df08, alignment: 0
Returning buffer pointer: 0x1948419df08 (aligned: true)
Created staging buffer at: 0x1948419df08
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1f000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11101824980747294574), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-5.6e1,-7.2e1,2.4e1] to [-3.2e1,-6.4e1,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dec8, alignment: 0
Returning buffer pointer: 0x1948419dec8 (aligned: true)
Submitting readback 498 at frame 525 (will be ready at frame 528)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.8ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 526
Processing readbacks: 3 pending, completed_frame: 526, frames_in_flight: 3
Checking readback 496: submitted frame 523, current frame 526, 3 frames elapsed (need 3)
Readback 496 ready (submitted frame 523, current frame 526)
Checking readback 497: submitted frame 525, current frame 526, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (11 minichunks, 22528 bytes)
Minichunk 313/512 completed
Minichunk 314/512 completed
Minichunk 315/512 completed
Minichunk 316/512 completed
Minichunk 317/512 completed
Minichunk 318/512 completed
Minichunk 319/512 completed
Minichunk 320/512 completed
Minichunk 321/512 completed
Minichunk 322/512 completed
Minichunk 323/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 526
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 526, frames_in_flight: 3
Checking readback 497: submitted frame 525, current frame 526, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 12 minichunks in workspace 1
Overall bounds: [-64, -128, 24] to [0, -112, 32]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2668, alignment: 0
Returning buffer pointer: 0x19484be2668 (aligned: true)
Created staging buffer at: 0x19484be2668
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3141610384788559731), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2728, alignment: 0
Returning buffer pointer: 0x19484be2728 (aligned: true)
Created staging buffer at: 0x19484be2728
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3397596482944112501), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2c28, alignment: 0
Returning buffer pointer: 0x19484be2c28 (aligned: true)
Created staging buffer at: 0x19484be2c28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9822229841016002423), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2568, alignment: 0
Returning buffer pointer: 0x19484be2568 (aligned: true)
Created staging buffer at: 0x19484be2568
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1c000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2429222507501328249), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,2.4e1] to [0.0e0,-1.1e2,3.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be27e8, alignment: 0
Returning buffer pointer: 0x19484be27e8 (aligned: true)
Submitting readback 499 at frame 526 (will be ready at frame 529)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 2 remaining minichunks from batch
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.0ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 14)
DeferredReadbackManager: advanced to frame 527
Processing readbacks: 3 pending, completed_frame: 527, frames_in_flight: 3
Checking readback 497: submitted frame 525, current frame 527, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 527
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 527, frames_in_flight: 3
Checking readback 497: submitted frame 525, current frame 527, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.0ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 4)
DeferredReadbackManager: advanced to frame 528
Processing readbacks: 3 pending, completed_frame: 528, frames_in_flight: 3
Checking readback 497: submitted frame 525, current frame 528, 3 frames elapsed (need 3)
Readback 497 ready (submitted frame 525, current frame 528)
Checking readback 498: submitted frame 525, current frame 528, 3 frames elapsed (need 3)
Readback 498 ready (submitted frame 525, current frame 528)
Checking readback 499: submitted frame 526, current frame 528, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 324/512 completed
Minichunk 325/512 completed
Minichunk 326/512 completed
Minichunk 327/512 completed
Minichunk 328/512 completed
Minichunk 329/512 completed
Minichunk 330/512 completed
Minichunk 331/512 completed
Minichunk 332/512 completed
Minichunk 333/512 completed
Minichunk 334/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 335/512 completed
Minichunk 336/512 completed
Minichunk 337/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 528
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 528, frames_in_flight: 3
Checking readback 499: submitted frame 526, current frame 528, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 12 minichunks in workspace 2
Overall bounds: [-64, -96, 24] to [0, -80, 32]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be25a8, alignment: 0
Returning buffer pointer: 0x19484be25a8 (aligned: true)
Created staging buffer at: 0x19484be25a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4741914374644438910), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2868, alignment: 0
Returning buffer pointer: 0x19484be2868 (aligned: true)
Created staging buffer at: 0x19484be2868
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a64000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13760928981337511808), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b068, alignment: 0
Returning buffer pointer: 0x19484d3b068 (aligned: true)
Created staging buffer at: 0x19484d3b068
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a42000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3761603001458890626), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b1a8, alignment: 0
Returning buffer pointer: 0x19484d3b1a8 (aligned: true)
Created staging buffer at: 0x19484d3b1a8
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a14000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13153994164758648708), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-9.6e1,2.4e1] to [0.0e0,-8.0e1,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3afa8, alignment: 0
Returning buffer pointer: 0x19484d3afa8 (aligned: true)
Submitting readback 500 at frame 528 (will be ready at frame 531)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 0
Overall bounds: [-32, -88, 24] to [-16, -80, 32]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b028, alignment: 0
Returning buffer pointer: 0x19484d3b028 (aligned: true)
Created staging buffer at: 0x19484d3b028
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12611421460334909321), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b0a8, alignment: 0
Returning buffer pointer: 0x19484d3b0a8 (aligned: true)
Created staging buffer at: 0x19484d3b0a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1e000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(769560282908333963), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194262436a8, alignment: 0
Returning buffer pointer: 0x194262436a8 (aligned: true)
Created staging buffer at: 0x194262436a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11662010761936377741), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194262435e8, alignment: 0
Returning buffer pointer: 0x194262435e8 (aligned: true)
Created staging buffer at: 0x194262435e8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a55000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14330026304269719439), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-3.2e1,-8.8e1,2.4e1] to [-1.6e1,-8.0e1,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194262436e8, alignment: 0
Returning buffer pointer: 0x194262436e8 (aligned: true)
Submitting readback 501 at frame 528 (will be ready at frame 531)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.0ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 16)
DeferredReadbackManager: advanced to frame 529
Processing readbacks: 3 pending, completed_frame: 529, frames_in_flight: 3
Checking readback 499: submitted frame 526, current frame 529, 3 frames elapsed (need 3)
Readback 499 ready (submitted frame 526, current frame 529)
Checking readback 500: submitted frame 528, current frame 529, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (12 minichunks, 24576 bytes)
Minichunk 338/512 completed
Minichunk 339/512 completed
Minichunk 340/512 completed
Minichunk 341/512 completed
Minichunk 342/512 completed
Minichunk 343/512 completed
Minichunk 344/512 completed
Minichunk 345/512 completed
Minichunk 346/512 completed
Minichunk 347/512 completed
Minichunk 348/512 completed
Minichunk 349/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 529
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 529, frames_in_flight: 3
Checking readback 500: submitted frame 528, current frame 529, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 4 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 1
Overall bounds: [-32, -112, 32] to [0, -104, 40]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6908, alignment: 0
Returning buffer pointer: 0x19484be6908 (aligned: true)
Created staging buffer at: 0x19484be6908
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1789643190693795732), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6c88, alignment: 0
Returning buffer pointer: 0x19484be6c88 (aligned: true)
Created staging buffer at: 0x19484be6c88
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10546433070255314838), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6b08, alignment: 0
Returning buffer pointer: 0x19484be6b08 (aligned: true)
Created staging buffer at: 0x19484be6b08
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a50000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15304351936153655192), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6e08, alignment: 0
Returning buffer pointer: 0x19484be6e08 (aligned: true)
Created staging buffer at: 0x19484be6e08
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a10000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16503802573824726938), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-3.2e1,-1.1e2,3.2e1] to [0.0e0,-1.0e2,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be6ac8, alignment: 0
Returning buffer pointer: 0x19484be6ac8 (aligned: true)
Submitting readback 502 at frame 529 (will be ready at frame 532)
Successfully queued 4 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.0ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 12)
DeferredReadbackManager: advanced to frame 530
Processing readbacks: 3 pending, completed_frame: 530, frames_in_flight: 3
Checking readback 500: submitted frame 528, current frame 530, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 530
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 530, frames_in_flight: 3
Checking readback 500: submitted frame 528, current frame 530, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.9ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 531
Processing readbacks: 3 pending, completed_frame: 531, frames_in_flight: 3
Checking readback 500: submitted frame 528, current frame 531, 3 frames elapsed (need 3)
Readback 500 ready (submitted frame 528, current frame 531)
Checking readback 501: submitted frame 528, current frame 531, 3 frames elapsed (need 3)
Readback 501 ready (submitted frame 528, current frame 531)
Checking readback 502: submitted frame 529, current frame 531, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (12 minichunks, 24576 bytes)
Minichunk 350/512 completed
Minichunk 351/512 completed
Minichunk 352/512 completed
Minichunk 353/512 completed
Minichunk 354/512 completed
Minichunk 355/512 completed
Minichunk 356/512 completed
Minichunk 357/512 completed
Minichunk 358/512 completed
Minichunk 359/512 completed
Minichunk 360/512 completed
Minichunk 361/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (2 minichunks, 4096 bytes)
Minichunk 362/512 completed
Minichunk 363/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 531
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 531, frames_in_flight: 3
Checking readback 502: submitted frame 529, current frame 531, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 3 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 3 minichunks in workspace 2
Overall bounds: [-64, -128, 32] to [0, -112, 40]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be68c8, alignment: 0
Returning buffer pointer: 0x19484be68c8 (aligned: true)
Created staging buffer at: 0x19484be68c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10128846250607384479), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6b48, alignment: 0
Returning buffer pointer: 0x19484be6b48 (aligned: true)
Created staging buffer at: 0x19484be6b48
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a43000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16575887655653349281), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3178, alignment: 0
Returning buffer pointer: 0x19484be3178 (aligned: true)
Created staging buffer at: 0x19484be3178
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5b000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17924291332562491299), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31b8, alignment: 0
Returning buffer pointer: 0x19484be31b8 (aligned: true)
Created staging buffer at: 0x19484be31b8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a48000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17542960908840474533), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,3.2e1] to [0.0e0,-1.1e2,4.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=3 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be31f8, alignment: 0
Returning buffer pointer: 0x19484be31f8 (aligned: true)
Submitting readback 503 at frame 531 (will be ready at frame 534)
Successfully queued 3 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 2 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 0
Overall bounds: [-64, -112, 24] to [-48, -104, 32]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2eb8, alignment: 0
Returning buffer pointer: 0x19484be2eb8 (aligned: true)
Created staging buffer at: 0x19484be2eb8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a21000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17329562194563569578), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e38, alignment: 0
Returning buffer pointer: 0x19484be2e38 (aligned: true)
Created staging buffer at: 0x19484be2e38
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a61000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17744480499490887596), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1db8, alignment: 0
Returning buffer pointer: 0x194846e1db8 (aligned: true)
Created staging buffer at: 0x194846e1db8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a65000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16495519952732690350), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e20f8, alignment: 0
Returning buffer pointer: 0x194846e20f8 (aligned: true)
Created staging buffer at: 0x194846e20f8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a66000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(978004597790480304), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.1e2,2.4e1] to [-4.8e1,-1.0e2,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e1e38, alignment: 0
Returning buffer pointer: 0x194846e1e38 (aligned: true)
Submitting readback 504 at frame 531 (will be ready at frame 534)
Successfully queued 2 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.1ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 532
Processing readbacks: 3 pending, completed_frame: 532, frames_in_flight: 3
Checking readback 502: submitted frame 529, current frame 532, 3 frames elapsed (need 3)
Readback 502 ready (submitted frame 529, current frame 532)
Checking readback 503: submitted frame 531, current frame 532, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (4 minichunks, 8192 bytes)
Minichunk 364/512 completed
Minichunk 365/512 completed
Minichunk 366/512 completed
Minichunk 367/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 532
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 532, frames_in_flight: 3
Checking readback 503: submitted frame 531, current frame 532, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 12 minichunks in workspace 1
Overall bounds: [-64, -128, 16] to [0, -64, 32]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1af8, alignment: 0
Returning buffer pointer: 0x194846e1af8 (aligned: true)
Created staging buffer at: 0x194846e1af8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b15000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16441251357320550325), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26a8, alignment: 0
Returning buffer pointer: 0x19484be26a8 (aligned: true)
Created staging buffer at: 0x19484be26a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a17000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15464618950041540535), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2768, alignment: 0
Returning buffer pointer: 0x19484be2768 (aligned: true)
Created staging buffer at: 0x19484be2768
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a58000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1375721043301242809), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2a28, alignment: 0
Returning buffer pointer: 0x19484be2a28 (aligned: true)
Created staging buffer at: 0x19484be2a28
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b16000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11504507920280721339), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,1.6e1] to [0.0e0,-6.4e1,3.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=12 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2a68, alignment: 0
Returning buffer pointer: 0x19484be2a68 (aligned: true)
Submitting readback 505 at frame 532 (will be ready at frame 535)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 2 remaining minichunks from batch
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.8ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 533
Processing readbacks: 3 pending, completed_frame: 533, frames_in_flight: 3
Checking readback 503: submitted frame 531, current frame 533, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 533

Region Loading Status:
  Camera region: RegionId(0, -1, 0)
  View distance: 1 regions
  Loaded regions: 3
  Pending generations: 2
  Active chunks: 7
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 533, frames_in_flight: 3
Checking readback 503: submitted frame 531, current frame 533, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.6ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 534
Processing readbacks: 3 pending, completed_frame: 534, frames_in_flight: 3
Checking readback 503: submitted frame 531, current frame 534, 3 frames elapsed (need 3)
Readback 503 ready (submitted frame 531, current frame 534)
Checking readback 504: submitted frame 531, current frame 534, 3 frames elapsed (need 3)
Readback 504 ready (submitted frame 531, current frame 534)
Checking readback 505: submitted frame 532, current frame 534, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (3 minichunks, 6144 bytes)
Minichunk 368/512 completed
Minichunk 369/512 completed
Minichunk 370/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (2 minichunks, 4096 bytes)
Minichunk 371/512 completed
Minichunk 372/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 534
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 534, frames_in_flight: 3
Checking readback 505: submitted frame 532, current frame 534, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 2
Overall bounds: [-64, -88, 16] to [0, -72, 24]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27e8, alignment: 0
Returning buffer pointer: 0x19484be27e8 (aligned: true)
Created staging buffer at: 0x19484be27e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a29000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15573696001075058624), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2828, alignment: 0
Returning buffer pointer: 0x19484be2828 (aligned: true)
Created staging buffer at: 0x19484be2828
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a15000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2507836489375684546), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3478, alignment: 0
Returning buffer pointer: 0x19484be3478 (aligned: true)
Created staging buffer at: 0x19484be3478
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10210828036597618628), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ef8, alignment: 0
Returning buffer pointer: 0x19484be2ef8 (aligned: true)
Created staging buffer at: 0x19484be2ef8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a18000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3198158267805079494), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.8e1,1.6e1] to [0.0e0,-7.2e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be31f8, alignment: 0
Returning buffer pointer: 0x19484be31f8 (aligned: true)
Submitting readback 506 at frame 534 (will be ready at frame 537)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 0
Overall bounds: [-48, -80, 16] to [-16, -72, 24]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33f8, alignment: 0
Returning buffer pointer: 0x19484be33f8 (aligned: true)
Created staging buffer at: 0x19484be33f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a49000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3781556938479769547), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3278, alignment: 0
Returning buffer pointer: 0x19484be3278 (aligned: true)
Created staging buffer at: 0x19484be3278
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12911877306275862477), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3378, alignment: 0
Returning buffer pointer: 0x19484be3378 (aligned: true)
Created staging buffer at: 0x19484be3378
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a31000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4579657244710279119), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2fb8, alignment: 0
Returning buffer pointer: 0x19484be2fb8 (aligned: true)
Created staging buffer at: 0x19484be2fb8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a09000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4621977447263377361), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.8e1,-8.0e1,1.6e1] to [-1.6e1,-7.2e1,2.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2d78, alignment: 0
Returning buffer pointer: 0x19484be2d78 (aligned: true)
Submitting readback 507 at frame 534 (will be ready at frame 537)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.7ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 535
Processing readbacks: 3 pending, completed_frame: 535, frames_in_flight: 3
Checking readback 505: submitted frame 532, current frame 535, 3 frames elapsed (need 3)
Readback 505 ready (submitted frame 532, current frame 535)
Checking readback 506: submitted frame 534, current frame 535, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (12 minichunks, 24576 bytes)
Minichunk 373/512 completed
Minichunk 374/512 completed
Minichunk 375/512 completed
Minichunk 376/512 completed
Minichunk 377/512 completed
Minichunk 378/512 completed
Minichunk 379/512 completed
Minichunk 380/512 completed
Minichunk 381/512 completed
Minichunk 382/512 completed
Minichunk 383/512 completed
Minichunk 384/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 535
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 535, frames_in_flight: 3
Checking readback 506: submitted frame 534, current frame 535, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 1
Overall bounds: [-64, -104, 16] to [0, -88, 24]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d38, alignment: 0
Returning buffer pointer: 0x19484be2d38 (aligned: true)
Created staging buffer at: 0x19484be2d38
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11577689215202236374), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32b8, alignment: 0
Returning buffer pointer: 0x19484be32b8 (aligned: true)
Created staging buffer at: 0x19484be32b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a59000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(672647129012901848), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2df8, alignment: 0
Returning buffer pointer: 0x19484be2df8 (aligned: true)
Created staging buffer at: 0x19484be2df8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12557033018155341786), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e78, alignment: 0
Returning buffer pointer: 0x19484be2e78 (aligned: true)
Created staging buffer at: 0x19484be2e78
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f2000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6100931637296502748), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.0e2,1.6e1] to [0.0e0,-8.8e1,2.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be30f8, alignment: 0
Returning buffer pointer: 0x19484be30f8 (aligned: true)
Submitting readback 508 at frame 535 (will be ready at frame 538)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.9ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 14)
DeferredReadbackManager: advanced to frame 536
Processing readbacks: 3 pending, completed_frame: 536, frames_in_flight: 3
Checking readback 506: submitted frame 534, current frame 536, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 536
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0, Pitch: 0.0, Roll: -45.0]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 536, frames_in_flight: 3
Checking readback 506: submitted frame 534, current frame 536, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 30.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 537
Processing readbacks: 3 pending, completed_frame: 537, frames_in_flight: 3
Checking readback 506: submitted frame 534, current frame 537, 3 frames elapsed (need 3)
Readback 506 ready (submitted frame 534, current frame 537)
Checking readback 507: submitted frame 534, current frame 537, 3 frames elapsed (need 3)
Readback 507 ready (submitted frame 534, current frame 537)
Checking readback 508: submitted frame 535, current frame 537, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (10 minichunks, 20480 bytes)
Minichunk 385/512 completed
Minichunk 386/512 completed
Minichunk 387/512 completed
Minichunk 388/512 completed
Minichunk 389/512 completed
Minichunk 390/512 completed
Minichunk 391/512 completed
Minichunk 392/512 completed
Minichunk 393/512 completed
Minichunk 394/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (4 minichunks, 8192 bytes)
Minichunk 395/512 completed
Minichunk 396/512 completed
Minichunk 397/512 completed
Minichunk 398/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 537
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 537, frames_in_flight: 3
Checking readback 508: submitted frame 535, current frame 537, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 2
Overall bounds: [-64, -120, 16] to [0, -104, 24]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d78, alignment: 0
Returning buffer pointer: 0x19484be2d78 (aligned: true)
Created staging buffer at: 0x19484be2d78
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2076898300031670241), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3138, alignment: 0
Returning buffer pointer: 0x19484be3138 (aligned: true)
Created staging buffer at: 0x19484be3138
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a11000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11524045142394673123), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31f8, alignment: 0
Returning buffer pointer: 0x19484be31f8 (aligned: true)
Created staging buffer at: 0x19484be31f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a33000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4757873785921607653), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3afa8, alignment: 0
Returning buffer pointer: 0x19484d3afa8 (aligned: true)
Created staging buffer at: 0x19484d3afa8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a12000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1837168481292785639), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.2e2,1.6e1] to [0.0e0,-1.0e2,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3b0e8, alignment: 0
Returning buffer pointer: 0x19484d3b0e8 (aligned: true)
Submitting readback 509 at frame 537 (will be ready at frame 540)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 0
Overall bounds: [-64, -112, 16] to [0, -96, 24]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b168, alignment: 0
Returning buffer pointer: 0x19484d3b168 (aligned: true)
Created staging buffer at: 0x19484d3b168
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a54000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9905469468308412396), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aea8, alignment: 0
Returning buffer pointer: 0x19484d3aea8 (aligned: true)
Created staging buffer at: 0x19484d3aea8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a34000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8187858582885111790), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aee8, alignment: 0
Returning buffer pointer: 0x19484d3aee8 (aligned: true)
Created staging buffer at: 0x19484d3aee8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a40000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7695332349222852592), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af28, alignment: 0
Returning buffer pointer: 0x19484d3af28 (aligned: true)
Created staging buffer at: 0x19484d3af28
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0b000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9787713971996858354), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.1e2,1.6e1] to [0.0e0,-9.6e1,2.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=3 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2a68, alignment: 0
Returning buffer pointer: 0x19484be2a68 (aligned: true)
Submitting readback 510 at frame 537 (will be ready at frame 540)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.4ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 538
Processing readbacks: 3 pending, completed_frame: 538, frames_in_flight: 3
Checking readback 508: submitted frame 535, current frame 538, 3 frames elapsed (need 3)
Readback 508 ready (submitted frame 535, current frame 538)
Checking readback 509: submitted frame 537, current frame 538, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (11 minichunks, 22528 bytes)
Minichunk 399/512 completed
Minichunk 400/512 completed
Minichunk 401/512 completed
Minichunk 402/512 completed
Minichunk 403/512 completed
Minichunk 404/512 completed
Minichunk 405/512 completed
Minichunk 406/512 completed
Minichunk 407/512 completed
Minichunk 408/512 completed
Minichunk 409/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 538
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 538, frames_in_flight: 3
Checking readback 509: submitted frame 537, current frame 538, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 8 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 2 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 1
Overall bounds: [-48, -128, 24] to [-32, -120, 32]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2628, alignment: 0
Returning buffer pointer: 0x19484be2628 (aligned: true)
Created staging buffer at: 0x19484be2628
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9206236148135892983), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27a8, alignment: 0
Returning buffer pointer: 0x19484be27a8 (aligned: true)
Created staging buffer at: 0x19484be27a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8964917535094872057), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be28e8, alignment: 0
Returning buffer pointer: 0x19484be28e8 (aligned: true)
Created staging buffer at: 0x19484be28e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8543463733052053499), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5768, alignment: 0
Returning buffer pointer: 0x19484be5768 (aligned: true)
Created staging buffer at: 0x19484be5768
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a56000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8144413579936798717), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.8e1,-1.3e2,2.4e1] to [-3.2e1,-1.2e2,3.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be57a8, alignment: 0
Returning buffer pointer: 0x19484be57a8 (aligned: true)
Submitting readback 511 at frame 538 (will be ready at frame 541)
Successfully queued 2 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.7ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 8)
DeferredReadbackManager: advanced to frame 539
Processing readbacks: 3 pending, completed_frame: 539, frames_in_flight: 3
Checking readback 509: submitted frame 537, current frame 539, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 539
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 539, frames_in_flight: 3
Checking readback 509: submitted frame 537, current frame 539, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.3ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 540
Processing readbacks: 3 pending, completed_frame: 540, frames_in_flight: 3
Checking readback 509: submitted frame 537, current frame 540, 3 frames elapsed (need 3)
Readback 509 ready (submitted frame 537, current frame 540)
Checking readback 510: submitted frame 537, current frame 540, 3 frames elapsed (need 3)
Readback 510 ready (submitted frame 537, current frame 540)
Checking readback 511: submitted frame 538, current frame 540, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 410/512 completed
Minichunk 411/512 completed
Minichunk 412/512 completed
Minichunk 413/512 completed
Minichunk 414/512 completed
Minichunk 415/512 completed
Minichunk 416/512 completed
Minichunk 417/512 completed
Minichunk 418/512 completed
Minichunk 419/512 completed
Minichunk 420/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 421/512 completed
Minichunk 422/512 completed
Minichunk 423/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 540
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 540, frames_in_flight: 3
Checking readback 511: submitted frame 538, current frame 540, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 2
Overall bounds: [-64, -128, 8] to [0, -64, 24]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58a8, alignment: 0
Returning buffer pointer: 0x19484be58a8 (aligned: true)
Created staging buffer at: 0x19484be58a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a46000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5881539485136590850), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58e8, alignment: 0
Returning buffer pointer: 0x19484be58e8 (aligned: true)
Created staging buffer at: 0x19484be58e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b12000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7500176731874007044), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59e8, alignment: 0
Returning buffer pointer: 0x19484be59e8 (aligned: true)
Created staging buffer at: 0x19484be59e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0f000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(552369353027229702), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32f8, alignment: 0
Returning buffer pointer: 0x19484be32f8 (aligned: true)
Created staging buffer at: 0x19484be32f8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1d000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6575280744728369160), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,8.0e0] to [0.0e0,-6.4e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=10 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be3338, alignment: 0
Returning buffer pointer: 0x19484be3338 (aligned: true)
Submitting readback 512 at frame 540 (will be ready at frame 543)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 0
Overall bounds: [-64, -120, 16] to [-32, -112, 24]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3038, alignment: 0
Returning buffer pointer: 0x19484be3038 (aligned: true)
Created staging buffer at: 0x19484be3038
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a38000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6505575006062254093), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3078, alignment: 0
Returning buffer pointer: 0x19484be3078 (aligned: true)
Created staging buffer at: 0x19484be3078
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a08000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1494614534147545103), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2f38, alignment: 0
Returning buffer pointer: 0x19484be2f38 (aligned: true)
Created staging buffer at: 0x19484be2f38
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a30000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10800852364341286929), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30f8, alignment: 0
Returning buffer pointer: 0x19484be30f8 (aligned: true)
Created staging buffer at: 0x19484be30f8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b17000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5372394133220497427), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.2e2,1.6e1] to [-3.2e1,-1.1e2,2.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e20b8, alignment: 0
Returning buffer pointer: 0x194846e20b8 (aligned: true)
Submitting readback 513 at frame 540 (will be ready at frame 543)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.4ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 541
Processing readbacks: 3 pending, completed_frame: 541, frames_in_flight: 3
Checking readback 511: submitted frame 538, current frame 541, 3 frames elapsed (need 3)
Readback 511 ready (submitted frame 538, current frame 541)
Checking readback 512: submitted frame 540, current frame 541, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (2 minichunks, 4096 bytes)
Minichunk 424/512 completed
Minichunk 425/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 541
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 541, frames_in_flight: 3
Checking readback 512: submitted frame 540, current frame 541, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 3 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 1
Overall bounds: [-24, -96, 16] to [0, -88, 24]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1d78, alignment: 0
Returning buffer pointer: 0x194846e1d78 (aligned: true)
Created staging buffer at: 0x194846e1d78
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3041626294916749336), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1e38, alignment: 0
Returning buffer pointer: 0x194846e1e38 (aligned: true)
Created staging buffer at: 0x194846e1e38
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a22000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9766553870720309274), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e2138, alignment: 0
Returning buffer pointer: 0x194846e2138 (aligned: true)
Created staging buffer at: 0x194846e2138
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b18000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4261111133957527580), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1ab8, alignment: 0
Returning buffer pointer: 0x194846e1ab8 (aligned: true)
Created staging buffer at: 0x194846e1ab8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a41000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4527454631646730270), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-9.6e1,1.6e1] to [0.0e0,-8.8e1,2.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5ba8, alignment: 0
Returning buffer pointer: 0x19484be5ba8 (aligned: true)
Submitting readback 514 at frame 541 (will be ready at frame 544)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.0ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 542
Processing readbacks: 3 pending, completed_frame: 542, frames_in_flight: 3
Checking readback 512: submitted frame 540, current frame 542, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 542
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 542, frames_in_flight: 3
Checking readback 512: submitted frame 540, current frame 542, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 5 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.0ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 543
Processing readbacks: 3 pending, completed_frame: 543, frames_in_flight: 3
Checking readback 512: submitted frame 540, current frame 543, 3 frames elapsed (need 3)
Readback 512 ready (submitted frame 540, current frame 543)
Checking readback 513: submitted frame 540, current frame 543, 3 frames elapsed (need 3)
Readback 513 ready (submitted frame 540, current frame 543)
Checking readback 514: submitted frame 541, current frame 543, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (10 minichunks, 20480 bytes)
Minichunk 426/512 completed
Minichunk 427/512 completed
Minichunk 428/512 completed
Minichunk 429/512 completed
Minichunk 430/512 completed
Minichunk 431/512 completed
Minichunk 432/512 completed
Minichunk 433/512 completed
Minichunk 434/512 completed
Minichunk 435/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (4 minichunks, 8192 bytes)
Minichunk 436/512 completed
Minichunk 437/512 completed
Minichunk 438/512 completed
Minichunk 439/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 543
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 543, frames_in_flight: 3
Checking readback 514: submitted frame 541, current frame 543, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 5 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 2
Overall bounds: [-64, -112, 8] to [0, -96, 16]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c68, alignment: 0
Returning buffer pointer: 0x19484be5c68 (aligned: true)
Created staging buffer at: 0x19484be5c68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a57000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13176517660453640227), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a68, alignment: 0
Returning buffer pointer: 0x19484be5a68 (aligned: true)
Created staging buffer at: 0x19484be5a68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3874673478724491301), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5828, alignment: 0
Returning buffer pointer: 0x19484be5828 (aligned: true)
Created staging buffer at: 0x19484be5828
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14749052384638408743), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ce8, alignment: 0
Returning buffer pointer: 0x19484be5ce8 (aligned: true)
Created staging buffer at: 0x19484be5ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a63000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12571586154060585001), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.1e2,8.0e0] to [0.0e0,-9.6e1,1.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5de8, alignment: 0
Returning buffer pointer: 0x19484be5de8 (aligned: true)
Submitting readback 515 at frame 543 (will be ready at frame 546)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 0
Overall bounds: [-64, -104, 8] to [0, -88, 16]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57a8, alignment: 0
Returning buffer pointer: 0x19484be57a8 (aligned: true)
Created staging buffer at: 0x19484be57a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a32000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(463677247572678702), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57e8, alignment: 0
Returning buffer pointer: 0x19484be57e8 (aligned: true)
Created staging buffer at: 0x19484be57e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f0000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15782071046724655152), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5868, alignment: 0
Returning buffer pointer: 0x19484be5868 (aligned: true)
Created staging buffer at: 0x19484be5868
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15056443949927372850), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dec8, alignment: 0
Returning buffer pointer: 0x1948419dec8 (aligned: true)
Created staging buffer at: 0x1948419dec8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0e000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1885506310984702004), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.0e2,8.0e0] to [0.0e0,-8.8e1,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=5 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419de88, alignment: 0
Returning buffer pointer: 0x1948419de88 (aligned: true)
Submitting readback 516 at frame 543 (will be ready at frame 546)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 544
Processing readbacks: 3 pending, completed_frame: 544, frames_in_flight: 3
Checking readback 514: submitted frame 541, current frame 544, 3 frames elapsed (need 3)
Readback 514 ready (submitted frame 541, current frame 544)
Checking readback 515: submitted frame 543, current frame 544, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (3 minichunks, 6144 bytes)
Minichunk 440/512 completed
Minichunk 441/512 completed
Minichunk 442/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 544
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 544, frames_in_flight: 3
Checking readback 515: submitted frame 543, current frame 544, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 1
Overall bounds: [-64, -80, 8] to [0, -64, 16]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd08, alignment: 0
Returning buffer pointer: 0x1948419dd08 (aligned: true)
Created staging buffer at: 0x1948419dd08
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a25000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16835313026180585529), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59a8, alignment: 0
Returning buffer pointer: 0x19484be59a8 (aligned: true)
Created staging buffer at: 0x19484be59a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a47000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14792563358284388411), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a28, alignment: 0
Returning buffer pointer: 0x19484be5a28 (aligned: true)
Created staging buffer at: 0x19484be5a28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4b000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17029939778436470845), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d28, alignment: 0
Returning buffer pointer: 0x19484be5d28 (aligned: true)
Created staging buffer at: 0x19484be5d28
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a13000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10059988235406284863), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e1,8.0e0] to [0.0e0,-6.4e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5ba8, alignment: 0
Returning buffer pointer: 0x19484be5ba8 (aligned: true)
Submitting readback 517 at frame 544 (will be ready at frame 547)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 4 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.2ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 8)
DeferredReadbackManager: advanced to frame 545
Processing readbacks: 3 pending, completed_frame: 545, frames_in_flight: 3
Checking readback 515: submitted frame 543, current frame 545, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 545
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 545, frames_in_flight: 3
Checking readback 515: submitted frame 543, current frame 545, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.1ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 546
Processing readbacks: 3 pending, completed_frame: 546, frames_in_flight: 3
Checking readback 515: submitted frame 543, current frame 546, 3 frames elapsed (need 3)
Readback 515 ready (submitted frame 543, current frame 546)
Checking readback 516: submitted frame 543, current frame 546, 3 frames elapsed (need 3)
Readback 516 ready (submitted frame 543, current frame 546)
Checking readback 517: submitted frame 544, current frame 546, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 443/512 completed
Minichunk 444/512 completed
Minichunk 445/512 completed
Minichunk 446/512 completed
Minichunk 447/512 completed
Minichunk 448/512 completed
Minichunk 449/512 completed
Minichunk 450/512 completed
Minichunk 451/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 452/512 completed
Minichunk 453/512 completed
Minichunk 454/512 completed
Minichunk 455/512 completed
Minichunk 456/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 546
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 546, frames_in_flight: 3
Checking readback 517: submitted frame 544, current frame 546, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -128, 8] to [0, -112, 16]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5be8, alignment: 0
Returning buffer pointer: 0x19484be5be8 (aligned: true)
Created staging buffer at: 0x19484be5be8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a19000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18151680232791218244), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c28, alignment: 0
Returning buffer pointer: 0x19484be5c28 (aligned: true)
Created staging buffer at: 0x19484be5c28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a26000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18343630773745096774), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dcc8, alignment: 0
Returning buffer pointer: 0x1948419dcc8 (aligned: true)
Created staging buffer at: 0x1948419dcc8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17872769317196535880), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd48, alignment: 0
Returning buffer pointer: 0x1948419dd48 (aligned: true)
Created staging buffer at: 0x1948419dd48
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5e000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16240568495018874954), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,8.0e0] to [0.0e0,-1.1e2,1.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419de88, alignment: 0
Returning buffer pointer: 0x1948419de88 (aligned: true)
Submitting readback 518 at frame 546 (will be ready at frame 549)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 0
Overall bounds: [-64, -120, 8] to [0, -104, 16]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df88, alignment: 0
Returning buffer pointer: 0x1948419df88 (aligned: true)
Created staging buffer at: 0x1948419df88
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13937429184897882191), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dfc8, alignment: 0
Returning buffer pointer: 0x1948419dfc8 (aligned: true)
Created staging buffer at: 0x1948419dfc8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a23000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17200394867067328593), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dc88, alignment: 0
Returning buffer pointer: 0x1948419dc88 (aligned: true)
Created staging buffer at: 0x1948419dc88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1b000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1440825325805115475), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3338, alignment: 0
Returning buffer pointer: 0x19484be3338 (aligned: true)
Created staging buffer at: 0x19484be3338
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4f000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15503757165943855189), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.2e2,8.0e0] to [0.0e0,-1.0e2,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=6 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2db8, alignment: 0
Returning buffer pointer: 0x19484be2db8 (aligned: true)
Submitting readback 519 at frame 546 (will be ready at frame 549)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.2ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 547
Processing readbacks: 3 pending, completed_frame: 547, frames_in_flight: 3
Checking readback 517: submitted frame 544, current frame 547, 3 frames elapsed (need 3)
Readback 517 ready (submitted frame 544, current frame 547)
Checking readback 518: submitted frame 546, current frame 547, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 457/512 completed
Minichunk 458/512 completed
Minichunk 459/512 completed
Minichunk 460/512 completed
Minichunk 461/512 completed
Minichunk 462/512 completed
Minichunk 463/512 completed
Minichunk 464/512 completed
Minichunk 465/512 completed
Minichunk 466/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 547
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 547, frames_in_flight: 3
Checking readback 518: submitted frame 546, current frame 547, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 1
Overall bounds: [-64, -128, 0] to [0, -64, 16]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30b8, alignment: 0
Returning buffer pointer: 0x19484be30b8 (aligned: true)
Created staging buffer at: 0x19484be30b8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a62000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15902216881314994266), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33b8, alignment: 0
Returning buffer pointer: 0x19484be33b8 (aligned: true)
Created staging buffer at: 0x19484be33b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a16000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1902278261354797148), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b0e8, alignment: 0
Returning buffer pointer: 0x19484d3b0e8 (aligned: true)
Created staging buffer at: 0x19484d3b0e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11640822073357506654), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b128, alignment: 0
Returning buffer pointer: 0x19484d3b128 (aligned: true)
Created staging buffer at: 0x19484d3b128
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a39000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14344945577547012192), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,0.0e0] to [0.0e0,-6.4e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=9 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3ae68, alignment: 0
Returning buffer pointer: 0x19484d3ae68 (aligned: true)
Submitting readback 520 at frame 547 (will be ready at frame 550)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 548
Processing readbacks: 3 pending, completed_frame: 548, frames_in_flight: 3
Checking readback 518: submitted frame 546, current frame 548, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 548
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 548, frames_in_flight: 3
Checking readback 518: submitted frame 546, current frame 548, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.6ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 549
Processing readbacks: 3 pending, completed_frame: 549, frames_in_flight: 3
Checking readback 518: submitted frame 546, current frame 549, 3 frames elapsed (need 3)
Readback 518 ready (submitted frame 546, current frame 549)
Checking readback 519: submitted frame 546, current frame 549, 3 frames elapsed (need 3)
Readback 519 ready (submitted frame 546, current frame 549)
Checking readback 520: submitted frame 547, current frame 549, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 467/512 completed
Minichunk 468/512 completed
Minichunk 469/512 completed
Minichunk 470/512 completed
Minichunk 471/512 completed
Minichunk 472/512 completed
Minichunk 473/512 completed
Minichunk 474/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 475/512 completed
Minichunk 476/512 completed
Minichunk 477/512 completed
Minichunk 478/512 completed
Minichunk 479/512 completed
Minichunk 480/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 549
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 549, frames_in_flight: 3
Checking readback 520: submitted frame 547, current frame 549, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 14 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 2
Overall bounds: [-64, -104, 0] to [0, -88, 8]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af68, alignment: 0
Returning buffer pointer: 0x19484d3af68 (aligned: true)
Created staging buffer at: 0x19484d3af68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a27000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2921667377303132261), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26e8, alignment: 0
Returning buffer pointer: 0x19484be26e8 (aligned: true)
Created staging buffer at: 0x19484be26e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12835658060726802535), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be28a8, alignment: 0
Returning buffer pointer: 0x19484be28a8 (aligned: true)
Created staging buffer at: 0x19484be28a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3987652696524986473), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be29a8, alignment: 0
Returning buffer pointer: 0x19484be29a8 (aligned: true)
Created staging buffer at: 0x19484be29a8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a60000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2688489548354164843), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.0e2,0.0e0] to [0.0e0,-8.8e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2a68, alignment: 0
Returning buffer pointer: 0x19484be2a68 (aligned: true)
Submitting readback 521 at frame 549 (will be ready at frame 552)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 0
Overall bounds: [-64, -96, 0] to [0, -80, 8]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2528, alignment: 0
Returning buffer pointer: 0x19484be2528 (aligned: true)
Created staging buffer at: 0x19484be2528
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a28000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13567070787709442160), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ae8, alignment: 0
Returning buffer pointer: 0x19484be5ae8 (aligned: true)
Created staging buffer at: 0x19484be5ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a20000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2714959191281244274), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ba8, alignment: 0
Returning buffer pointer: 0x19484be5ba8 (aligned: true)
Created staging buffer at: 0x19484be5ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a35000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5256526498373834868), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d68, alignment: 0
Returning buffer pointer: 0x19484be5d68 (aligned: true)
Created staging buffer at: 0x19484be5d68
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a36000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12951117776759560310), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-9.6e1,0.0e0] to [0.0e0,-8.0e1,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=5 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5de8, alignment: 0
Returning buffer pointer: 0x19484be5de8 (aligned: true)
Submitting readback 522 at frame 549 (will be ready at frame 552)
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.3ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 550
Processing readbacks: 3 pending, completed_frame: 550, frames_in_flight: 3
Checking readback 520: submitted frame 547, current frame 550, 3 frames elapsed (need 3)
Readback 520 ready (submitted frame 547, current frame 550)
Checking readback 521: submitted frame 549, current frame 550, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 481/512 completed
Minichunk 482/512 completed
Minichunk 483/512 completed
Minichunk 484/512 completed
Minichunk 485/512 completed
Minichunk 486/512 completed
Minichunk 487/512 completed
Minichunk 488/512 completed
Minichunk 489/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 550
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 550, frames_in_flight: 3
Checking readback 521: submitted frame 549, current frame 550, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 4 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 1
Overall bounds: [-48, -72, 8] to [-16, -64, 16]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5da8, alignment: 0
Returning buffer pointer: 0x19484be5da8 (aligned: true)
Created staging buffer at: 0x19484be5da8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a24000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1153765929536985211), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5968, alignment: 0
Returning buffer pointer: 0x19484be5968 (aligned: true)
Created staging buffer at: 0x19484be5968
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6302029015481849981), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5aa8, alignment: 0
Returning buffer pointer: 0x19484be5aa8 (aligned: true)
Created staging buffer at: 0x19484be5aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11902059439047317631), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5b28, alignment: 0
Returning buffer pointer: 0x19484be5b28 (aligned: true)
Created staging buffer at: 0x19484be5b28
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b19000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2145483636349081729), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.8e1,-7.2e1,8.0e0] to [-1.6e1,-6.4e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5e28, alignment: 0
Returning buffer pointer: 0x19484be5e28 (aligned: true)
Submitting readback 523 at frame 550 (will be ready at frame 553)
Successfully queued 4 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.1ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 551
Processing readbacks: 3 pending, completed_frame: 551, frames_in_flight: 3
Checking readback 521: submitted frame 549, current frame 551, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 551
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 551, frames_in_flight: 3
Checking readback 521: submitted frame 549, current frame 551, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.9ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 552
Processing readbacks: 3 pending, completed_frame: 552, frames_in_flight: 3
Checking readback 521: submitted frame 549, current frame 552, 3 frames elapsed (need 3)
Readback 521 ready (submitted frame 549, current frame 552)
Checking readback 522: submitted frame 549, current frame 552, 3 frames elapsed (need 3)
Readback 522 ready (submitted frame 549, current frame 552)
Checking readback 523: submitted frame 550, current frame 552, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 490/512 completed
Minichunk 491/512 completed
Minichunk 492/512 completed
Minichunk 493/512 completed
Minichunk 494/512 completed
Minichunk 495/512 completed
Minichunk 496/512 completed
Minichunk 497/512 completed
Minichunk 498/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 499/512 completed
Minichunk 500/512 completed
Minichunk 501/512 completed
Minichunk 502/512 completed
Minichunk 503/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 552
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 552, frames_in_flight: 3
Checking readback 523: submitted frame 550, current frame 552, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 0) with 5 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 5 minichunks in workspace 2
Overall bounds: [-56, -128, 8] to [-16, -120, 16]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ca8, alignment: 0
Returning buffer pointer: 0x19484be5ca8 (aligned: true)
Created staging buffer at: 0x19484be5ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7336342902265616518), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5de8, alignment: 0
Returning buffer pointer: 0x19484be5de8 (aligned: true)
Created staging buffer at: 0x19484be5de8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6255661510626908296), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e68, alignment: 0
Returning buffer pointer: 0x19484be5e68 (aligned: true)
Created staging buffer at: 0x19484be5e68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a37000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1412670131552655498), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5728, alignment: 0
Returning buffer pointer: 0x19484be5728 (aligned: true)
Created staging buffer at: 0x19484be5728
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1d000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7497426853292939404), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-5.6e1,-1.3e2,8.0e0] to [-1.6e1,-1.2e2,1.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dd88, alignment: 0
Returning buffer pointer: 0x1948419dd88 (aligned: true)
Submitting readback 524 at frame 552 (will be ready at frame 555)
Successfully queued 5 minichunks from this batch
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.1ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 553
Processing readbacks: 2 pending, completed_frame: 553, frames_in_flight: 3
Checking readback 523: submitted frame 550, current frame 553, 3 frames elapsed (need 3)
Readback 523 ready (submitted frame 550, current frame 553)
Checking readback 524: submitted frame 552, current frame 553, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (4 minichunks, 8192 bytes)
Minichunk 504/512 completed
Minichunk 505/512 completed
Minichunk 506/512 completed
Minichunk 507/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 553
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 553, frames_in_flight: 3
Checking readback 524: submitted frame 552, current frame 553, 1 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 24.1ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 554
Processing readbacks: 1 pending, completed_frame: 554, frames_in_flight: 3
Checking readback 524: submitted frame 552, current frame 554, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 554
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 554, frames_in_flight: 3
Checking readback 524: submitted frame 552, current frame 554, 2 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 19.7ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 555
Processing readbacks: 1 pending, completed_frame: 555, frames_in_flight: 3
Checking readback 524: submitted frame 552, current frame 555, 3 frames elapsed (need 3)
Readback 524 ready (submitted frame 552, current frame 555)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 508/512 completed
Minichunk 509/512 completed
Minichunk 510/512 completed
Minichunk 511/512 completed
Minichunk 512/512 completed
Chunk ChunkId(-1, -2, 0) complete! All 512 minichunks processed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 3/3
GPU generation completed successfully
GPU generation completed successfully. Voxel count: 262144
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Non-empty voxels: 0
Frame time: 16.8ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 556
Processing 0 completed readbacks
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 12.9ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 557
Processing 0 completed readbacks
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 11.1ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 558
Processing 0 completed readbacks
GPU pipeline worker: Processing request 62 with priority 9
get_chunks_for_rendering called - active chunks: 7, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: GPU generation thread spawned for bounds: [-64.0,-64.0,64.0] to [0.0,0.0,128.0]
vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
GPU generation: starting for 262144 voxels
GPU generation: waiting for result...
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing 0 completed readbacks
Main thread: Execute GPU worldgen for bounds [-64.0,-64.0,64.0] to [0.0,0.0,128.0]
Processing chunk ChunkId(-1, -1, 1) as minichunks
Creating ChunkAccumulator: 262144 voxels, 512 minichunks (8 per axis)
queue_generation_blocking returned: true
Async generation completed for chunk ChunkId(-1, -2, 0)
Sending result for chunk ChunkId(-1, -2, 0) through channel
Result sent successfully for chunk ChunkId(-1, -2, 0)
Queuing 512 minichunks for chunk ChunkId(-1, -1, 1)
Processing 512 minichunks in 43 batches of up to 12 each (frames_in_flight: 3)
PID controller: Processing 6 minichunks per workspace (workgroup budget: 6)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 2/3
Processing 6 minichunks in workspace 0
Overall bounds: [-64, -64, 64] to [-16, -56, 72]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd88, alignment: 0
Returning buffer pointer: 0x1948419dd88 (aligned: true)
Created staging buffer at: 0x1948419dd88
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b13000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5157706791315839121), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419ddc8, alignment: 0
Returning buffer pointer: 0x1948419ddc8 (aligned: true)
Created staging buffer at: 0x1948419ddc8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6992446451422861459), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419de08, alignment: 0
Returning buffer pointer: 0x1948419de08 (aligned: true)
Created staging buffer at: 0x1948419de08
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9070292530477668501), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df08, alignment: 0
Returning buffer pointer: 0x1948419df08 (aligned: true)
Created staging buffer at: 0x1948419df08
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5d000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8953056003654424727), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,6.4e1] to [-1.6e1,-5.6e1,7.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419df48, alignment: 0
Returning buffer pointer: 0x1948419df48 (aligned: true)
Submitting readback 525 at frame 558 (will be ready at frame 561)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 1
Overall bounds: [-64, -64, 64] to [0, -48, 72]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ae8, alignment: 0
Returning buffer pointer: 0x19484be2ae8 (aligned: true)
Created staging buffer at: 0x19484be2ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8409915951230752924), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2968, alignment: 0
Returning buffer pointer: 0x19484be2968 (aligned: true)
Created staging buffer at: 0x19484be2968
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b14000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8321600978264529054), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2568, alignment: 0
Returning buffer pointer: 0x19484be2568 (aligned: true)
Created staging buffer at: 0x19484be2568
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7938361802356693152), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2b68, alignment: 0
Returning buffer pointer: 0x19484be2b68 (aligned: true)
Created staging buffer at: 0x19484be2b68
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0f000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4653282742329415842), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,6.4e1] to [0.0e0,-4.8e1,7.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=6 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2a68, alignment: 0
Returning buffer pointer: 0x19484be2a68 (aligned: true)
Submitting readback 526 at frame 558 (will be ready at frame 561)
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 19.4ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 559
Processing readbacks: 2 pending, completed_frame: 559, frames_in_flight: 3
Checking readback 525: submitted frame 558, current frame 559, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 559
Received generation result 1 for region RegionId(-1, -1, 0)
Processing single chunk workspace for chunk ChunkId(-1, -2, 0)
Chunk ChunkId(-1, -2, 0) has 0 non-empty voxels out of 262144
Extracted 1 chunks from region RegionId(-1, -1, 0)
  Chunk ChunkId(-1, -2, 0): palette size 1, 32768 bytes compressed
Adding chunk ChunkId(-1, -2, 0) to active_chunks (total: 8)
Creating generation params for region RegionId(-1, -1, 0)
Region RegionId(-1, -1, 0) world bounds: min=[-256,-256,0] max=[0,0,256]
Creating plane SDF with normal [0, 0, 1] and distance 0
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 559, frames_in_flight: 3
Checking readback 525: submitted frame 558, current frame 559, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 42 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [-64, -56, 64] to [0, -40, 72]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be25a8, alignment: 0
Returning buffer pointer: 0x19484be25a8 (aligned: true)
Created staging buffer at: 0x19484be25a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6983875758284347559), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2728, alignment: 0
Returning buffer pointer: 0x19484be2728 (aligned: true)
Created staging buffer at: 0x19484be2728
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a42000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1838225111967078569), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2868, alignment: 0
Returning buffer pointer: 0x19484be2868 (aligned: true)
Created staging buffer at: 0x19484be2868
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a14000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6781666773843318955), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be29e8, alignment: 0
Returning buffer pointer: 0x19484be29e8 (aligned: true)
Created staging buffer at: 0x19484be29e8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a64000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6581760166750853293), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-5.6e1,6.4e1] to [0.0e0,-4.0e1,7.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3afe8, alignment: 0
Returning buffer pointer: 0x19484d3afe8 (aligned: true)
Submitting readback 527 at frame 559 (will be ready at frame 562)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 42.4ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 560
Processing readbacks: 3 pending, completed_frame: 560, frames_in_flight: 3
Checking readback 525: submitted frame 558, current frame 560, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 560
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 560, frames_in_flight: 3
Checking readback 525: submitted frame 558, current frame 560, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 42 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 37.6ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 561
Processing readbacks: 3 pending, completed_frame: 561, frames_in_flight: 3
Checking readback 525: submitted frame 558, current frame 561, 3 frames elapsed (need 3)
Readback 525 ready (submitted frame 558, current frame 561)
Checking readback 526: submitted frame 558, current frame 561, 3 frames elapsed (need 3)
Readback 526 ready (submitted frame 558, current frame 561)
Checking readback 527: submitted frame 559, current frame 561, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 1/512 completed
Minichunk 2/512 completed
Minichunk 3/512 completed
Minichunk 4/512 completed
Minichunk 5/512 completed
Minichunk 6/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 7/512 completed
Minichunk 8/512 completed
Minichunk 9/512 completed
Minichunk 10/512 completed
Minichunk 11/512 completed
Minichunk 12/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 561
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 561, frames_in_flight: 3
Checking readback 527: submitted frame 559, current frame 561, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 42 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 0
Overall bounds: [-64, -32, 64] to [0, -16, 72]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b068, alignment: 0
Returning buffer pointer: 0x19484d3b068 (aligned: true)
Created staging buffer at: 0x19484d3b068
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(819579265879120050), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b0a8, alignment: 0
Returning buffer pointer: 0x19484d3b0a8 (aligned: true)
Created staging buffer at: 0x19484d3b0a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a10000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12666704904979486900), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b1a8, alignment: 0
Returning buffer pointer: 0x19484d3b1a8 (aligned: true)
Created staging buffer at: 0x19484d3b1a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4823741129495156918), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3ae68, alignment: 0
Returning buffer pointer: 0x19484d3ae68 (aligned: true)
Created staging buffer at: 0x19484d3ae68
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0e000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2971215769297230008), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-3.2e1,6.4e1] to [0.0e0,-1.6e1,7.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be6908, alignment: 0
Returning buffer pointer: 0x19484be6908 (aligned: true)
Submitting readback 528 at frame 561 (will be ready at frame 564)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 1
Overall bounds: [-40, -24, 64] to [0, -16, 72]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6ac8, alignment: 0
Returning buffer pointer: 0x19484be6ac8 (aligned: true)
Created staging buffer at: 0x19484be6ac8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13376548512360044733), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6e08, alignment: 0
Returning buffer pointer: 0x19484be6e08 (aligned: true)
Created staging buffer at: 0x19484be6e08
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1e000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3493911502514034879), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6c88, alignment: 0
Returning buffer pointer: 0x19484be6c88 (aligned: true)
Created staging buffer at: 0x19484be6c88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4230719533054171329), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6b08, alignment: 0
Returning buffer pointer: 0x19484be6b08 (aligned: true)
Created staging buffer at: 0x19484be6b08
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2f000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9795323691972696259), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-2.4e1,6.4e1] to [0.0e0,-1.6e1,7.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194262435e8, alignment: 0
Returning buffer pointer: 0x194262435e8 (aligned: true)
Submitting readback 529 at frame 561 (will be ready at frame 564)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 42.9ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 562
Processing readbacks: 3 pending, completed_frame: 562, frames_in_flight: 3
Checking readback 527: submitted frame 559, current frame 562, 3 frames elapsed (need 3)
Readback 527 ready (submitted frame 559, current frame 562)
Checking readback 528: submitted frame 561, current frame 562, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 13/512 completed
Minichunk 14/512 completed
Minichunk 15/512 completed
Minichunk 16/512 completed
Minichunk 17/512 completed
Minichunk 18/512 completed
Minichunk 19/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 562
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 562, frames_in_flight: 3
Checking readback 528: submitted frame 561, current frame 562, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 41 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -48, 72] to [0, -32, 80]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194262436e8, alignment: 0
Returning buffer pointer: 0x194262436e8 (aligned: true)
Created staging buffer at: 0x194262436e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a55000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3456319199960373448), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3178, alignment: 0
Returning buffer pointer: 0x19484be3178 (aligned: true)
Created staging buffer at: 0x19484be3178
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14712857561363650762), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ff8, alignment: 0
Returning buffer pointer: 0x19484be2ff8 (aligned: true)
Created staging buffer at: 0x19484be2ff8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3f000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10755849353416415436), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2db8, alignment: 0
Returning buffer pointer: 0x19484be2db8 (aligned: true)
Created staging buffer at: 0x19484be2db8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5b000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1250863801385883854), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.8e1,7.2e1] to [0.0e0,-3.2e1,8.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2e38, alignment: 0
Returning buffer pointer: 0x19484be2e38 (aligned: true)
Submitting readback 530 at frame 562 (will be ready at frame 565)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 4 remaining minichunks from batch
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 43.1ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 563
Processing readbacks: 3 pending, completed_frame: 563, frames_in_flight: 3
Checking readback 528: submitted frame 561, current frame 563, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 563
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 563, frames_in_flight: 3
Checking readback 528: submitted frame 561, current frame 563, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 41 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 37.8ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 564
Processing readbacks: 3 pending, completed_frame: 564, frames_in_flight: 3
Checking readback 528: submitted frame 561, current frame 564, 3 frames elapsed (need 3)
Readback 528 ready (submitted frame 561, current frame 564)
Checking readback 529: submitted frame 561, current frame 564, 3 frames elapsed (need 3)
Readback 529 ready (submitted frame 561, current frame 564)
Checking readback 530: submitted frame 562, current frame 564, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 20/512 completed
Minichunk 21/512 completed
Minichunk 22/512 completed
Minichunk 23/512 completed
Minichunk 24/512 completed
Minichunk 25/512 completed
Minichunk 26/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (5 minichunks, 10240 bytes)
Minichunk 27/512 completed
Minichunk 28/512 completed
Minichunk 29/512 completed
Minichunk 30/512 completed
Minichunk 31/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 564
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 564, frames_in_flight: 3
Checking readback 530: submitted frame 562, current frame 564, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 41 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -16, 80] to [0, 0, 88]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31b8, alignment: 0
Returning buffer pointer: 0x19484be31b8 (aligned: true)
Created staging buffer at: 0x19484be31b8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a48000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16019984472254453971), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2a28, alignment: 0
Returning buffer pointer: 0x19484be2a28 (aligned: true)
Created staging buffer at: 0x19484be2a28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a58000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15607476296815220949), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26a8, alignment: 0
Returning buffer pointer: 0x19484be26a8 (aligned: true)
Created staging buffer at: 0x19484be26a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b15000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(508457057637112023), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2b28, alignment: 0
Returning buffer pointer: 0x19484be2b28 (aligned: true)
Created staging buffer at: 0x19484be2b28
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b16000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16913234315729443033), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.6e1,8.0e1] to [0.0e0,0.0e0,8.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2a68, alignment: 0
Returning buffer pointer: 0x19484be2a68 (aligned: true)
Submitting readback 531 at frame 564 (will be ready at frame 567)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 1
Overall bounds: [-32, -8, 80] to [0, 0, 88]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2768, alignment: 0
Returning buffer pointer: 0x19484be2768 (aligned: true)
Created staging buffer at: 0x19484be2768
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14559144736288938206), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e20b8, alignment: 0
Returning buffer pointer: 0x194846e20b8 (aligned: true)
Created staging buffer at: 0x194846e20b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a21000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17683092566288898272), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e20f8, alignment: 0
Returning buffer pointer: 0x194846e20f8 (aligned: true)
Created staging buffer at: 0x194846e20f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a61000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17670318440197396706), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1db8, alignment: 0
Returning buffer pointer: 0x194846e1db8 (aligned: true)
Created staging buffer at: 0x194846e1db8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2c000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18083028925776140516), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-3.2e1,-8.0e0,8.0e1] to [0.0e0,0.0e0,8.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e1af8, alignment: 0
Returning buffer pointer: 0x194846e1af8 (aligned: true)
Submitting readback 532 at frame 564 (will be ready at frame 567)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 42.1ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 565
Processing readbacks: 3 pending, completed_frame: 565, frames_in_flight: 3
Checking readback 530: submitted frame 562, current frame 565, 3 frames elapsed (need 3)
Readback 530 ready (submitted frame 562, current frame 565)
Checking readback 531: submitted frame 564, current frame 565, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 32/512 completed
Minichunk 33/512 completed
Minichunk 34/512 completed
Minichunk 35/512 completed
Minichunk 36/512 completed
Minichunk 37/512 completed
Minichunk 38/512 completed
Minichunk 39/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 565
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 565, frames_in_flight: 3
Checking readback 531: submitted frame 564, current frame 565, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 40 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [-64, -16, 104] to [0, 0, 112]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3378, alignment: 0
Returning buffer pointer: 0x19484be3378 (aligned: true)
Created staging buffer at: 0x19484be3378
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18084896996031731945), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33f8, alignment: 0
Returning buffer pointer: 0x19484be33f8 (aligned: true)
Created staging buffer at: 0x19484be33f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a45000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9740322821816457451), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3478, alignment: 0
Returning buffer pointer: 0x19484be3478 (aligned: true)
Created staging buffer at: 0x19484be3478
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a29000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16759400544375675117), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e38, alignment: 0
Returning buffer pointer: 0x19484be2e38 (aligned: true)
Created staging buffer at: 0x19484be2e38
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0c000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14852598892184213743), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.6e1,1.0e2] to [0.0e0,0.0e0,1.1e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2eb8, alignment: 0
Returning buffer pointer: 0x19484be2eb8 (aligned: true)
Submitting readback 533 at frame 565 (will be ready at frame 568)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 41.0ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 9)
DeferredReadbackManager: advanced to frame 566
Processing readbacks: 3 pending, completed_frame: 566, frames_in_flight: 3
Checking readback 531: submitted frame 564, current frame 566, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 566
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 566, frames_in_flight: 3
Checking readback 531: submitted frame 564, current frame 566, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 40 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.5ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 567
Processing readbacks: 3 pending, completed_frame: 567, frames_in_flight: 3
Checking readback 531: submitted frame 564, current frame 567, 3 frames elapsed (need 3)
Readback 531 ready (submitted frame 564, current frame 567)
Checking readback 532: submitted frame 564, current frame 567, 3 frames elapsed (need 3)
Readback 532 ready (submitted frame 564, current frame 567)
Checking readback 533: submitted frame 565, current frame 567, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 40/512 completed
Minichunk 41/512 completed
Minichunk 42/512 completed
Minichunk 43/512 completed
Minichunk 44/512 completed
Minichunk 45/512 completed
Minichunk 46/512 completed
Minichunk 47/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (4 minichunks, 8192 bytes)
Minichunk 48/512 completed
Minichunk 49/512 completed
Minichunk 50/512 completed
Minichunk 51/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 567
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 567, frames_in_flight: 3
Checking readback 533: submitted frame 565, current frame 567, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 40 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 8 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -8, 120] to [0, 0, 128]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d38, alignment: 0
Returning buffer pointer: 0x19484be2d38 (aligned: true)
Created staging buffer at: 0x19484be2d38
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a15000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10846747079196285172), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3278, alignment: 0
Returning buffer pointer: 0x19484be3278 (aligned: true)
Created staging buffer at: 0x19484be3278
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a31000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1521971482958239990), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2fb8, alignment: 0
Returning buffer pointer: 0x19484be2fb8 (aligned: true)
Created staging buffer at: 0x19484be2fb8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a43000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15912675435918399736), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32b8, alignment: 0
Returning buffer pointer: 0x19484be32b8 (aligned: true)
Created staging buffer at: 0x19484be32b8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a44000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11404165389618256122), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e0,1.2e2] to [0.0e0,0.0e0,1.3e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2df8, alignment: 0
Returning buffer pointer: 0x19484be2df8 (aligned: true)
Submitting readback 534 at frame 567 (will be ready at frame 570)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 5 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 1
Overall bounds: [-40, -48, 64] to [0, -40, 72]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e78, alignment: 0
Returning buffer pointer: 0x19484be2e78 (aligned: true)
Created staging buffer at: 0x19484be2e78
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(525541269309495551), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ef8, alignment: 0
Returning buffer pointer: 0x19484be2ef8 (aligned: true)
Created staging buffer at: 0x19484be2ef8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12354164326737647873), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6b48, alignment: 0
Returning buffer pointer: 0x19484be6b48 (aligned: true)
Created staging buffer at: 0x19484be6b48
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a49000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15004231441259174147), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be68c8, alignment: 0
Returning buffer pointer: 0x19484be68c8 (aligned: true)
Created staging buffer at: 0x19484be68c8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4a000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(686714280778668293), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-4.8e1,6.4e1] to [0.0e0,-4.0e1,7.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be6908, alignment: 0
Returning buffer pointer: 0x19484be6908 (aligned: true)
Submitting readback 535 at frame 567 (will be ready at frame 570)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 37.2ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 568
Processing readbacks: 3 pending, completed_frame: 568, frames_in_flight: 3
Checking readback 533: submitted frame 565, current frame 568, 3 frames elapsed (need 3)
Readback 533 ready (submitted frame 565, current frame 568)
Checking readback 534: submitted frame 567, current frame 568, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 52/512 completed
Minichunk 53/512 completed
Minichunk 54/512 completed
Minichunk 55/512 completed
Minichunk 56/512 completed
Minichunk 57/512 completed
Minichunk 58/512 completed
Minichunk 59/512 completed
Minichunk 60/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 568
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0, Pitch: 0.0, Roll: -45.0]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 568, frames_in_flight: 3
Checking readback 534: submitted frame 567, current frame 568, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 38 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [-64, -24, 120] to [0, -8, 128]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aea8, alignment: 0
Returning buffer pointer: 0x19484d3aea8 (aligned: true)
Created staging buffer at: 0x19484d3aea8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a33000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13402514578961602826), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aee8, alignment: 0
Returning buffer pointer: 0x19484d3aee8 (aligned: true)
Created staging buffer at: 0x19484d3aee8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a40000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14030043248328710412), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af28, alignment: 0
Returning buffer pointer: 0x19484d3af28 (aligned: true)
Created staging buffer at: 0x19484d3af28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a34000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4350978617342171406), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3afa8, alignment: 0
Returning buffer pointer: 0x19484d3afa8 (aligned: true)
Created staging buffer at: 0x19484d3afa8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a53000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13499546480112834832), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-2.4e1,1.2e2] to [0.0e0,-8.0e0,1.3e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3afe8, alignment: 0
Returning buffer pointer: 0x19484d3afe8 (aligned: true)
Submitting readback 536 at frame 568 (will be ready at frame 571)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.2ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 569
Processing readbacks: 3 pending, completed_frame: 569, frames_in_flight: 3
Checking readback 534: submitted frame 567, current frame 569, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 569
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 569, frames_in_flight: 3
Checking readback 534: submitted frame 567, current frame 569, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 38 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.2ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 570
Processing readbacks: 3 pending, completed_frame: 570, frames_in_flight: 3
Checking readback 534: submitted frame 567, current frame 570, 3 frames elapsed (need 3)
Readback 534 ready (submitted frame 567, current frame 570)
Checking readback 535: submitted frame 567, current frame 570, 3 frames elapsed (need 3)
Readback 535 ready (submitted frame 567, current frame 570)
Checking readback 536: submitted frame 568, current frame 570, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 61/512 completed
Minichunk 62/512 completed
Minichunk 63/512 completed
Minichunk 64/512 completed
Minichunk 65/512 completed
Minichunk 66/512 completed
Minichunk 67/512 completed
Minichunk 68/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (5 minichunks, 10240 bytes)
Minichunk 69/512 completed
Minichunk 70/512 completed
Minichunk 71/512 completed
Minichunk 72/512 completed
Minichunk 73/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 570
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 570, frames_in_flight: 3
Checking readback 536: submitted frame 568, current frame 570, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 38 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 4 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 4 minichunks in workspace 0
Overall bounds: [-32, -40, 72] to [0, -32, 80]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b028, alignment: 0
Returning buffer pointer: 0x19484d3b028 (aligned: true)
Created staging buffer at: 0x19484d3b028
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a54000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3121170463628204309), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b168, alignment: 0
Returning buffer pointer: 0x19484d3b168 (aligned: true)
Created staging buffer at: 0x19484d3b168
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3376048254062958871), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be28e8, alignment: 0
Returning buffer pointer: 0x19484be28e8 (aligned: true)
Created staging buffer at: 0x19484be28e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9936106260304763161), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27a8, alignment: 0
Returning buffer pointer: 0x19484be27a8 (aligned: true)
Created staging buffer at: 0x19484be27a8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0b000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2381953403111610651), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-3.2e1,-4.0e1,7.2e1] to [0.0e0,-3.2e1,8.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2628, alignment: 0
Returning buffer pointer: 0x19484be2628 (aligned: true)
Submitting readback 537 at frame 570 (will be ready at frame 573)
Successfully queued 4 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [-64, -32, 120] to [-8, -24, 128]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2a68, alignment: 0
Returning buffer pointer: 0x19484be2a68 (aligned: true)
Created staging buffer at: 0x19484be2a68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4653965539050264864), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2828, alignment: 0
Returning buffer pointer: 0x19484be2828 (aligned: true)
Created staging buffer at: 0x19484be2828
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a11000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11385195515504236834), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3138, alignment: 0
Returning buffer pointer: 0x19484be3138 (aligned: true)
Created staging buffer at: 0x19484be3138
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a12000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1421326586598136100), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d78, alignment: 0
Returning buffer pointer: 0x19484be2d78 (aligned: true)
Created staging buffer at: 0x19484be2d78
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a56000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6121362762363836710), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-3.2e1,1.2e2] to [-8.0e0,-2.4e1,1.3e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be31f8, alignment: 0
Returning buffer pointer: 0x19484be31f8 (aligned: true)
Submitting readback 538 at frame 570 (will be ready at frame 573)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.3ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 571
Processing readbacks: 3 pending, completed_frame: 571, frames_in_flight: 3
Checking readback 536: submitted frame 568, current frame 571, 3 frames elapsed (need 3)
Readback 536 ready (submitted frame 568, current frame 571)
Checking readback 537: submitted frame 570, current frame 571, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 74/512 completed
Minichunk 75/512 completed
Minichunk 76/512 completed
Minichunk 77/512 completed
Minichunk 78/512 completed
Minichunk 79/512 completed
Minichunk 80/512 completed
Minichunk 81/512 completed
Minichunk 82/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 571
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 571, frames_in_flight: 3
Checking readback 537: submitted frame 570, current frame 571, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 37 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 3 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 2
Overall bounds: [-24, -8, 104] to [0, 0, 112]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2eb8, alignment: 0
Returning buffer pointer: 0x19484be2eb8 (aligned: true)
Created staging buffer at: 0x19484be2eb8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a46000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7846631746274597163), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3038, alignment: 0
Returning buffer pointer: 0x19484be3038 (aligned: true)
Created staging buffer at: 0x19484be3038
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a38000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(737068614795925805), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32f8, alignment: 0
Returning buffer pointer: 0x19484be32f8 (aligned: true)
Created staging buffer at: 0x19484be32f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b12000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7021616494907758895), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2df8, alignment: 0
Returning buffer pointer: 0x19484be2df8 (aligned: true)
Created staging buffer at: 0x19484be2df8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f5000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8694055044615510321), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-8.0e0,1.0e2] to [0.0e0,0.0e0,1.1e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2f38, alignment: 0
Returning buffer pointer: 0x19484be2f38 (aligned: true)
Submitting readback 539 at frame 571 (will be ready at frame 574)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.3ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 12)
DeferredReadbackManager: advanced to frame 572
Processing readbacks: 3 pending, completed_frame: 572, frames_in_flight: 3
Checking readback 537: submitted frame 570, current frame 572, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 572
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 572, frames_in_flight: 3
Checking readback 537: submitted frame 570, current frame 572, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 36 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.3ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 573
Processing readbacks: 3 pending, completed_frame: 573, frames_in_flight: 3
Checking readback 537: submitted frame 570, current frame 573, 3 frames elapsed (need 3)
Readback 537 ready (submitted frame 570, current frame 573)
Checking readback 538: submitted frame 570, current frame 573, 3 frames elapsed (need 3)
Readback 538 ready (submitted frame 570, current frame 573)
Checking readback 539: submitted frame 571, current frame 573, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (4 minichunks, 8192 bytes)
Minichunk 83/512 completed
Minichunk 84/512 completed
Minichunk 85/512 completed
Minichunk 86/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 87/512 completed
Minichunk 88/512 completed
Minichunk 89/512 completed
Minichunk 90/512 completed
Minichunk 91/512 completed
Minichunk 92/512 completed
Minichunk 93/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 573
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 573, frames_in_flight: 3
Checking readback 539: submitted frame 571, current frame 573, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 36 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -48, 120] to [0, -32, 128]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30f8, alignment: 0
Returning buffer pointer: 0x19484be30f8 (aligned: true)
Created staging buffer at: 0x19484be30f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a30000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8660107623107926326), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31f8, alignment: 0
Returning buffer pointer: 0x19484be31f8 (aligned: true)
Created staging buffer at: 0x19484be31f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a52000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8329244783100827960), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e2138, alignment: 0
Returning buffer pointer: 0x194846e2138 (aligned: true)
Created staging buffer at: 0x194846e2138
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8583295740791494970), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1af8, alignment: 0
Returning buffer pointer: 0x194846e1af8 (aligned: true)
Created staging buffer at: 0x194846e1af8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a22000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7323811768243853628), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.8e1,1.2e2] to [0.0e0,-3.2e1,1.3e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e1ab8, alignment: 0
Returning buffer pointer: 0x194846e1ab8 (aligned: true)
Submitting readback 540 at frame 573 (will be ready at frame 576)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 1
Overall bounds: [-32, -40, 120] to [0, -32, 128]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1d78, alignment: 0
Returning buffer pointer: 0x194846e1d78 (aligned: true)
Created staging buffer at: 0x194846e1d78
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a59000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10095677283332266305), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1e38, alignment: 0
Returning buffer pointer: 0x194846e1e38 (aligned: true)
Created staging buffer at: 0x194846e1e38
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7301319058874440003), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5768, alignment: 0
Returning buffer pointer: 0x19484be5768 (aligned: true)
Created staging buffer at: 0x19484be5768
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b17000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6252668639976102213), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e28, alignment: 0
Returning buffer pointer: 0x19484be5e28 (aligned: true)
Created staging buffer at: 0x19484be5e28
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b18000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10663489277171603783), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-3.2e1,-4.0e1,1.2e2] to [0.0e0,-3.2e1,1.3e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be58a8, alignment: 0
Returning buffer pointer: 0x19484be58a8 (aligned: true)
Submitting readback 541 at frame 573 (will be ready at frame 576)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.6ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 574
Processing readbacks: 3 pending, completed_frame: 574, frames_in_flight: 3
Checking readback 539: submitted frame 571, current frame 574, 3 frames elapsed (need 3)
Readback 539 ready (submitted frame 571, current frame 574)
Checking readback 540: submitted frame 573, current frame 574, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (3 minichunks, 6144 bytes)
Minichunk 94/512 completed
Minichunk 95/512 completed
Minichunk 96/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 574
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 574, frames_in_flight: 3
Checking readback 540: submitted frame 573, current frame 574, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 35 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [-64, -56, 120] to [0, -40, 128]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57e8, alignment: 0
Returning buffer pointer: 0x19484be57e8 (aligned: true)
Created staging buffer at: 0x19484be57e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1438054556503120204), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5828, alignment: 0
Returning buffer pointer: 0x19484be5828 (aligned: true)
Created staging buffer at: 0x19484be5828
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a41000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6286898635972024654), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5868, alignment: 0
Returning buffer pointer: 0x19484be5868 (aligned: true)
Created staging buffer at: 0x19484be5868
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a57000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11926027693021206864), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58e8, alignment: 0
Returning buffer pointer: 0x19484be58e8 (aligned: true)
Created staging buffer at: 0x19484be58e8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a32000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(876514176988617042), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-5.6e1,1.2e2] to [0.0e0,-4.0e1,1.3e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be59e8, alignment: 0
Returning buffer pointer: 0x19484be59e8 (aligned: true)
Submitting readback 542 at frame 574 (will be ready at frame 577)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.0ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 575
Processing readbacks: 3 pending, completed_frame: 575, frames_in_flight: 3
Checking readback 540: submitted frame 573, current frame 575, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 575
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 575, frames_in_flight: 3
Checking readback 540: submitted frame 573, current frame 575, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 35 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.8ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 576
Processing readbacks: 3 pending, completed_frame: 576, frames_in_flight: 3
Checking readback 540: submitted frame 573, current frame 576, 3 frames elapsed (need 3)
Readback 540 ready (submitted frame 573, current frame 576)
Checking readback 541: submitted frame 573, current frame 576, 3 frames elapsed (need 3)
Readback 541 ready (submitted frame 573, current frame 576)
Checking readback 542: submitted frame 574, current frame 576, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 97/512 completed
Minichunk 98/512 completed
Minichunk 99/512 completed
Minichunk 100/512 completed
Minichunk 101/512 completed
Minichunk 102/512 completed
Minichunk 103/512 completed
Minichunk 104/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (4 minichunks, 8192 bytes)
Minichunk 105/512 completed
Minichunk 106/512 completed
Minichunk 107/512 completed
Minichunk 108/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 576
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 576, frames_in_flight: 3
Checking readback 542: submitted frame 574, current frame 576, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 35 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 3 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 3 minichunks in workspace 0
Overall bounds: [-24, -16, 120] to [0, -8, 128]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c68, alignment: 0
Returning buffer pointer: 0x19484be5c68 (aligned: true)
Created staging buffer at: 0x19484be5c68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11939865046856767831), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a28, alignment: 0
Returning buffer pointer: 0x19484be5a28 (aligned: true)
Created staging buffer at: 0x19484be5a28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13034642177563564377), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57a8, alignment: 0
Returning buffer pointer: 0x19484be57a8 (aligned: true)
Created staging buffer at: 0x19484be57a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3736342821322365275), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ce8, alignment: 0
Returning buffer pointer: 0x19484be5ce8 (aligned: true)
Created staging buffer at: 0x19484be5ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a63000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13281315412231854429), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-1.6e1,1.2e2] to [0.0e0,-8.0e0,1.3e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be58a8, alignment: 0
Returning buffer pointer: 0x19484be58a8 (aligned: true)
Submitting readback 543 at frame 576 (will be ready at frame 579)
Successfully queued 3 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 1
Overall bounds: [-64, -64, 112] to [0, 0, 128]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59a8, alignment: 0
Returning buffer pointer: 0x19484be59a8 (aligned: true)
Created staging buffer at: 0x19484be59a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a25000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14364249703195875682), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a68, alignment: 0
Returning buffer pointer: 0x19484be5a68 (aligned: true)
Created staging buffer at: 0x19484be5a68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a17000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2406706708387731812), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419de88, alignment: 0
Returning buffer pointer: 0x1948419de88 (aligned: true)
Created staging buffer at: 0x1948419de88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a18000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9947805064024299878), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd08, alignment: 0
Returning buffer pointer: 0x1948419dd08 (aligned: true)
Created staging buffer at: 0x1948419dd08
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a08000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3241107391009266024), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,1.1e2] to [0.0e0,0.0e0,1.3e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=9 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dec8, alignment: 0
Returning buffer pointer: 0x1948419dec8 (aligned: true)
Submitting readback 544 at frame 576 (will be ready at frame 579)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.4ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 577
Processing readbacks: 3 pending, completed_frame: 577, frames_in_flight: 3
Checking readback 542: submitted frame 574, current frame 577, 3 frames elapsed (need 3)
Readback 542 ready (submitted frame 574, current frame 577)
Checking readback 543: submitted frame 576, current frame 577, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 109/512 completed
Minichunk 110/512 completed
Minichunk 111/512 completed
Minichunk 112/512 completed
Minichunk 113/512 completed
Minichunk 114/512 completed
Minichunk 115/512 completed
Minichunk 116/512 completed
Minichunk 117/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 577
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 577, frames_in_flight: 3
Checking readback 543: submitted frame 576, current frame 577, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 34 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 5 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [-64, -32, 120] to [0, -16, 128]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df48, alignment: 0
Returning buffer pointer: 0x1948419df48 (aligned: true)
Created staging buffer at: 0x1948419df48
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a47000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15349049282846005613), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df88, alignment: 0
Returning buffer pointer: 0x1948419df88 (aligned: true)
Created staging buffer at: 0x1948419df88
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10645248379266799983), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd48, alignment: 0
Returning buffer pointer: 0x1948419dd48 (aligned: true)
Created staging buffer at: 0x1948419dd48
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a13000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2193608160785209713), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dfc8, alignment: 0
Returning buffer pointer: 0x1948419dfc8 (aligned: true)
Created staging buffer at: 0x1948419dfc8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a19000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13929353271991867763), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-3.2e1,1.2e2] to [0.0e0,-1.6e1,1.3e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=5 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dc88, alignment: 0
Returning buffer pointer: 0x1948419dc88 (aligned: true)
Submitting readback 545 at frame 577 (will be ready at frame 580)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 9)
DeferredReadbackManager: advanced to frame 578
Processing readbacks: 3 pending, completed_frame: 578, frames_in_flight: 3
Checking readback 543: submitted frame 576, current frame 578, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 578
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 578, frames_in_flight: 3
Checking readback 543: submitted frame 576, current frame 578, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 33 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.0ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 579
Processing readbacks: 3 pending, completed_frame: 579, frames_in_flight: 3
Checking readback 543: submitted frame 576, current frame 579, 3 frames elapsed (need 3)
Readback 543 ready (submitted frame 576, current frame 579)
Checking readback 544: submitted frame 576, current frame 579, 3 frames elapsed (need 3)
Readback 544 ready (submitted frame 576, current frame 579)
Checking readback 545: submitted frame 577, current frame 579, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 118/512 completed
Minichunk 119/512 completed
Minichunk 120/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 121/512 completed
Minichunk 122/512 completed
Minichunk 123/512 completed
Minichunk 124/512 completed
Minichunk 125/512 completed
Minichunk 126/512 completed
Minichunk 127/512 completed
Minichunk 128/512 completed
Minichunk 129/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 579
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 579, frames_in_flight: 3
Checking readback 545: submitted frame 577, current frame 579, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 33 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -16, 112] to [0, -8, 120]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dcc8, alignment: 0
Returning buffer pointer: 0x1948419dcc8 (aligned: true)
Created staging buffer at: 0x1948419dcc8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16232285873926838648), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2f38, alignment: 0
Returning buffer pointer: 0x19484be2f38 (aligned: true)
Created staging buffer at: 0x19484be2f38
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a62000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(715852438426360186), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33b8, alignment: 0
Returning buffer pointer: 0x19484be33b8 (aligned: true)
Created staging buffer at: 0x19484be33b8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a16000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17192823629998463356), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3078, alignment: 0
Returning buffer pointer: 0x19484be3078 (aligned: true)
Created staging buffer at: 0x19484be3078
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a26000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16933776491471182206), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.6e1,1.1e2] to [0.0e0,-8.0e0,1.2e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be3338, alignment: 0
Returning buffer pointer: 0x19484be3338 (aligned: true)
Submitting readback 546 at frame 579 (will be ready at frame 582)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 1
Overall bounds: [-64, -8, 112] to [-32, 0, 120]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30b8, alignment: 0
Returning buffer pointer: 0x19484be30b8 (aligned: true)
Created staging buffer at: 0x19484be30b8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a09000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18129576750538037635), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59e8, alignment: 0
Returning buffer pointer: 0x19484be59e8 (aligned: true)
Created staging buffer at: 0x19484be59e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18163910100626971013), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5be8, alignment: 0
Returning buffer pointer: 0x19484be5be8 (aligned: true)
Created staging buffer at: 0x19484be5be8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14028042137166158215), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58a8, alignment: 0
Returning buffer pointer: 0x19484be58a8 (aligned: true)
Created staging buffer at: 0x19484be58a8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4d000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17998328047530416521), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e0,1.1e2] to [-3.2e1,0.0e0,1.2e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5c28, alignment: 0
Returning buffer pointer: 0x19484be5c28 (aligned: true)
Submitting readback 547 at frame 579 (will be ready at frame 582)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 580
Processing readbacks: 3 pending, completed_frame: 580, frames_in_flight: 3
Checking readback 545: submitted frame 577, current frame 580, 3 frames elapsed (need 3)
Readback 545 ready (submitted frame 577, current frame 580)
Checking readback 546: submitted frame 579, current frame 580, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 130/512 completed
Minichunk 131/512 completed
Minichunk 132/512 completed
Minichunk 133/512 completed
Minichunk 134/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 580
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 580, frames_in_flight: 3
Checking readback 546: submitted frame 579, current frame 580, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 32 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [-64, -32, 112] to [0, -16, 120]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ae8, alignment: 0
Returning buffer pointer: 0x19484be5ae8 (aligned: true)
Created staging buffer at: 0x19484be5ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a20000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9930805514747255182), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ba8, alignment: 0
Returning buffer pointer: 0x19484be5ba8 (aligned: true)
Created staging buffer at: 0x19484be5ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15008106120235456912), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d68, alignment: 0
Returning buffer pointer: 0x19484be5d68 (aligned: true)
Created staging buffer at: 0x19484be5d68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a23000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16969074113257675154), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26e8, alignment: 0
Returning buffer pointer: 0x19484be26e8 (aligned: true)
Created staging buffer at: 0x19484be26e8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a35000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9778446188486334868), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-3.2e1,1.1e2] to [0.0e0,-1.6e1,1.2e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2528, alignment: 0
Returning buffer pointer: 0x19484be2528 (aligned: true)
Submitting readback 548 at frame 580 (will be ready at frame 583)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.3ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 8)
DeferredReadbackManager: advanced to frame 581
Processing readbacks: 3 pending, completed_frame: 581, frames_in_flight: 3
Checking readback 546: submitted frame 579, current frame 581, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 581
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 581, frames_in_flight: 3
Checking readback 546: submitted frame 579, current frame 581, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 32 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.2ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 582
Processing readbacks: 3 pending, completed_frame: 582, frames_in_flight: 3
Checking readback 546: submitted frame 579, current frame 582, 3 frames elapsed (need 3)
Readback 546 ready (submitted frame 579, current frame 582)
Checking readback 547: submitted frame 579, current frame 582, 3 frames elapsed (need 3)
Readback 547 ready (submitted frame 579, current frame 582)
Checking readback 548: submitted frame 580, current frame 582, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 135/512 completed
Minichunk 136/512 completed
Minichunk 137/512 completed
Minichunk 138/512 completed
Minichunk 139/512 completed
Minichunk 140/512 completed
Minichunk 141/512 completed
Minichunk 142/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (4 minichunks, 8192 bytes)
Minichunk 143/512 completed
Minichunk 144/512 completed
Minichunk 145/512 completed
Minichunk 146/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 582
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 582, frames_in_flight: 3
Checking readback 548: submitted frame 580, current frame 582, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 32 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 3 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 3 minichunks in workspace 0
Overall bounds: [-56, -48, 120] to [-32, -40, 128]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2628, alignment: 0
Returning buffer pointer: 0x19484be2628 (aligned: true)
Created staging buffer at: 0x19484be2628
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a36000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2178783445507905945), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be29a8, alignment: 0
Returning buffer pointer: 0x19484be29a8 (aligned: true)
Created staging buffer at: 0x19484be29a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a24000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15889801196014147995), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be28a8, alignment: 0
Returning buffer pointer: 0x19484be28a8 (aligned: true)
Created staging buffer at: 0x19484be28a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a39000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10747969153580145053), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27e8, alignment: 0
Returning buffer pointer: 0x19484be27e8 (aligned: true)
Created staging buffer at: 0x19484be27e8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1b000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1611997296017283487), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-5.6e1,-4.8e1,1.2e2] to [-3.2e1,-4.0e1,1.3e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5aa8, alignment: 0
Returning buffer pointer: 0x19484be5aa8 (aligned: true)
Submitting readback 549 at frame 582 (will be ready at frame 585)
Successfully queued 3 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [-64, -40, 112] to [-8, -32, 120]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5da8, alignment: 0
Returning buffer pointer: 0x19484be5da8 (aligned: true)
Created staging buffer at: 0x19484be5da8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14872596809670203812), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5b28, alignment: 0
Returning buffer pointer: 0x19484be5b28 (aligned: true)
Created staging buffer at: 0x19484be5b28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a60000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12348859183133628838), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c28, alignment: 0
Returning buffer pointer: 0x19484be5c28 (aligned: true)
Created staging buffer at: 0x19484be5c28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(564770744676915624), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d28, alignment: 0
Returning buffer pointer: 0x19484be5d28 (aligned: true)
Created staging buffer at: 0x19484be5d28
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0e000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13468271971372374442), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.0e1,1.1e2] to [-8.0e0,-3.2e1,1.2e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3af68, alignment: 0
Returning buffer pointer: 0x19484d3af68 (aligned: true)
Submitting readback 550 at frame 582 (will be ready at frame 585)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.3ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 583
Processing readbacks: 3 pending, completed_frame: 583, frames_in_flight: 3
Checking readback 548: submitted frame 580, current frame 583, 3 frames elapsed (need 3)
Readback 548 ready (submitted frame 580, current frame 583)
Checking readback 549: submitted frame 582, current frame 583, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 147/512 completed
Minichunk 148/512 completed
Minichunk 149/512 completed
Minichunk 150/512 completed
Minichunk 151/512 completed
Minichunk 152/512 completed
Minichunk 153/512 completed
Minichunk 154/512 completed
Minichunk 155/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 583
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 583, frames_in_flight: 3
Checking readback 549: submitted frame 582, current frame 583, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 31 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 3 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 2
Overall bounds: [-24, -64, 120] to [0, -56, 128]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3afe8, alignment: 0
Returning buffer pointer: 0x19484d3afe8 (aligned: true)
Created staging buffer at: 0x19484d3afe8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13465840951163361711), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b0e8, alignment: 0
Returning buffer pointer: 0x19484d3b0e8 (aligned: true)
Created staging buffer at: 0x19484d3b0e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3822290545753987505), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b128, alignment: 0
Returning buffer pointer: 0x19484d3b128 (aligned: true)
Created staging buffer at: 0x19484d3b128
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13005624966194928051), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dec8, alignment: 0
Returning buffer pointer: 0x1948419dec8 (aligned: true)
Created staging buffer at: 0x1948419dec8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0f000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5342708418782173621), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-6.4e1,1.2e2] to [0.0e0,-5.6e1,1.3e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419df08, alignment: 0
Returning buffer pointer: 0x1948419df08 (aligned: true)
Submitting readback 551 at frame 583 (will be ready at frame 586)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.0ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 10)
DeferredReadbackManager: advanced to frame 584
Processing readbacks: 3 pending, completed_frame: 584, frames_in_flight: 3
Checking readback 549: submitted frame 582, current frame 584, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 584
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 584, frames_in_flight: 3
Checking readback 549: submitted frame 582, current frame 584, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 30 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.8ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 585
Processing readbacks: 3 pending, completed_frame: 585, frames_in_flight: 3
Checking readback 549: submitted frame 582, current frame 585, 3 frames elapsed (need 3)
Readback 549 ready (submitted frame 582, current frame 585)
Checking readback 550: submitted frame 582, current frame 585, 3 frames elapsed (need 3)
Readback 550 ready (submitted frame 582, current frame 585)
Checking readback 551: submitted frame 583, current frame 585, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 156/512 completed
Minichunk 157/512 completed
Minichunk 158/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 159/512 completed
Minichunk 160/512 completed
Minichunk 161/512 completed
Minichunk 162/512 completed
Minichunk 163/512 completed
Minichunk 164/512 completed
Minichunk 165/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 585
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 585, frames_in_flight: 3
Checking readback 551: submitted frame 583, current frame 585, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 30 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -56, 112] to [0, -40, 120]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd88, alignment: 0
Returning buffer pointer: 0x1948419dd88 (aligned: true)
Created staging buffer at: 0x1948419dd88
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a37000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3079746363051743674), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419ddc8, alignment: 0
Returning buffer pointer: 0x1948419ddc8 (aligned: true)
Created staging buffer at: 0x1948419ddc8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9797531511321270716), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419de08, alignment: 0
Returning buffer pointer: 0x1948419de08 (aligned: true)
Created staging buffer at: 0x1948419de08
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6397663437354179006), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5aa8, alignment: 0
Returning buffer pointer: 0x19484be5aa8 (aligned: true)
Created staging buffer at: 0x19484be5aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3c000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6801225986189826496), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-5.6e1,1.1e2] to [0.0e0,-4.0e1,1.2e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5968, alignment: 0
Returning buffer pointer: 0x19484be5968 (aligned: true)
Submitting readback 552 at frame 585 (will be ready at frame 588)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 1
Overall bounds: [-32, -48, 112] to [0, -40, 120]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5de8, alignment: 0
Returning buffer pointer: 0x19484be5de8 (aligned: true)
Created staging buffer at: 0x19484be5de8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a27000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10479148456193563077), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ca8, alignment: 0
Returning buffer pointer: 0x19484be5ca8 (aligned: true)
Created staging buffer at: 0x19484be5ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1557075590698244551), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5728, alignment: 0
Returning buffer pointer: 0x19484be5728 (aligned: true)
Created staging buffer at: 0x19484be5728
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a51000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5477131411859184073), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e68, alignment: 0
Returning buffer pointer: 0x19484be5e68 (aligned: true)
Created staging buffer at: 0x19484be5e68
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a28000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8063901840992901579), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-3.2e1,-4.8e1,1.1e2] to [0.0e0,-4.0e1,1.2e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2968, alignment: 0
Returning buffer pointer: 0x19484be2968 (aligned: true)
Submitting readback 553 at frame 585 (will be ready at frame 588)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.7ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 586
Processing readbacks: 3 pending, completed_frame: 586, frames_in_flight: 3
Checking readback 551: submitted frame 583, current frame 586, 3 frames elapsed (need 3)
Readback 551 ready (submitted frame 583, current frame 586)
Checking readback 552: submitted frame 585, current frame 586, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (3 minichunks, 6144 bytes)
Minichunk 166/512 completed
Minichunk 167/512 completed
Minichunk 168/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 586
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 586, frames_in_flight: 3
Checking readback 552: submitted frame 585, current frame 586, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [-64, -64, 112] to [0, -48, 120]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2728, alignment: 0
Returning buffer pointer: 0x19484be2728 (aligned: true)
Created staging buffer at: 0x19484be2728
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a14000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(509292686474222032), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ae8, alignment: 0
Returning buffer pointer: 0x19484be2ae8 (aligned: true)
Created staging buffer at: 0x19484be2ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8840439624691096018), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2528, alignment: 0
Returning buffer pointer: 0x19484be2528 (aligned: true)
Created staging buffer at: 0x19484be2528
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a42000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8089795339827026388), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2b68, alignment: 0
Returning buffer pointer: 0x19484be2b68 (aligned: true)
Created staging buffer at: 0x19484be2b68
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0e000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8733051423517841878), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,1.1e2] to [0.0e0,-4.8e1,1.2e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2568, alignment: 0
Returning buffer pointer: 0x19484be2568 (aligned: true)
Submitting readback 554 at frame 586 (will be ready at frame 589)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.7ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 12)
DeferredReadbackManager: advanced to frame 587
Processing readbacks: 3 pending, completed_frame: 587, frames_in_flight: 3
Checking readback 552: submitted frame 585, current frame 587, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 587
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 587, frames_in_flight: 3
Checking readback 552: submitted frame 585, current frame 587, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.8ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 588
Processing readbacks: 3 pending, completed_frame: 588, frames_in_flight: 3
Checking readback 552: submitted frame 585, current frame 588, 3 frames elapsed (need 3)
Readback 552 ready (submitted frame 585, current frame 588)
Checking readback 553: submitted frame 585, current frame 588, 3 frames elapsed (need 3)
Readback 553 ready (submitted frame 585, current frame 588)
Checking readback 554: submitted frame 586, current frame 588, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 169/512 completed
Minichunk 170/512 completed
Minichunk 171/512 completed
Minichunk 172/512 completed
Minichunk 173/512 completed
Minichunk 174/512 completed
Minichunk 175/512 completed
Minichunk 176/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (4 minichunks, 8192 bytes)
Minichunk 177/512 completed
Minichunk 178/512 completed
Minichunk 179/512 completed
Minichunk 180/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 588
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 588, frames_in_flight: 3
Checking readback 554: submitted frame 586, current frame 588, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 0
Overall bounds: [-64, -24, 104] to [0, -8, 112]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2868, alignment: 0
Returning buffer pointer: 0x19484be2868 (aligned: true)
Created staging buffer at: 0x19484be2868
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7618310460185516507), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2968, alignment: 0
Returning buffer pointer: 0x19484be2968 (aligned: true)
Created staging buffer at: 0x19484be2968
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b13000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4818907676379453917), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be29e8, alignment: 0
Returning buffer pointer: 0x19484be29e8 (aligned: true)
Created staging buffer at: 0x19484be29e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8037290361065839071), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b1a8, alignment: 0
Returning buffer pointer: 0x19484d3b1a8 (aligned: true)
Created staging buffer at: 0x19484d3b1a8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b14000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10021730728317819361), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-2.4e1,1.0e2] to [0.0e0,-8.0e0,1.1e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3ae68, alignment: 0
Returning buffer pointer: 0x19484d3ae68 (aligned: true)
Submitting readback 555 at frame 588 (will be ready at frame 591)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 1
Overall bounds: [-56, -16, 104] to [-32, -8, 112]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b068, alignment: 0
Returning buffer pointer: 0x19484d3b068 (aligned: true)
Created staging buffer at: 0x19484d3b068
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6092305968576600550), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af68, alignment: 0
Returning buffer pointer: 0x19484d3af68 (aligned: true)
Created staging buffer at: 0x19484d3af68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a10000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6784151670122093032), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b0a8, alignment: 0
Returning buffer pointer: 0x19484d3b0a8 (aligned: true)
Created staging buffer at: 0x19484d3b0a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11083539002865752554), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6908, alignment: 0
Returning buffer pointer: 0x19484be6908 (aligned: true)
Created staging buffer at: 0x19484be6908
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3a000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2362527231672064492), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-5.6e1,-1.6e1,1.0e2] to [-3.2e1,-8.0e0,1.1e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be6ac8, alignment: 0
Returning buffer pointer: 0x19484be6ac8 (aligned: true)
Submitting readback 556 at frame 588 (will be ready at frame 591)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.3ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 589
Processing readbacks: 3 pending, completed_frame: 589, frames_in_flight: 3
Checking readback 554: submitted frame 586, current frame 589, 3 frames elapsed (need 3)
Readback 554 ready (submitted frame 586, current frame 589)
Checking readback 555: submitted frame 588, current frame 589, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 181/512 completed
Minichunk 182/512 completed
Minichunk 183/512 completed
Minichunk 184/512 completed
Minichunk 185/512 completed
Minichunk 186/512 completed
Minichunk 187/512 completed
Minichunk 188/512 completed
Minichunk 189/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 589
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 589, frames_in_flight: 3
Checking readback 555: submitted frame 588, current frame 589, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 28 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 3 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 2
Overall bounds: [-24, -24, 112] to [0, -16, 120]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6e08, alignment: 0
Returning buffer pointer: 0x19484be6e08 (aligned: true)
Created staging buffer at: 0x19484be6e08
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a58000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4666226193211595249), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6b08, alignment: 0
Returning buffer pointer: 0x19484be6b08 (aligned: true)
Created staging buffer at: 0x19484be6b08
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12658358512213039603), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6c88, alignment: 0
Returning buffer pointer: 0x19484be6c88 (aligned: true)
Created staging buffer at: 0x19484be6c88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a55000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3705011137977260533), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3178, alignment: 0
Returning buffer pointer: 0x19484be3178 (aligned: true)
Created staging buffer at: 0x19484be3178
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a48000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13006688193938987511), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-2.4e1,1.1e2] to [0.0e0,-1.6e1,1.2e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be31b8, alignment: 0
Returning buffer pointer: 0x19484be31b8 (aligned: true)
Submitting readback 557 at frame 589 (will be ready at frame 592)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.1ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 590
Processing readbacks: 3 pending, completed_frame: 590, frames_in_flight: 3
Checking readback 555: submitted frame 588, current frame 590, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 590
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 590, frames_in_flight: 3
Checking readback 555: submitted frame 588, current frame 590, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.4ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 591
Processing readbacks: 3 pending, completed_frame: 591, frames_in_flight: 3
Checking readback 555: submitted frame 588, current frame 591, 3 frames elapsed (need 3)
Readback 555 ready (submitted frame 588, current frame 591)
Checking readback 556: submitted frame 588, current frame 591, 3 frames elapsed (need 3)
Readback 556 ready (submitted frame 588, current frame 591)
Checking readback 557: submitted frame 589, current frame 591, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 190/512 completed
Minichunk 191/512 completed
Minichunk 192/512 completed
Minichunk 193/512 completed
Minichunk 194/512 completed
Minichunk 195/512 completed
Minichunk 196/512 completed
Minichunk 197/512 completed
Minichunk 198/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (3 minichunks, 6144 bytes)
Minichunk 199/512 completed
Minichunk 200/512 completed
Minichunk 201/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 591
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 591, frames_in_flight: 3
Checking readback 557: submitted frame 589, current frame 591, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 5 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 5 minichunks in workspace 0
Overall bounds: [-64, -40, 112] to [0, -24, 120]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ff8, alignment: 0
Returning buffer pointer: 0x19484be2ff8 (aligned: true)
Created staging buffer at: 0x19484be2ff8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13549520383106882044), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3338, alignment: 0
Returning buffer pointer: 0x19484be3338 (aligned: true)
Created staging buffer at: 0x19484be3338
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4467380614839933438), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2db8, alignment: 0
Returning buffer pointer: 0x19484be2db8 (aligned: true)
Created staging buffer at: 0x19484be2db8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2b000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11611701507895859712), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2568, alignment: 0
Returning buffer pointer: 0x19484be2568 (aligned: true)
Created staging buffer at: 0x19484be2568
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2c000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14433332018769041922), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.0e1,1.1e2] to [0.0e0,-2.4e1,1.2e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=5 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2a28, alignment: 0
Returning buffer pointer: 0x19484be2a28 (aligned: true)
Submitting readback 558 at frame 591 (will be ready at frame 594)
Successfully queued 5 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 1
Overall bounds: [-64, -40, 104] to [0, -24, 112]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2b28, alignment: 0
Returning buffer pointer: 0x19484be2b28 (aligned: true)
Created staging buffer at: 0x19484be2b28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2915264921094593031), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26a8, alignment: 0
Returning buffer pointer: 0x19484be26a8 (aligned: true)
Created staging buffer at: 0x19484be26a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10613695694084512265), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2768, alignment: 0
Returning buffer pointer: 0x19484be2768 (aligned: true)
Created staging buffer at: 0x19484be2768
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a21000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15483655894364854795), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1db8, alignment: 0
Returning buffer pointer: 0x194846e1db8 (aligned: true)
Created staging buffer at: 0x194846e1db8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1c000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2600372487480941069), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.0e1,1.0e2] to [0.0e0,-2.4e1,1.1e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e20b8, alignment: 0
Returning buffer pointer: 0x194846e20b8 (aligned: true)
Submitting readback 559 at frame 591 (will be ready at frame 594)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.4ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 592
Processing readbacks: 3 pending, completed_frame: 592, frames_in_flight: 3
Checking readback 557: submitted frame 589, current frame 592, 3 frames elapsed (need 3)
Readback 557 ready (submitted frame 589, current frame 592)
Checking readback 558: submitted frame 591, current frame 592, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (3 minichunks, 6144 bytes)
Minichunk 202/512 completed
Minichunk 203/512 completed
Minichunk 204/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 592
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 592, frames_in_flight: 3
Checking readback 558: submitted frame 591, current frame 592, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 26 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 3 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 2
Overall bounds: [-56, -56, 112] to [-32, -48, 120]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e20f8, alignment: 0
Returning buffer pointer: 0x194846e20f8 (aligned: true)
Created staging buffer at: 0x194846e20f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a61000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11357460334693587474), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1ab8, alignment: 0
Returning buffer pointer: 0x194846e1ab8 (aligned: true)
Created staging buffer at: 0x194846e1ab8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16503291300917811732), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2fb8, alignment: 0
Returning buffer pointer: 0x19484be2fb8 (aligned: true)
Created staging buffer at: 0x19484be2fb8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15451509472903567894), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31b8, alignment: 0
Returning buffer pointer: 0x19484be31b8 (aligned: true)
Created staging buffer at: 0x19484be31b8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b19000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10389826330576296472), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-5.6e1,-5.6e1,1.1e2] to [-3.2e1,-4.8e1,1.2e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be3278, alignment: 0
Returning buffer pointer: 0x19484be3278 (aligned: true)
Submitting readback 560 at frame 592 (will be ready at frame 595)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 31.7ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 7)
DeferredReadbackManager: advanced to frame 593
Processing readbacks: 3 pending, completed_frame: 593, frames_in_flight: 3
Checking readback 558: submitted frame 591, current frame 593, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 593
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 593, frames_in_flight: 3
Checking readback 558: submitted frame 591, current frame 593, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 25 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.9ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 594
Processing readbacks: 3 pending, completed_frame: 594, frames_in_flight: 3
Checking readback 558: submitted frame 591, current frame 594, 3 frames elapsed (need 3)
Readback 558 ready (submitted frame 591, current frame 594)
Checking readback 559: submitted frame 591, current frame 594, 3 frames elapsed (need 3)
Readback 559 ready (submitted frame 591, current frame 594)
Checking readback 560: submitted frame 592, current frame 594, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 205/512 completed
Minichunk 206/512 completed
Minichunk 207/512 completed
Minichunk 208/512 completed
Minichunk 209/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 210/512 completed
Minichunk 211/512 completed
Minichunk 212/512 completed
Minichunk 213/512 completed
Minichunk 214/512 completed
Minichunk 215/512 completed
Minichunk 216/512 completed
Minichunk 217/512 completed
Minichunk 218/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 594
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 594, frames_in_flight: 3
Checking readback 560: submitted frame 592, current frame 594, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 25 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -48, 104] to [0, -40, 112]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3378, alignment: 0
Returning buffer pointer: 0x19484be3378 (aligned: true)
Created staging buffer at: 0x19484be3378
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17557829604582890013), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33f8, alignment: 0
Returning buffer pointer: 0x19484be33f8 (aligned: true)
Created staging buffer at: 0x19484be33f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a29000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14466251396904655391), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ef8, alignment: 0
Returning buffer pointer: 0x19484be2ef8 (aligned: true)
Created staging buffer at: 0x19484be2ef8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a49000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16299676041104857633), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3478, alignment: 0
Returning buffer pointer: 0x19484be3478 (aligned: true)
Created staging buffer at: 0x19484be3478
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4a000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18189571602507635235), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.8e1,1.0e2] to [0.0e0,-4.0e1,1.1e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2d38, alignment: 0
Returning buffer pointer: 0x19484be2d38 (aligned: true)
Submitting readback 561 at frame 594 (will be ready at frame 597)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 1
Overall bounds: [-64, -40, 104] to [-32, -32, 112]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e38, alignment: 0
Returning buffer pointer: 0x19484be2e38 (aligned: true)
Created staging buffer at: 0x19484be2e38
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16528741696565942824), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e78, alignment: 0
Returning buffer pointer: 0x19484be2e78 (aligned: true)
Created staging buffer at: 0x19484be2e78
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17620440194714966570), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194262435e8, alignment: 0
Returning buffer pointer: 0x194262435e8 (aligned: true)
Created staging buffer at: 0x194262435e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a15000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17444313825108040236), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194262436a8, alignment: 0
Returning buffer pointer: 0x194262436a8 (aligned: true)
Created staging buffer at: 0x194262436a8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a31000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16779749206070925870), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.0e1,1.0e2] to [-3.2e1,-3.2e1,1.1e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194262436e8, alignment: 0
Returning buffer pointer: 0x194262436e8 (aligned: true)
Submitting readback 562 at frame 594 (will be ready at frame 597)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.0ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 595
Processing readbacks: 3 pending, completed_frame: 595, frames_in_flight: 3
Checking readback 560: submitted frame 592, current frame 595, 3 frames elapsed (need 3)
Readback 560 ready (submitted frame 592, current frame 595)
Checking readback 561: submitted frame 594, current frame 595, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (3 minichunks, 6144 bytes)
Minichunk 219/512 completed
Minichunk 220/512 completed
Minichunk 221/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 595
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 595, frames_in_flight: 3
Checking readback 561: submitted frame 594, current frame 595, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [-64, -64, 104] to [0, -48, 112]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3afa8, alignment: 0
Returning buffer pointer: 0x19484d3afa8 (aligned: true)
Created staging buffer at: 0x19484d3afa8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a33000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14350113282197559859), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3ae68, alignment: 0
Returning buffer pointer: 0x19484d3ae68 (aligned: true)
Created staging buffer at: 0x19484d3ae68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a53000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16164146939330304565), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aea8, alignment: 0
Returning buffer pointer: 0x19484d3aea8 (aligned: true)
Created staging buffer at: 0x19484d3aea8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a40000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11117333592257075767), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b028, alignment: 0
Returning buffer pointer: 0x19484d3b028 (aligned: true)
Created staging buffer at: 0x19484d3b028
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a54000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16078187120270776889), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,1.0e2] to [0.0e0,-4.8e1,1.1e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3aee8, alignment: 0
Returning buffer pointer: 0x19484d3aee8 (aligned: true)
Submitting readback 563 at frame 595 (will be ready at frame 598)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.9ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 596
Processing readbacks: 3 pending, completed_frame: 596, frames_in_flight: 3
Checking readback 561: submitted frame 594, current frame 596, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 596
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 596, frames_in_flight: 3
Checking readback 561: submitted frame 594, current frame 596, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.2ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 597
Processing readbacks: 3 pending, completed_frame: 597, frames_in_flight: 3
Checking readback 561: submitted frame 594, current frame 597, 3 frames elapsed (need 3)
Readback 561 ready (submitted frame 594, current frame 597)
Checking readback 562: submitted frame 594, current frame 597, 3 frames elapsed (need 3)
Readback 562 ready (submitted frame 594, current frame 597)
Checking readback 563: submitted frame 595, current frame 597, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 222/512 completed
Minichunk 223/512 completed
Minichunk 224/512 completed
Minichunk 225/512 completed
Minichunk 226/512 completed
Minichunk 227/512 completed
Minichunk 228/512 completed
Minichunk 229/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (4 minichunks, 8192 bytes)
Minichunk 230/512 completed
Minichunk 231/512 completed
Minichunk 232/512 completed
Minichunk 233/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 597
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 597, frames_in_flight: 3
Checking readback 563: submitted frame 595, current frame 597, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 0
Overall bounds: [-64, -64, 96] to [0, 0, 112]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af28, alignment: 0
Returning buffer pointer: 0x19484d3af28 (aligned: true)
Created staging buffer at: 0x19484d3af28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15468058222413224510), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2828, alignment: 0
Returning buffer pointer: 0x19484be2828 (aligned: true)
Created staging buffer at: 0x19484be2828
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a11000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10662073106195028544), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be28e8, alignment: 0
Returning buffer pointer: 0x19484be28e8 (aligned: true)
Created staging buffer at: 0x19484be28e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b15000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3368472618947582530), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27a8, alignment: 0
Returning buffer pointer: 0x19484be27a8 (aligned: true)
Created staging buffer at: 0x19484be27a8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b16000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13936897021270039108), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,9.6e1] to [0.0e0,0.0e0,1.1e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=9 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be25a8, alignment: 0
Returning buffer pointer: 0x19484be25a8 (aligned: true)
Submitting readback 564 at frame 597 (will be ready at frame 600)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 1
Overall bounds: [-56, -64, 104] to [-32, -56, 112]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2a28, alignment: 0
Returning buffer pointer: 0x19484be2a28 (aligned: true)
Created staging buffer at: 0x19484be2a28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a34000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11705175389419608649), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2a68, alignment: 0
Returning buffer pointer: 0x19484be2a68 (aligned: true)
Created staging buffer at: 0x19484be2a68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a12000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4047364974006245963), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3138, alignment: 0
Returning buffer pointer: 0x19484be3138 (aligned: true)
Created staging buffer at: 0x19484be3138
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13745741427223042637), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d38, alignment: 0
Returning buffer pointer: 0x19484be2d38 (aligned: true)
Created staging buffer at: 0x19484be2d38
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a43000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13537148678271146575), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-5.6e1,-6.4e1,1.0e2] to [-3.2e1,-5.6e1,1.1e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be3278, alignment: 0
Returning buffer pointer: 0x19484be3278 (aligned: true)
Submitting readback 565 at frame 597 (will be ready at frame 600)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 598
Processing readbacks: 3 pending, completed_frame: 598, frames_in_flight: 3
Checking readback 563: submitted frame 595, current frame 598, 3 frames elapsed (need 3)
Readback 563 ready (submitted frame 595, current frame 598)
Checking readback 564: submitted frame 597, current frame 598, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 234/512 completed
Minichunk 235/512 completed
Minichunk 236/512 completed
Minichunk 237/512 completed
Minichunk 238/512 completed
Minichunk 239/512 completed
Minichunk 240/512 completed
Minichunk 241/512 completed
Minichunk 242/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 598
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 598, frames_in_flight: 3
Checking readback 564: submitted frame 597, current frame 598, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 23 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 3 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 2
Overall bounds: [-24, -32, 104] to [0, -24, 112]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2df8, alignment: 0
Returning buffer pointer: 0x19484be2df8 (aligned: true)
Created staging buffer at: 0x19484be2df8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(852655874177505876), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2eb8, alignment: 0
Returning buffer pointer: 0x19484be2eb8 (aligned: true)
Created staging buffer at: 0x19484be2eb8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12438533152471784022), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3038, alignment: 0
Returning buffer pointer: 0x19484be3038 (aligned: true)
Created staging buffer at: 0x19484be3038
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a56000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5550776700687620696), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31f8, alignment: 0
Returning buffer pointer: 0x19484be31f8 (aligned: true)
Created staging buffer at: 0x19484be31f8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a46000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3004481493595593306), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-3.2e1,1.0e2] to [0.0e0,-2.4e1,1.1e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be30f8, alignment: 0
Returning buffer pointer: 0x19484be30f8 (aligned: true)
Submitting readback 566 at frame 598 (will be ready at frame 601)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.9ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 599
Processing readbacks: 3 pending, completed_frame: 599, frames_in_flight: 3
Checking readback 564: submitted frame 597, current frame 599, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 599
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 599, frames_in_flight: 3
Checking readback 564: submitted frame 597, current frame 599, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 22 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 30.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 600
Processing readbacks: 3 pending, completed_frame: 600, frames_in_flight: 3
Checking readback 564: submitted frame 597, current frame 600, 3 frames elapsed (need 3)
Readback 564 ready (submitted frame 597, current frame 600)
Checking readback 565: submitted frame 597, current frame 600, 3 frames elapsed (need 3)
Readback 565 ready (submitted frame 597, current frame 600)
Checking readback 566: submitted frame 598, current frame 600, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 243/512 completed
Minichunk 244/512 completed
Minichunk 245/512 completed
Minichunk 246/512 completed
Minichunk 247/512 completed
Minichunk 248/512 completed
Minichunk 249/512 completed
Minichunk 250/512 completed
Minichunk 251/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (3 minichunks, 6144 bytes)
Minichunk 252/512 completed
Minichunk 253/512 completed
Minichunk 254/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 600
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0, Pitch: 0.0, Roll: -45.0]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 600, frames_in_flight: 3
Checking readback 566: submitted frame 598, current frame 600, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 22 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [-64, -24, 96] to [0, -8, 104]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3278, alignment: 0
Returning buffer pointer: 0x19484be3278 (aligned: true)
Created staging buffer at: 0x19484be3278
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b12000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11098432987375606367), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32b8, alignment: 0
Returning buffer pointer: 0x19484be32b8 (aligned: true)
Created staging buffer at: 0x19484be32b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a52000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5831273112049556065), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32f8, alignment: 0
Returning buffer pointer: 0x19484be32f8 (aligned: true)
Created staging buffer at: 0x19484be32f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a38000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6571325801403259491), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1d78, alignment: 0
Returning buffer pointer: 0x194846e1d78 (aligned: true)
Created staging buffer at: 0x194846e1d78
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a30000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9689991577543383653), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-2.4e1,9.6e1] to [0.0e0,-8.0e0,1.0e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e1e38, alignment: 0
Returning buffer pointer: 0x194846e1e38 (aligned: true)
Submitting readback 567 at frame 600 (will be ready at frame 603)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 1
Overall bounds: [-16, -16, 96] to [0, -8, 104]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e20b8, alignment: 0
Returning buffer pointer: 0x194846e20b8 (aligned: true)
Created staging buffer at: 0x194846e20b8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b17000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7944388225588533866), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e2138, alignment: 0
Returning buffer pointer: 0x194846e2138 (aligned: true)
Created staging buffer at: 0x194846e2138
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b18000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5563886177825593964), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1af8, alignment: 0
Returning buffer pointer: 0x194846e1af8 (aligned: true)
Created staging buffer at: 0x194846e1af8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a59000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8497279846638951022), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e28, alignment: 0
Returning buffer pointer: 0x19484be5e28 (aligned: true)
Created staging buffer at: 0x19484be5e28
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5a000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8504477249754372720), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.6e1,-1.6e1,9.6e1] to [0.0e0,-8.0e0,1.0e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5768, alignment: 0
Returning buffer pointer: 0x19484be5768 (aligned: true)
Submitting readback 568 at frame 600 (will be ready at frame 603)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 37.5ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 601
Processing readbacks: 3 pending, completed_frame: 601, frames_in_flight: 3
Checking readback 566: submitted frame 598, current frame 601, 3 frames elapsed (need 3)
Readback 566 ready (submitted frame 598, current frame 601)
Checking readback 567: submitted frame 600, current frame 601, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (3 minichunks, 6144 bytes)
Minichunk 255/512 completed
Minichunk 256/512 completed
Minichunk 257/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 601
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 601, frames_in_flight: 3
Checking readback 567: submitted frame 600, current frame 601, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [-64, -32, 96] to [0, -16, 104]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a28, alignment: 0
Returning buffer pointer: 0x19484be5a28 (aligned: true)
Created staging buffer at: 0x19484be5a28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a22000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9119318654448573045), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c68, alignment: 0
Returning buffer pointer: 0x19484be5c68 (aligned: true)
Created staging buffer at: 0x19484be5c68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a32000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8867858146152946295), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57a8, alignment: 0
Returning buffer pointer: 0x19484be57a8 (aligned: true)
Created staging buffer at: 0x19484be57a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(25738467694615161), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ce8, alignment: 0
Returning buffer pointer: 0x19484be5ce8 (aligned: true)
Created staging buffer at: 0x19484be5ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1d000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7695828228966980219), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-3.2e1,9.6e1] to [0.0e0,-1.6e1,1.0e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be57e8, alignment: 0
Returning buffer pointer: 0x19484be57e8 (aligned: true)
Submitting readback 569 at frame 601 (will be ready at frame 604)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 37.3ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 13)
DeferredReadbackManager: advanced to frame 602
Processing readbacks: 3 pending, completed_frame: 602, frames_in_flight: 3
Checking readback 567: submitted frame 600, current frame 602, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 602
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 602, frames_in_flight: 3
Checking readback 567: submitted frame 600, current frame 602, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 31.8ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 603
Processing readbacks: 3 pending, completed_frame: 603, frames_in_flight: 3
Checking readback 567: submitted frame 600, current frame 603, 3 frames elapsed (need 3)
Readback 567 ready (submitted frame 600, current frame 603)
Checking readback 568: submitted frame 600, current frame 603, 3 frames elapsed (need 3)
Readback 568 ready (submitted frame 600, current frame 603)
Checking readback 569: submitted frame 601, current frame 603, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 258/512 completed
Minichunk 259/512 completed
Minichunk 260/512 completed
Minichunk 261/512 completed
Minichunk 262/512 completed
Minichunk 263/512 completed
Minichunk 264/512 completed
Minichunk 265/512 completed
Minichunk 266/512 completed
Minichunk 267/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (2 minichunks, 4096 bytes)
Minichunk 268/512 completed
Minichunk 269/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 603
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 603, frames_in_flight: 3
Checking readback 569: submitted frame 601, current frame 603, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 3 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 3 minichunks in workspace 0
Overall bounds: [-24, -56, 104] to [0, -48, 112]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5768, alignment: 0
Returning buffer pointer: 0x19484be5768 (aligned: true)
Created staging buffer at: 0x19484be5768
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a41000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5392365662427421312), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5828, alignment: 0
Returning buffer pointer: 0x19484be5828 (aligned: true)
Created staging buffer at: 0x19484be5828
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1571468197905832578), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5868, alignment: 0
Returning buffer pointer: 0x19484be5868 (aligned: true)
Created staging buffer at: 0x19484be5868
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a57000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10675514635844590212), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58e8, alignment: 0
Returning buffer pointer: 0x19484be58e8 (aligned: true)
Created staging buffer at: 0x19484be58e8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a08000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6519486027176876678), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-5.6e1,1.0e2] to [0.0e0,-4.8e1,1.1e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5968, alignment: 0
Returning buffer pointer: 0x19484be5968 (aligned: true)
Submitting readback 570 at frame 603 (will be ready at frame 606)
Successfully queued 3 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 1
Overall bounds: [-64, -48, 96] to [0, -32, 104]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a68, alignment: 0
Returning buffer pointer: 0x19484be5a68 (aligned: true)
Created staging buffer at: 0x19484be5a68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6589156581470902923), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419de88, alignment: 0
Returning buffer pointer: 0x1948419de88 (aligned: true)
Created staging buffer at: 0x1948419de88
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a17000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9780390125044243085), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df08, alignment: 0
Returning buffer pointer: 0x1948419df08 (aligned: true)
Created staging buffer at: 0x1948419df08
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a18000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2948554834648767119), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dc88, alignment: 0
Returning buffer pointer: 0x1948419dc88 (aligned: true)
Created staging buffer at: 0x1948419dc88
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f3000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5895679204669790865), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.8e1,9.6e1] to [0.0e0,-3.2e1,1.0e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dd08, alignment: 0
Returning buffer pointer: 0x1948419dd08 (aligned: true)
Submitting readback 571 at frame 603 (will be ready at frame 606)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 37.0ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 604
Processing readbacks: 3 pending, completed_frame: 604, frames_in_flight: 3
Checking readback 569: submitted frame 601, current frame 604, 3 frames elapsed (need 3)
Readback 569 ready (submitted frame 601, current frame 604)
Checking readback 570: submitted frame 603, current frame 604, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 270/512 completed
Minichunk 271/512 completed
Minichunk 272/512 completed
Minichunk 273/512 completed
Minichunk 274/512 completed
Minichunk 275/512 completed
Minichunk 276/512 completed
Minichunk 277/512 completed
Minichunk 278/512 completed
Minichunk 279/512 completed
Minichunk 280/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 604
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 604, frames_in_flight: 3
Checking readback 570: submitted frame 603, current frame 604, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 12 minichunks in workspace 2
Overall bounds: [-64, -56, 96] to [0, -40, 104]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dcc8, alignment: 0
Returning buffer pointer: 0x1948419dcc8 (aligned: true)
Created staging buffer at: 0x1948419dcc8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12765823679200238230), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df48, alignment: 0
Returning buffer pointer: 0x1948419df48 (aligned: true)
Created staging buffer at: 0x1948419df48
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a47000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3909299298906413720), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd48, alignment: 0
Returning buffer pointer: 0x1948419dd48 (aligned: true)
Created staging buffer at: 0x1948419dd48
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a16000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13573758017429576346), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df88, alignment: 0
Returning buffer pointer: 0x1948419df88 (aligned: true)
Created staging buffer at: 0x1948419df88
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a62000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13768694831964494492), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-5.6e1,9.6e1] to [0.0e0,-4.0e1,1.0e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dfc8, alignment: 0
Returning buffer pointer: 0x1948419dfc8 (aligned: true)
Submitting readback 572 at frame 604 (will be ready at frame 607)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 36.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 7)
DeferredReadbackManager: advanced to frame 605
Processing readbacks: 3 pending, completed_frame: 605, frames_in_flight: 3
Checking readback 570: submitted frame 603, current frame 605, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 605
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 605, frames_in_flight: 3
Checking readback 570: submitted frame 603, current frame 605, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 19 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 30.4ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 606
Processing readbacks: 3 pending, completed_frame: 606, frames_in_flight: 3
Checking readback 570: submitted frame 603, current frame 606, 3 frames elapsed (need 3)
Readback 570 ready (submitted frame 603, current frame 606)
Checking readback 571: submitted frame 603, current frame 606, 3 frames elapsed (need 3)
Readback 571 ready (submitted frame 603, current frame 606)
Checking readback 572: submitted frame 604, current frame 606, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 281/512 completed
Minichunk 282/512 completed
Minichunk 283/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (11 minichunks, 22528 bytes)
Minichunk 284/512 completed
Minichunk 285/512 completed
Minichunk 286/512 completed
Minichunk 287/512 completed
Minichunk 288/512 completed
Minichunk 289/512 completed
Minichunk 290/512 completed
Minichunk 291/512 completed
Minichunk 292/512 completed
Minichunk 293/512 completed
Minichunk 294/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 606
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 606, frames_in_flight: 3
Checking readback 572: submitted frame 604, current frame 606, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 19 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [-64, -64, 88] to [0, 0, 104]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5be8, alignment: 0
Returning buffer pointer: 0x19484be5be8 (aligned: true)
Created staging buffer at: 0x19484be5be8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a25000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(548486977469553313), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57e8, alignment: 0
Returning buffer pointer: 0x19484be57e8 (aligned: true)
Created staging buffer at: 0x19484be57e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a09000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12252830036586928803), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58a8, alignment: 0
Returning buffer pointer: 0x19484be58a8 (aligned: true)
Created staging buffer at: 0x19484be58a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a19000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12803735939637582501), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5968, alignment: 0
Returning buffer pointer: 0x19484be5968 (aligned: true)
Created staging buffer at: 0x19484be5968
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a26000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(682928662244235943), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,8.8e1] to [0.0e0,0.0e0,1.0e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=10 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be59a8, alignment: 0
Returning buffer pointer: 0x19484be59a8 (aligned: true)
Submitting readback 573 at frame 606 (will be ready at frame 609)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 1
Overall bounds: [-16, -64, 96] to [0, -56, 104]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59e8, alignment: 0
Returning buffer pointer: 0x19484be59e8 (aligned: true)
Created staging buffer at: 0x19484be59e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10980386120482691756), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2f38, alignment: 0
Returning buffer pointer: 0x19484be2f38 (aligned: true)
Created staging buffer at: 0x19484be2f38
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13996124414123449006), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3078, alignment: 0
Returning buffer pointer: 0x19484be3078 (aligned: true)
Created staging buffer at: 0x19484be3078
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a44000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2303509845539560112), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33b8, alignment: 0
Returning buffer pointer: 0x19484be33b8 (aligned: true)
Created staging buffer at: 0x19484be33b8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5e000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11286464868888091314), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.6e1,-6.4e1,9.6e1] to [0.0e0,-5.6e1,1.0e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be30b8, alignment: 0
Returning buffer pointer: 0x19484be30b8 (aligned: true)
Submitting readback 574 at frame 606 (will be ready at frame 609)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.3ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 607
Processing readbacks: 3 pending, completed_frame: 607, frames_in_flight: 3
Checking readback 572: submitted frame 604, current frame 607, 3 frames elapsed (need 3)
Readback 572 ready (submitted frame 604, current frame 607)
Checking readback 573: submitted frame 606, current frame 607, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (12 minichunks, 24576 bytes)
Minichunk 295/512 completed
Minichunk 296/512 completed
Minichunk 297/512 completed
Minichunk 298/512 completed
Minichunk 299/512 completed
Minichunk 300/512 completed
Minichunk 301/512 completed
Minichunk 302/512 completed
Minichunk 303/512 completed
Minichunk 304/512 completed
Minichunk 305/512 completed
Minichunk 306/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 607
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 607, frames_in_flight: 3
Checking readback 573: submitted frame 606, current frame 607, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 1 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [-40, -24, 96] to [-32, -16, 104]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d78, alignment: 0
Returning buffer pointer: 0x19484be2d78 (aligned: true)
Created staging buffer at: 0x19484be2d78
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a20000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15287522811178916535), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30f8, alignment: 0
Returning buffer pointer: 0x19484be30f8 (aligned: true)
Created staging buffer at: 0x19484be30f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17118946344216566457), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be29a8, alignment: 0
Returning buffer pointer: 0x19484be29a8 (aligned: true)
Created staging buffer at: 0x19484be29a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a13000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9879724403544038075), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27e8, alignment: 0
Returning buffer pointer: 0x19484be27e8 (aligned: true)
Created staging buffer at: 0x19484be27e8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a23000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16187374122467072701), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-2.4e1,9.6e1] to [-3.2e1,-1.6e1,1.0e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be28a8, alignment: 0
Returning buffer pointer: 0x19484be28a8 (aligned: true)
Submitting readback 575 at frame 607 (will be ready at frame 610)
Successfully queued 1 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.6ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 9)
DeferredReadbackManager: advanced to frame 608
Processing readbacks: 3 pending, completed_frame: 608, frames_in_flight: 3
Checking readback 573: submitted frame 606, current frame 608, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 608
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 608, frames_in_flight: 3
Checking readback 573: submitted frame 606, current frame 608, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 17 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.2ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 609
Processing readbacks: 3 pending, completed_frame: 609, frames_in_flight: 3
Checking readback 573: submitted frame 606, current frame 609, 3 frames elapsed (need 3)
Readback 573 ready (submitted frame 606, current frame 609)
Checking readback 574: submitted frame 606, current frame 609, 3 frames elapsed (need 3)
Readback 574 ready (submitted frame 606, current frame 609)
Checking readback 575: submitted frame 607, current frame 609, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 307/512 completed
Minichunk 308/512 completed
Minichunk 309/512 completed
Minichunk 310/512 completed
Minichunk 311/512 completed
Minichunk 312/512 completed
Minichunk 313/512 completed
Minichunk 314/512 completed
Minichunk 315/512 completed
Minichunk 316/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (2 minichunks, 4096 bytes)
Minichunk 317/512 completed
Minichunk 318/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 609
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 609, frames_in_flight: 3
Checking readback 575: submitted frame 607, current frame 609, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 17 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 0
Overall bounds: [-64, -16, 88] to [0, 0, 96]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2628, alignment: 0
Returning buffer pointer: 0x19484be2628 (aligned: true)
Created staging buffer at: 0x19484be2628
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13840269740397828802), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26e8, alignment: 0
Returning buffer pointer: 0x19484be26e8 (aligned: true)
Created staging buffer at: 0x19484be26e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a45000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18435839117385276100), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5b28, alignment: 0
Returning buffer pointer: 0x19484be5b28 (aligned: true)
Created staging buffer at: 0x19484be5b28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17532231874376637126), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ba8, alignment: 0
Returning buffer pointer: 0x19484be5ba8 (aligned: true)
Created staging buffer at: 0x19484be5ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5f000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17615071279436536520), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.6e1,8.8e1] to [0.0e0,0.0e0,9.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5ae8, alignment: 0
Returning buffer pointer: 0x19484be5ae8 (aligned: true)
Submitting readback 576 at frame 609 (will be ready at frame 612)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 1
Overall bounds: [-56, -8, 88] to [-32, 0, 96]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59a8, alignment: 0
Returning buffer pointer: 0x19484be59a8 (aligned: true)
Created staging buffer at: 0x19484be59a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a60000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17027309746622831309), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c28, alignment: 0
Returning buffer pointer: 0x19484be5c28 (aligned: true)
Created staging buffer at: 0x19484be5c28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a39000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(947191883933686479), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d28, alignment: 0
Returning buffer pointer: 0x19484be5d28 (aligned: true)
Created staging buffer at: 0x19484be5d28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1b000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16355925956470250193), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d68, alignment: 0
Returning buffer pointer: 0x19484be5d68 (aligned: true)
Created staging buffer at: 0x19484be5d68
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a35000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15578089649539652307), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-5.6e1,-8.0e0,8.8e1] to [-3.2e1,0.0e0,9.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5da8, alignment: 0
Returning buffer pointer: 0x19484be5da8 (aligned: true)
Submitting readback 577 at frame 609 (will be ready at frame 612)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 610
Processing readbacks: 3 pending, completed_frame: 610, frames_in_flight: 3
Checking readback 575: submitted frame 607, current frame 610, 3 frames elapsed (need 3)
Readback 575 ready (submitted frame 607, current frame 610)
Checking readback 576: submitted frame 609, current frame 610, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 319/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 610
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 610, frames_in_flight: 3
Checking readback 576: submitted frame 609, current frame 610, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 1 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [-8, -40, 96] to [0, -32, 104]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5aa8, alignment: 0
Returning buffer pointer: 0x19484be5aa8 (aligned: true)
Created staging buffer at: 0x19484be5aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2285819802960272088), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd08, alignment: 0
Returning buffer pointer: 0x1948419dd08 (aligned: true)
Created staging buffer at: 0x1948419dd08
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2e000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10623269141827558106), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd88, alignment: 0
Returning buffer pointer: 0x1948419dd88 (aligned: true)
Created staging buffer at: 0x1948419dd88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4b000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15445087225485728476), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dfc8, alignment: 0
Returning buffer pointer: 0x1948419dfc8 (aligned: true)
Created staging buffer at: 0x1948419dfc8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a24000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2728736071977278174), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-4.0e1,9.6e1] to [0.0e0,-3.2e1,1.0e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dec8, alignment: 0
Returning buffer pointer: 0x1948419dec8 (aligned: true)
Submitting readback 578 at frame 610 (will be ready at frame 613)
Successfully queued 1 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.5ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 8)
DeferredReadbackManager: advanced to frame 611
Processing readbacks: 3 pending, completed_frame: 611, frames_in_flight: 3
Checking readback 576: submitted frame 609, current frame 611, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 611
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 611, frames_in_flight: 3
Checking readback 576: submitted frame 609, current frame 611, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.7ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 612
Processing readbacks: 3 pending, completed_frame: 612, frames_in_flight: 3
Checking readback 576: submitted frame 609, current frame 612, 3 frames elapsed (need 3)
Readback 576 ready (submitted frame 609, current frame 612)
Checking readback 577: submitted frame 609, current frame 612, 3 frames elapsed (need 3)
Readback 577 ready (submitted frame 609, current frame 612)
Checking readback 578: submitted frame 610, current frame 612, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 320/512 completed
Minichunk 321/512 completed
Minichunk 322/512 completed
Minichunk 323/512 completed
Minichunk 324/512 completed
Minichunk 325/512 completed
Minichunk 326/512 completed
Minichunk 327/512 completed
Minichunk 328/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (3 minichunks, 6144 bytes)
Minichunk 329/512 completed
Minichunk 330/512 completed
Minichunk 331/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 612
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 612, frames_in_flight: 3
Checking readback 578: submitted frame 610, current frame 612, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -32, 88] to [0, -16, 96]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419de08, alignment: 0
Returning buffer pointer: 0x1948419de08 (aligned: true)
Created staging buffer at: 0x1948419de08
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10216008935387699939), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ca8, alignment: 0
Returning buffer pointer: 0x19484be5ca8 (aligned: true)
Created staging buffer at: 0x19484be5ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2654943448590719717), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ae8, alignment: 0
Returning buffer pointer: 0x19484be5ae8 (aligned: true)
Created staging buffer at: 0x19484be5ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a27000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3896179926163790567), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5da8, alignment: 0
Returning buffer pointer: 0x19484be5da8 (aligned: true)
Created staging buffer at: 0x19484be5da8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a28000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12935539896017230569), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-3.2e1,8.8e1] to [0.0e0,-1.6e1,9.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5de8, alignment: 0
Returning buffer pointer: 0x19484be5de8 (aligned: true)
Submitting readback 579 at frame 612 (will be ready at frame 615)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 1
Overall bounds: [-32, -24, 88] to [0, -16, 96]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e68, alignment: 0
Returning buffer pointer: 0x19484be5e68 (aligned: true)
Created staging buffer at: 0x19484be5e68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3678589873561803502), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5728, alignment: 0
Returning buffer pointer: 0x19484be5728 (aligned: true)
Created staging buffer at: 0x19484be5728
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13309953292088908528), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aee8, alignment: 0
Returning buffer pointer: 0x19484d3aee8 (aligned: true)
Created staging buffer at: 0x19484d3aee8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11673284054655965938), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3afe8, alignment: 0
Returning buffer pointer: 0x19484d3afe8 (aligned: true)
Created staging buffer at: 0x19484d3afe8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a36000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(920581503518251764), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-3.2e1,-2.4e1,8.8e1] to [0.0e0,-1.6e1,9.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3b0e8, alignment: 0
Returning buffer pointer: 0x19484d3b0e8 (aligned: true)
Submitting readback 580 at frame 612 (will be ready at frame 615)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.7ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 613
Processing readbacks: 3 pending, completed_frame: 613, frames_in_flight: 3
Checking readback 578: submitted frame 610, current frame 613, 3 frames elapsed (need 3)
Readback 578 ready (submitted frame 610, current frame 613)
Checking readback 579: submitted frame 612, current frame 613, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 332/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 613
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 613, frames_in_flight: 3
Checking readback 579: submitted frame 612, current frame 613, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [-64, -40, 88] to [0, -24, 96]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b168, alignment: 0
Returning buffer pointer: 0x19484d3b168 (aligned: true)
Created staging buffer at: 0x19484d3b168
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a42000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11907223845162982137), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b1a8, alignment: 0
Returning buffer pointer: 0x19484d3b1a8 (aligned: true)
Created staging buffer at: 0x19484d3b1a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0e000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6085936497716894459), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2728, alignment: 0
Returning buffer pointer: 0x19484be2728 (aligned: true)
Created staging buffer at: 0x19484be2728
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1415213301947702013), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2868, alignment: 0
Returning buffer pointer: 0x19484be2868 (aligned: true)
Created staging buffer at: 0x19484be2868
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a14000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11031896041220741887), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.0e1,8.8e1] to [0.0e0,-2.4e1,9.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be28a8, alignment: 0
Returning buffer pointer: 0x19484be28a8 (aligned: true)
Submitting readback 581 at frame 613 (will be ready at frame 616)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.5ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 11)
DeferredReadbackManager: advanced to frame 614
Processing readbacks: 3 pending, completed_frame: 614, frames_in_flight: 3
Checking readback 579: submitted frame 612, current frame 614, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 614
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 614, frames_in_flight: 3
Checking readback 579: submitted frame 612, current frame 614, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.5ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 615
Processing readbacks: 3 pending, completed_frame: 615, frames_in_flight: 3
Checking readback 579: submitted frame 612, current frame 615, 3 frames elapsed (need 3)
Readback 579 ready (submitted frame 612, current frame 615)
Checking readback 580: submitted frame 612, current frame 615, 3 frames elapsed (need 3)
Readback 580 ready (submitted frame 612, current frame 615)
Checking readback 581: submitted frame 613, current frame 615, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 333/512 completed
Minichunk 334/512 completed
Minichunk 335/512 completed
Minichunk 336/512 completed
Minichunk 337/512 completed
Minichunk 338/512 completed
Minichunk 339/512 completed
Minichunk 340/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (4 minichunks, 8192 bytes)
Minichunk 341/512 completed
Minichunk 342/512 completed
Minichunk 343/512 completed
Minichunk 344/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 615
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 615, frames_in_flight: 3
Checking readback 581: submitted frame 613, current frame 615, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 0
Overall bounds: [-64, -56, 88] to [0, -40, 96]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be29e8, alignment: 0
Returning buffer pointer: 0x19484be29e8 (aligned: true)
Created staging buffer at: 0x19484be29e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5084712413371046660), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ae8, alignment: 0
Returning buffer pointer: 0x19484be2ae8 (aligned: true)
Created staging buffer at: 0x19484be2ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a10000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6924641768361171718), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2528, alignment: 0
Returning buffer pointer: 0x19484be2528 (aligned: true)
Created staging buffer at: 0x19484be2528
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b13000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9990966392972647176), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be25a8, alignment: 0
Returning buffer pointer: 0x19484be25a8 (aligned: true)
Created staging buffer at: 0x19484be25a8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b14000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8020129183579511562), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-5.6e1,8.8e1] to [0.0e0,-4.0e1,9.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2b68, alignment: 0
Returning buffer pointer: 0x19484be2b68 (aligned: true)
Submitting readback 582 at frame 615 (will be ready at frame 618)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 1
Overall bounds: [-24, -48, 88] to [0, -40, 96]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af68, alignment: 0
Returning buffer pointer: 0x19484d3af68 (aligned: true)
Created staging buffer at: 0x19484d3af68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8527236040937708303), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b068, alignment: 0
Returning buffer pointer: 0x19484d3b068 (aligned: true)
Created staging buffer at: 0x19484d3b068
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a63000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8917463712751688465), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b0a8, alignment: 0
Returning buffer pointer: 0x19484d3b0a8 (aligned: true)
Created staging buffer at: 0x19484d3b0a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9150100581979790099), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b0e8, alignment: 0
Returning buffer pointer: 0x19484d3b0e8 (aligned: true)
Created staging buffer at: 0x19484d3b0e8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1e000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4734002288970963733), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-4.8e1,8.8e1] to [0.0e0,-4.0e1,9.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3b128, alignment: 0
Returning buffer pointer: 0x19484d3b128 (aligned: true)
Submitting readback 583 at frame 615 (will be ready at frame 618)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.7ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 616
Processing readbacks: 3 pending, completed_frame: 616, frames_in_flight: 3
Checking readback 581: submitted frame 613, current frame 616, 3 frames elapsed (need 3)
Readback 581 ready (submitted frame 613, current frame 616)
Checking readback 582: submitted frame 615, current frame 616, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 345/512 completed
Minichunk 346/512 completed
Minichunk 347/512 completed
Minichunk 348/512 completed
Minichunk 349/512 completed
Minichunk 350/512 completed
Minichunk 351/512 completed
Minichunk 352/512 completed
Minichunk 353/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 616
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 616, frames_in_flight: 3
Checking readback 582: submitted frame 615, current frame 616, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 2
Overall bounds: [-64, -24, 80] to [0, -8, 88]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6c88, alignment: 0
Returning buffer pointer: 0x19484be6c88 (aligned: true)
Created staging buffer at: 0x19484be6c88
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a37000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7078296319319612186), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6ac8, alignment: 0
Returning buffer pointer: 0x19484be6ac8 (aligned: true)
Created staging buffer at: 0x19484be6ac8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(614105831415225116), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6908, alignment: 0
Returning buffer pointer: 0x19484be6908 (aligned: true)
Created staging buffer at: 0x19484be6908
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a48000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8011811378115386142), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6b08, alignment: 0
Returning buffer pointer: 0x19484be6b08 (aligned: true)
Created staging buffer at: 0x19484be6b08
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a55000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7770998540423142176), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-2.4e1,8.0e1] to [0.0e0,-8.0e0,8.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be6b48, alignment: 0
Returning buffer pointer: 0x19484be6b48 (aligned: true)
Submitting readback 584 at frame 616 (will be ready at frame 619)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 2 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.3ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 617
Processing readbacks: 3 pending, completed_frame: 617, frames_in_flight: 3
Checking readback 582: submitted frame 615, current frame 617, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 617
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 617, frames_in_flight: 3
Checking readback 582: submitted frame 615, current frame 617, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.1ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 618
Processing readbacks: 3 pending, completed_frame: 618, frames_in_flight: 3
Checking readback 582: submitted frame 615, current frame 618, 3 frames elapsed (need 3)
Readback 582 ready (submitted frame 615, current frame 618)
Checking readback 583: submitted frame 615, current frame 618, 3 frames elapsed (need 3)
Readback 583 ready (submitted frame 615, current frame 618)
Checking readback 584: submitted frame 616, current frame 618, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 354/512 completed
Minichunk 355/512 completed
Minichunk 356/512 completed
Minichunk 357/512 completed
Minichunk 358/512 completed
Minichunk 359/512 completed
Minichunk 360/512 completed
Minichunk 361/512 completed
Minichunk 362/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (3 minichunks, 6144 bytes)
Minichunk 363/512 completed
Minichunk 364/512 completed
Minichunk 365/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 618
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 618, frames_in_flight: 3
Checking readback 584: submitted frame 616, current frame 618, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 0
Overall bounds: [-64, -64, 88] to [0, -48, 96]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be68c8, alignment: 0
Returning buffer pointer: 0x19484be68c8 (aligned: true)
Created staging buffer at: 0x19484be68c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2008815440528153381), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26a8, alignment: 0
Returning buffer pointer: 0x19484be26a8 (aligned: true)
Created staging buffer at: 0x19484be26a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a58000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11301164239839828775), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2568, alignment: 0
Returning buffer pointer: 0x19484be2568 (aligned: true)
Created staging buffer at: 0x19484be2568
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1b000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6727281630198635305), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be28a8, alignment: 0
Returning buffer pointer: 0x19484be28a8 (aligned: true)
Created staging buffer at: 0x19484be28a8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1c000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1901302994540960555), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,8.8e1] to [0.0e0,-4.8e1,9.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2968, alignment: 0
Returning buffer pointer: 0x19484be2968 (aligned: true)
Submitting readback 585 at frame 618 (will be ready at frame 621)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 1
Overall bounds: [-56, -56, 88] to [-32, -48, 96]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2b28, alignment: 0
Returning buffer pointer: 0x19484be2b28 (aligned: true)
Created staging buffer at: 0x19484be2b28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9969335700719409968), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2b68, alignment: 0
Returning buffer pointer: 0x19484be2b68 (aligned: true)
Created staging buffer at: 0x19484be2b68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5697071120809728818), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2768, alignment: 0
Returning buffer pointer: 0x19484be2768 (aligned: true)
Created staging buffer at: 0x19484be2768
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5b000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3136288748510124852), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3178, alignment: 0
Returning buffer pointer: 0x19484be3178 (aligned: true)
Created staging buffer at: 0x19484be3178
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2c000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9672874380522167094), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-5.6e1,-5.6e1,8.8e1] to [-3.2e1,-4.8e1,9.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be3338, alignment: 0
Returning buffer pointer: 0x19484be3338 (aligned: true)
Submitting readback 586 at frame 618 (will be ready at frame 621)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 619
Processing readbacks: 3 pending, completed_frame: 619, frames_in_flight: 3
Checking readback 584: submitted frame 616, current frame 619, 3 frames elapsed (need 3)
Readback 584 ready (submitted frame 616, current frame 619)
Checking readback 585: submitted frame 618, current frame 619, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (10 minichunks, 20480 bytes)
Minichunk 366/512 completed
Minichunk 367/512 completed
Minichunk 368/512 completed
Minichunk 369/512 completed
Minichunk 370/512 completed
Minichunk 371/512 completed
Minichunk 372/512 completed
Minichunk 373/512 completed
Minichunk 374/512 completed
Minichunk 375/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 619
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 619, frames_in_flight: 3
Checking readback 585: submitted frame 618, current frame 619, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 3 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 2
Overall bounds: [-56, -32, 88] to [-32, -24, 96]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33f8, alignment: 0
Returning buffer pointer: 0x19484be33f8 (aligned: true)
Created staging buffer at: 0x19484be33f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a21000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4518335282205956923), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3378, alignment: 0
Returning buffer pointer: 0x19484be3378 (aligned: true)
Created staging buffer at: 0x19484be3378
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4430948297053575997), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2fb8, alignment: 0
Returning buffer pointer: 0x19484be2fb8 (aligned: true)
Created staging buffer at: 0x19484be2fb8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a61000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12989337900452682559), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2db8, alignment: 0
Returning buffer pointer: 0x19484be2db8 (aligned: true)
Created staging buffer at: 0x19484be2db8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2d000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3957221513203030849), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-5.6e1,-3.2e1,8.8e1] to [-3.2e1,-2.4e1,9.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be3478, alignment: 0
Returning buffer pointer: 0x19484be3478 (aligned: true)
Submitting readback 587 at frame 619 (will be ready at frame 622)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.7ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 12)
DeferredReadbackManager: advanced to frame 620
Processing readbacks: 3 pending, completed_frame: 620, frames_in_flight: 3
Checking readback 585: submitted frame 618, current frame 620, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 620
[WINDOW] WM_ACTIVATE: is_active=false
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 620, frames_in_flight: 3
Checking readback 585: submitted frame 618, current frame 620, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 11 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.7ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 621
Processing readbacks: 3 pending, completed_frame: 621, frames_in_flight: 3
Checking readback 585: submitted frame 618, current frame 621, 3 frames elapsed (need 3)
Readback 585 ready (submitted frame 618, current frame 621)
Checking readback 586: submitted frame 618, current frame 621, 3 frames elapsed (need 3)
Readback 586 ready (submitted frame 618, current frame 621)
Checking readback 587: submitted frame 619, current frame 621, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 376/512 completed
Minichunk 377/512 completed
Minichunk 378/512 completed
Minichunk 379/512 completed
Minichunk 380/512 completed
Minichunk 381/512 completed
Minichunk 382/512 completed
Minichunk 383/512 completed
Minichunk 384/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (3 minichunks, 6144 bytes)
Minichunk 385/512 completed
Minichunk 386/512 completed
Minichunk 387/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 621
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 621, frames_in_flight: 3
Checking readback 587: submitted frame 619, current frame 621, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 11 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [-64, -40, 80] to [0, -24, 88]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e78, alignment: 0
Returning buffer pointer: 0x19484be2e78 (aligned: true)
Created staging buffer at: 0x19484be2e78
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a29000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14912129750246890310), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31b8, alignment: 0
Returning buffer pointer: 0x19484be31b8 (aligned: true)
Created staging buffer at: 0x19484be31b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12368512953480125256), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ef8, alignment: 0
Returning buffer pointer: 0x19484be2ef8 (aligned: true)
Created staging buffer at: 0x19484be2ef8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8860964208253770), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3338, alignment: 0
Returning buffer pointer: 0x19484be3338 (aligned: true)
Created staging buffer at: 0x19484be3338
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b19000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15751002146658589516), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.0e1,8.0e1] to [0.0e0,-2.4e1,8.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2ff8, alignment: 0
Returning buffer pointer: 0x19484be2ff8 (aligned: true)
Submitting readback 588 at frame 621 (will be ready at frame 624)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 1
Overall bounds: [-16, -32, 80] to [0, -24, 88]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30b8, alignment: 0
Returning buffer pointer: 0x19484be30b8 (aligned: true)
Created staging buffer at: 0x19484be30b8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15645346775810710353), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1db8, alignment: 0
Returning buffer pointer: 0x194846e1db8 (aligned: true)
Created staging buffer at: 0x194846e1db8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a15000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1558794127372458835), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e20f8, alignment: 0
Returning buffer pointer: 0x194846e20f8 (aligned: true)
Created staging buffer at: 0x194846e20f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10721748000280943445), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1e38, alignment: 0
Returning buffer pointer: 0x194846e1e38 (aligned: true)
Created staging buffer at: 0x194846e1e38
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a31000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14644754910650833751), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.6e1,-3.2e1,8.0e1] to [0.0e0,-2.4e1,8.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e1ab8, alignment: 0
Returning buffer pointer: 0x194846e1ab8 (aligned: true)
Submitting readback 589 at frame 621 (will be ready at frame 624)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.5ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 622
Processing readbacks: 3 pending, completed_frame: 622, frames_in_flight: 3
Checking readback 587: submitted frame 619, current frame 622, 3 frames elapsed (need 3)
Readback 587 ready (submitted frame 619, current frame 622)
Checking readback 588: submitted frame 621, current frame 622, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (3 minichunks, 6144 bytes)
Minichunk 388/512 completed
Minichunk 389/512 completed
Minichunk 390/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 622
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 622, frames_in_flight: 3
Checking readback 588: submitted frame 621, current frame 622, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 2 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [-48, -16, 80] to [-32, -8, 88]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3ae68, alignment: 0
Returning buffer pointer: 0x19484d3ae68 (aligned: true)
Created staging buffer at: 0x19484d3ae68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a40000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16952529761794530140), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b028, alignment: 0
Returning buffer pointer: 0x19484d3b028 (aligned: true)
Created staging buffer at: 0x19484d3b028
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b15000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9690037757031750494), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3afa8, alignment: 0
Returning buffer pointer: 0x19484d3afa8 (aligned: true)
Created staging buffer at: 0x19484d3afa8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b16000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17919928470423477088), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af28, alignment: 0
Returning buffer pointer: 0x19484d3af28 (aligned: true)
Created staging buffer at: 0x19484d3af28
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a33000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17369858196209933154), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.8e1,-1.6e1,8.0e1] to [-3.2e1,-8.0e0,8.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3aea8, alignment: 0
Returning buffer pointer: 0x19484d3aea8 (aligned: true)
Submitting readback 590 at frame 622 (will be ready at frame 625)
Successfully queued 2 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.0ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 623
Processing readbacks: 3 pending, completed_frame: 623, frames_in_flight: 3
Checking readback 588: submitted frame 621, current frame 623, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 623
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 623, frames_in_flight: 3
Checking readback 588: submitted frame 621, current frame 623, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.7ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 624
Processing readbacks: 3 pending, completed_frame: 624, frames_in_flight: 3
Checking readback 588: submitted frame 621, current frame 624, 3 frames elapsed (need 3)
Readback 588 ready (submitted frame 621, current frame 624)
Checking readback 589: submitted frame 621, current frame 624, 3 frames elapsed (need 3)
Readback 589 ready (submitted frame 621, current frame 624)
Checking readback 590: submitted frame 622, current frame 624, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 391/512 completed
Minichunk 392/512 completed
Minichunk 393/512 completed
Minichunk 394/512 completed
Minichunk 395/512 completed
Minichunk 396/512 completed
Minichunk 397/512 completed
Minichunk 398/512 completed
Minichunk 399/512 completed
Minichunk 400/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (2 minichunks, 4096 bytes)
Minichunk 401/512 completed
Minichunk 402/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 624
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 624, frames_in_flight: 3
Checking readback 590: submitted frame 622, current frame 624, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 0
Overall bounds: [-64, -48, 80] to [0, -32, 88]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27a8, alignment: 0
Returning buffer pointer: 0x19484be27a8 (aligned: true)
Created staging buffer at: 0x19484be27a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a53000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17404036515159350119), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2828, alignment: 0
Returning buffer pointer: 0x19484be2828 (aligned: true)
Created staging buffer at: 0x19484be2828
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a11000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17739073101305486185), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2a68, alignment: 0
Returning buffer pointer: 0x19484be2a68 (aligned: true)
Created staging buffer at: 0x19484be2a68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a34000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14076575679927819115), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be28e8, alignment: 0
Returning buffer pointer: 0x19484be28e8 (aligned: true)
Created staging buffer at: 0x19484be28e8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a12000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17239837647690537837), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.8e1,8.0e1] to [0.0e0,-3.2e1,8.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2968, alignment: 0
Returning buffer pointer: 0x19484be2968 (aligned: true)
Submitting readback 591 at frame 624 (will be ready at frame 627)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 1
Overall bounds: [-56, -40, 80] to [-32, -32, 88]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2a28, alignment: 0
Returning buffer pointer: 0x19484be2a28 (aligned: true)
Created staging buffer at: 0x19484be2a28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a54000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(313102428683639666), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3478, alignment: 0
Returning buffer pointer: 0x19484be3478 (aligned: true)
Created staging buffer at: 0x19484be3478
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15767677340005440372), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ff8, alignment: 0
Returning buffer pointer: 0x19484be2ff8 (aligned: true)
Created staging buffer at: 0x19484be2ff8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a43000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15126668658081799030), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d38, alignment: 0
Returning buffer pointer: 0x19484be2d38 (aligned: true)
Created staging buffer at: 0x19484be2d38
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a49000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1767248337859255160), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-5.6e1,-4.0e1,8.0e1] to [-3.2e1,-3.2e1,8.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2e38, alignment: 0
Returning buffer pointer: 0x19484be2e38 (aligned: true)
Submitting readback 592 at frame 624 (will be ready at frame 627)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.0ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 625
Processing readbacks: 3 pending, completed_frame: 625, frames_in_flight: 3
Checking readback 590: submitted frame 622, current frame 625, 3 frames elapsed (need 3)
Readback 590 ready (submitted frame 622, current frame 625)
Checking readback 591: submitted frame 624, current frame 625, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 403/512 completed
Minichunk 404/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 625
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 625, frames_in_flight: 3
Checking readback 591: submitted frame 624, current frame 625, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 8 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 2
Overall bounds: [-64, -64, 80] to [0, -48, 88]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2eb8, alignment: 0
Returning buffer pointer: 0x19484be2eb8 (aligned: true)
Created staging buffer at: 0x19484be2eb8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12109653831441193853), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3038, alignment: 0
Returning buffer pointer: 0x19484be3038 (aligned: true)
Created staging buffer at: 0x19484be3038
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a56000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14085465231438388095), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3278, alignment: 0
Returning buffer pointer: 0x19484be3278 (aligned: true)
Created staging buffer at: 0x19484be3278
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a46000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3396459587920993153), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2df8, alignment: 0
Returning buffer pointer: 0x19484be2df8 (aligned: true)
Created staging buffer at: 0x19484be2df8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b12000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10145242168000781187), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,8.0e1] to [0.0e0,-4.8e1,8.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be3138, alignment: 0
Returning buffer pointer: 0x19484be3138 (aligned: true)
Submitting readback 593 at frame 625 (will be ready at frame 628)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 2 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.6ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 626
Processing readbacks: 3 pending, completed_frame: 626, frames_in_flight: 3
Checking readback 591: submitted frame 624, current frame 626, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 626

Region Loading Status:
  Camera region: RegionId(0, -1, 0)
  View distance: 1 regions
  Loaded regions: 3
  Pending generations: 2
  Active chunks: 8
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 626, frames_in_flight: 3
Checking readback 591: submitted frame 624, current frame 626, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 8 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.4ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 627
Processing readbacks: 3 pending, completed_frame: 627, frames_in_flight: 3
Checking readback 591: submitted frame 624, current frame 627, 3 frames elapsed (need 3)
Readback 591 ready (submitted frame 624, current frame 627)
Checking readback 592: submitted frame 624, current frame 627, 3 frames elapsed (need 3)
Readback 592 ready (submitted frame 624, current frame 627)
Checking readback 593: submitted frame 625, current frame 627, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 405/512 completed
Minichunk 406/512 completed
Minichunk 407/512 completed
Minichunk 408/512 completed
Minichunk 409/512 completed
Minichunk 410/512 completed
Minichunk 411/512 completed
Minichunk 412/512 completed
Minichunk 413/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (3 minichunks, 6144 bytes)
Minichunk 414/512 completed
Minichunk 415/512 completed
Minichunk 416/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 627
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 627, frames_in_flight: 3
Checking readback 593: submitted frame 625, current frame 627, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 8 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 0
Overall bounds: [-64, -64, 72] to [0, 0, 88]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be31f8, alignment: 0
Returning buffer pointer: 0x19484be31f8 (aligned: true)
Created staging buffer at: 0x19484be31f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a30000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3815594519940832136), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32b8, alignment: 0
Returning buffer pointer: 0x19484be32b8 (aligned: true)
Created staging buffer at: 0x19484be32b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a38000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4453413518632295306), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be32f8, alignment: 0
Returning buffer pointer: 0x19484be32f8 (aligned: true)
Created staging buffer at: 0x19484be32f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13359666610827172748), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1d78, alignment: 0
Returning buffer pointer: 0x194846e1d78 (aligned: true)
Created staging buffer at: 0x194846e1d78
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a59000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2314656694421953422), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,7.2e1] to [0.0e0,0.0e0,8.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=9 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194846e20b8, alignment: 0
Returning buffer pointer: 0x194846e20b8 (aligned: true)
Submitting readback 594 at frame 627 (will be ready at frame 630)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 1
Overall bounds: [-56, -64, 80] to [-32, -56, 88]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e2138, alignment: 0
Returning buffer pointer: 0x194846e2138 (aligned: true)
Created staging buffer at: 0x194846e2138
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4658750613654346643), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1ab8, alignment: 0
Returning buffer pointer: 0x194846e1ab8 (aligned: true)
Created staging buffer at: 0x194846e1ab8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12618253825589910421), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194846e1af8, alignment: 0
Returning buffer pointer: 0x194846e1af8 (aligned: true)
Created staging buffer at: 0x194846e1af8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a52000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1338933583259114391), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x194262435e8, alignment: 0
Returning buffer pointer: 0x194262435e8 (aligned: true)
Created staging buffer at: 0x194262435e8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3b000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6064817078370573209), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-5.6e1,-6.4e1,8.0e1] to [-3.2e1,-5.6e1,8.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x194262436a8, alignment: 0
Returning buffer pointer: 0x194262436a8 (aligned: true)
Submitting readback 595 at frame 627 (will be ready at frame 630)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.0ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 628
Processing readbacks: 3 pending, completed_frame: 628, frames_in_flight: 3
Checking readback 593: submitted frame 625, current frame 628, 3 frames elapsed (need 3)
Readback 593 ready (submitted frame 625, current frame 628)
Checking readback 594: submitted frame 627, current frame 628, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (10 minichunks, 20480 bytes)
Minichunk 417/512 completed
Minichunk 418/512 completed
Minichunk 419/512 completed
Minichunk 420/512 completed
Minichunk 421/512 completed
Minichunk 422/512 completed
Minichunk 423/512 completed
Minichunk 424/512 completed
Minichunk 425/512 completed
Minichunk 426/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 628
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 628, frames_in_flight: 3
Checking readback 594: submitted frame 627, current frame 628, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 2
Overall bounds: [-64, -24, 72] to [0, -8, 80]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c68, alignment: 0
Returning buffer pointer: 0x19484be5c68 (aligned: true)
Created staging buffer at: 0x19484be5c68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6747271851103230878), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ce8, alignment: 0
Returning buffer pointer: 0x19484be5ce8 (aligned: true)
Created staging buffer at: 0x19484be5ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2110321254492806048), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5768, alignment: 0
Returning buffer pointer: 0x19484be5768 (aligned: true)
Created staging buffer at: 0x19484be5768
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7079355149017160610), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57a8, alignment: 0
Returning buffer pointer: 0x19484be57a8 (aligned: true)
Created staging buffer at: 0x19484be57a8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a32000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6333321116408355748), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-2.4e1,7.2e1] to [0.0e0,-8.0e0,8.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5a28, alignment: 0
Returning buffer pointer: 0x19484be5a28 (aligned: true)
Submitting readback 596 at frame 628 (will be ready at frame 631)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 2 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.6ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 629
Processing readbacks: 3 pending, completed_frame: 629, frames_in_flight: 3
Checking readback 594: submitted frame 627, current frame 629, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 629
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 629, frames_in_flight: 3
Checking readback 594: submitted frame 627, current frame 629, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.4ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 630
Processing readbacks: 3 pending, completed_frame: 630, frames_in_flight: 3
Checking readback 594: submitted frame 627, current frame 630, 3 frames elapsed (need 3)
Readback 594 ready (submitted frame 627, current frame 630)
Checking readback 595: submitted frame 627, current frame 630, 3 frames elapsed (need 3)
Readback 595 ready (submitted frame 627, current frame 630)
Checking readback 596: submitted frame 628, current frame 630, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 427/512 completed
Minichunk 428/512 completed
Minichunk 429/512 completed
Minichunk 430/512 completed
Minichunk 431/512 completed
Minichunk 432/512 completed
Minichunk 433/512 completed
Minichunk 434/512 completed
Minichunk 435/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (3 minichunks, 6144 bytes)
Minichunk 436/512 completed
Minichunk 437/512 completed
Minichunk 438/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 630
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 630, frames_in_flight: 3
Checking readback 596: submitted frame 628, current frame 630, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [-64, -32, 72] to [0, -16, 80]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e28, alignment: 0
Returning buffer pointer: 0x19484be5e28 (aligned: true)
Created staging buffer at: 0x19484be5e28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a08000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8070340581085158313), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5828, alignment: 0
Returning buffer pointer: 0x19484be5828 (aligned: true)
Created staging buffer at: 0x19484be5828
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a22000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8121764739916241835), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a68, alignment: 0
Returning buffer pointer: 0x19484be5a68 (aligned: true)
Created staging buffer at: 0x19484be5a68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8505311779079855021), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5868, alignment: 0
Returning buffer pointer: 0x19484be5868 (aligned: true)
Created staging buffer at: 0x19484be5868
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f0000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7323541288383421359), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-3.2e1,7.2e1] to [0.0e0,-1.6e1,8.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be58e8, alignment: 0
Returning buffer pointer: 0x19484be58e8 (aligned: true)
Submitting readback 597 at frame 630 (will be ready at frame 633)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 1
Overall bounds: [-48, -24, 72] to [-32, -16, 80]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419ddc8, alignment: 0
Returning buffer pointer: 0x1948419ddc8 (aligned: true)
Created staging buffer at: 0x1948419ddc8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b17000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9019523680576740276), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df08, alignment: 0
Returning buffer pointer: 0x1948419df08 (aligned: true)
Created staging buffer at: 0x1948419df08
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a41000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7267819138599361462), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dc88, alignment: 0
Returning buffer pointer: 0x1948419dc88 (aligned: true)
Created staging buffer at: 0x1948419dc88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a57000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8630802339692813240), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419de88, alignment: 0
Returning buffer pointer: 0x1948419de88 (aligned: true)
Created staging buffer at: 0x1948419de88
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b18000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8300001072336870330), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.8e1,-2.4e1,7.2e1] to [-3.2e1,-1.6e1,8.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dec8, alignment: 0
Returning buffer pointer: 0x1948419dec8 (aligned: true)
Submitting readback 598 at frame 630 (will be ready at frame 633)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.6ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 631
Processing readbacks: 3 pending, completed_frame: 631, frames_in_flight: 3
Checking readback 596: submitted frame 628, current frame 631, 3 frames elapsed (need 3)
Readback 596 ready (submitted frame 628, current frame 631)
Checking readback 597: submitted frame 630, current frame 631, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (10 minichunks, 20480 bytes)
Minichunk 439/512 completed
Minichunk 440/512 completed
Minichunk 441/512 completed
Minichunk 442/512 completed
Minichunk 443/512 completed
Minichunk 444/512 completed
Minichunk 445/512 completed
Minichunk 446/512 completed
Minichunk 447/512 completed
Minichunk 448/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 631
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0, Pitch: 0.0, Roll: -45.0]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 631, frames_in_flight: 3
Checking readback 597: submitted frame 630, current frame 631, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [-64, -56, 72] to [0, -40, 80]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dcc8, alignment: 0
Returning buffer pointer: 0x1948419dcc8 (aligned: true)
Created staging buffer at: 0x1948419dcc8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1393831099322342335), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd48, alignment: 0
Returning buffer pointer: 0x1948419dd48 (aligned: true)
Created staging buffer at: 0x1948419dd48
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a62000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5219220068843396033), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df88, alignment: 0
Returning buffer pointer: 0x1948419df88 (aligned: true)
Created staging buffer at: 0x1948419df88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a16000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7026995305790839747), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5a28, alignment: 0
Returning buffer pointer: 0x19484be5a28 (aligned: true)
Created staging buffer at: 0x19484be5a28
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0d000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1941993720861694917), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-5.6e1,7.2e1] to [0.0e0,-4.0e1,8.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5de8, alignment: 0
Returning buffer pointer: 0x19484be5de8 (aligned: true)
Submitting readback 599 at frame 631 (will be ready at frame 634)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.9ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 15)
DeferredReadbackManager: advanced to frame 632
Processing readbacks: 3 pending, completed_frame: 632, frames_in_flight: 3
Checking readback 597: submitted frame 630, current frame 632, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 632
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 632, frames_in_flight: 3
Checking readback 597: submitted frame 630, current frame 632, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.8ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 633
Processing readbacks: 3 pending, completed_frame: 633, frames_in_flight: 3
Checking readback 597: submitted frame 630, current frame 633, 3 frames elapsed (need 3)
Readback 597 ready (submitted frame 630, current frame 633)
Checking readback 598: submitted frame 630, current frame 633, 3 frames elapsed (need 3)
Readback 598 ready (submitted frame 630, current frame 633)
Checking readback 599: submitted frame 631, current frame 633, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 449/512 completed
Minichunk 450/512 completed
Minichunk 451/512 completed
Minichunk 452/512 completed
Minichunk 453/512 completed
Minichunk 454/512 completed
Minichunk 455/512 completed
Minichunk 456/512 completed
Minichunk 457/512 completed
Minichunk 458/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (2 minichunks, 4096 bytes)
Minichunk 459/512 completed
Minichunk 460/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 633
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 633, frames_in_flight: 3
Checking readback 599: submitted frame 631, current frame 633, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 2 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 2 minichunks in workspace 0
Overall bounds: [-16, -56, 80] to [0, -48, 88]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be57e8, alignment: 0
Returning buffer pointer: 0x19484be57e8 (aligned: true)
Created staging buffer at: 0x19484be57e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a25000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6556104162428328906), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58a8, alignment: 0
Returning buffer pointer: 0x19484be58a8 (aligned: true)
Created staging buffer at: 0x19484be58a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a09000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6062214534347627468), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5be8, alignment: 0
Returning buffer pointer: 0x19484be5be8 (aligned: true)
Created staging buffer at: 0x19484be5be8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a0a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1389661751229815758), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be58e8, alignment: 0
Returning buffer pointer: 0x19484be58e8 (aligned: true)
Created staging buffer at: 0x19484be58e8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a26000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12202270093895277520), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.6e1,-5.6e1,8.0e1] to [0.0e0,-4.8e1,8.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5968, alignment: 0
Returning buffer pointer: 0x19484be5968 (aligned: true)
Submitting readback 600 at frame 633 (will be ready at frame 636)
Successfully queued 2 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 2 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 1
Overall bounds: [-16, -16, 72] to [0, -8, 80]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59e8, alignment: 0
Returning buffer pointer: 0x19484be59e8 (aligned: true)
Created staging buffer at: 0x19484be59e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5066489107652287445), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be33b8, alignment: 0
Returning buffer pointer: 0x19484be33b8 (aligned: true)
Created staging buffer at: 0x19484be33b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a17000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2442388059732319191), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3078, alignment: 0
Returning buffer pointer: 0x19484be3078 (aligned: true)
Created staging buffer at: 0x19484be3078
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a18000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13335946846481161177), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3138, alignment: 0
Returning buffer pointer: 0x19484be3138 (aligned: true)
Created staging buffer at: 0x19484be3138
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a19000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4578963452873153499), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.6e1,-1.6e1,7.2e1] to [0.0e0,-8.0e0,8.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2e38, alignment: 0
Returning buffer pointer: 0x19484be2e38 (aligned: true)
Submitting readback 601 at frame 633 (will be ready at frame 636)
Successfully queued 2 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.2ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 634
Processing readbacks: 3 pending, completed_frame: 634, frames_in_flight: 3
Checking readback 599: submitted frame 631, current frame 634, 3 frames elapsed (need 3)
Readback 599 ready (submitted frame 631, current frame 634)
Checking readback 600: submitted frame 633, current frame 634, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 461/512 completed
Minichunk 462/512 completed
Minichunk 463/512 completed
Minichunk 464/512 completed
Minichunk 465/512 completed
Minichunk 466/512 completed
Minichunk 467/512 completed
Minichunk 468/512 completed
Minichunk 469/512 completed
Minichunk 470/512 completed
Minichunk 471/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 634
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 634, frames_in_flight: 3
Checking readback 600: submitted frame 633, current frame 634, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 1 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [-40, -48, 72] to [-32, -40, 80]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be30f8, alignment: 0
Returning buffer pointer: 0x19484be30f8 (aligned: true)
Created staging buffer at: 0x19484be30f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3891984189792197600), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2d78, alignment: 0
Returning buffer pointer: 0x19484be2d78 (aligned: true)
Created staging buffer at: 0x19484be2d78
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a47000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10046027736268413922), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2f38, alignment: 0
Returning buffer pointer: 0x19484be2f38 (aligned: true)
Created staging buffer at: 0x19484be2f38
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a13000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3257438437216623588), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26e8, alignment: 0
Returning buffer pointer: 0x19484be26e8 (aligned: true)
Created staging buffer at: 0x19484be26e8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a20000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13978659771427855334), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-4.8e1,7.2e1] to [-3.2e1,-4.0e1,8.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2628, alignment: 0
Returning buffer pointer: 0x19484be2628 (aligned: true)
Submitting readback 602 at frame 634 (will be ready at frame 637)
Successfully queued 1 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.0ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 12)
DeferredReadbackManager: advanced to frame 635
Processing readbacks: 3 pending, completed_frame: 635, frames_in_flight: 3
Checking readback 600: submitted frame 633, current frame 635, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 635
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 635, frames_in_flight: 3
Checking readback 600: submitted frame 633, current frame 635, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.7ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 636
Processing readbacks: 3 pending, completed_frame: 636, frames_in_flight: 3
Checking readback 600: submitted frame 633, current frame 636, 3 frames elapsed (need 3)
Readback 600 ready (submitted frame 633, current frame 636)
Checking readback 601: submitted frame 633, current frame 636, 3 frames elapsed (need 3)
Readback 601 ready (submitted frame 633, current frame 636)
Checking readback 602: submitted frame 634, current frame 636, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (2 minichunks, 4096 bytes)
Minichunk 472/512 completed
Minichunk 473/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (2 minichunks, 4096 bytes)
Minichunk 474/512 completed
Minichunk 475/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 636
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 636, frames_in_flight: 3
Checking readback 602: submitted frame 634, current frame 636, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 0
Overall bounds: [-64, -64, 64] to [0, 0, 80]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2968, alignment: 0
Returning buffer pointer: 0x19484be2968 (aligned: true)
Created staging buffer at: 0x19484be2968
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11945710050670025707), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be29a8, alignment: 0
Returning buffer pointer: 0x19484be29a8 (aligned: true)
Created staging buffer at: 0x19484be29a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0e000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1815159557039594477), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5968, alignment: 0
Returning buffer pointer: 0x19484be5968 (aligned: true)
Created staging buffer at: 0x19484be5968
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16098728196500888559), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5de8, alignment: 0
Returning buffer pointer: 0x19484be5de8 (aligned: true)
Created staging buffer at: 0x19484be5de8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5f000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15709639618733284337), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,6.4e1] to [0.0e0,0.0e0,8.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=11 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be59a8, alignment: 0
Returning buffer pointer: 0x19484be59a8 (aligned: true)
Submitting readback 603 at frame 636 (will be ready at frame 639)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 1
Overall bounds: [-8, -64, 72] to [0, -56, 80]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ba8, alignment: 0
Returning buffer pointer: 0x19484be5ba8 (aligned: true)
Created staging buffer at: 0x19484be5ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a60000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(843366100434426870), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5b28, alignment: 0
Returning buffer pointer: 0x19484be5b28 (aligned: true)
Created staging buffer at: 0x19484be5b28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a39000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17080466735779290104), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5c28, alignment: 0
Returning buffer pointer: 0x19484be5c28 (aligned: true)
Created staging buffer at: 0x19484be5c28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a35000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14816913142793116666), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5d28, alignment: 0
Returning buffer pointer: 0x19484be5d28 (aligned: true)
Created staging buffer at: 0x19484be5d28
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a44000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16886112662407093244), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-6.4e1,7.2e1] to [0.0e0,-5.6e1,8.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5d68, alignment: 0
Returning buffer pointer: 0x19484be5d68 (aligned: true)
Submitting readback 604 at frame 636 (will be ready at frame 639)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.1ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 637
Processing readbacks: 3 pending, completed_frame: 637, frames_in_flight: 3
Checking readback 602: submitted frame 634, current frame 637, 3 frames elapsed (need 3)
Readback 602 ready (submitted frame 634, current frame 637)
Checking readback 603: submitted frame 636, current frame 637, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 476/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 637
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 637, frames_in_flight: 3
Checking readback 603: submitted frame 636, current frame 637, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 12 minichunks in workspace 2
Overall bounds: [-64, -40, 64] to [0, -24, 72]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5aa8, alignment: 0
Returning buffer pointer: 0x19484be5aa8 (aligned: true)
Created staging buffer at: 0x19484be5aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18257077218406571009), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ae8, alignment: 0
Returning buffer pointer: 0x19484be5ae8 (aligned: true)
Created staging buffer at: 0x19484be5ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18394065372111182851), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5ca8, alignment: 0
Returning buffer pointer: 0x19484be5ca8 (aligned: true)
Created staging buffer at: 0x19484be5ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17882271296683777029), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5da8, alignment: 0
Returning buffer pointer: 0x19484be5da8 (aligned: true)
Created staging buffer at: 0x19484be5da8
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a27000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9724385400771845127), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.0e1,6.4e1] to [0.0e0,-2.4e1,7.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x1948419dd08, alignment: 0
Returning buffer pointer: 0x1948419dd08 (aligned: true)
Submitting readback 605 at frame 637 (will be ready at frame 640)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.7ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 10)
DeferredReadbackManager: advanced to frame 638
Processing readbacks: 3 pending, completed_frame: 638, frames_in_flight: 3
Checking readback 603: submitted frame 636, current frame 638, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 638
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 638, frames_in_flight: 3
Checking readback 603: submitted frame 636, current frame 638, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.5ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 639
Processing readbacks: 3 pending, completed_frame: 639, frames_in_flight: 3
Checking readback 603: submitted frame 636, current frame 639, 3 frames elapsed (need 3)
Readback 603 ready (submitted frame 636, current frame 639)
Checking readback 604: submitted frame 636, current frame 639, 3 frames elapsed (need 3)
Readback 604 ready (submitted frame 636, current frame 639)
Checking readback 605: submitted frame 637, current frame 639, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 477/512 completed
Minichunk 478/512 completed
Minichunk 479/512 completed
Minichunk 480/512 completed
Minichunk 481/512 completed
Minichunk 482/512 completed
Minichunk 483/512 completed
Minichunk 484/512 completed
Minichunk 485/512 completed
Minichunk 486/512 completed
Minichunk 487/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (1 minichunks, 2048 bytes)
Minichunk 488/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 639
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 639, frames_in_flight: 3
Checking readback 605: submitted frame 637, current frame 639, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [-64, -16, 64] to [0, 0, 72]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419df48, alignment: 0
Returning buffer pointer: 0x1948419df48 (aligned: true)
Created staging buffer at: 0x1948419df48
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17216018927298026508), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dd88, alignment: 0
Returning buffer pointer: 0x1948419dd88 (aligned: true)
Created staging buffer at: 0x1948419dd88
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a45000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14808631621212707854), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419dec8, alignment: 0
Returning buffer pointer: 0x1948419dec8 (aligned: true)
Created staging buffer at: 0x1948419dec8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@194358f7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10697573038121032720), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x1948419de08, alignment: 0
Returning buffer pointer: 0x1948419de08 (aligned: true)
Created staging buffer at: 0x1948419de08
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0f000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1634797868642475026), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.6e1,6.4e1] to [0.0e0,0.0e0,7.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be5d68, alignment: 0
Returning buffer pointer: 0x19484be5d68 (aligned: true)
Submitting readback 606 at frame 639 (will be ready at frame 642)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 1
Overall bounds: [-48, -8, 64] to [-32, 0, 72]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5e68, alignment: 0
Returning buffer pointer: 0x19484be5e68 (aligned: true)
Created staging buffer at: 0x19484be5e68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a36000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16079897960363596823), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be5728, alignment: 0
Returning buffer pointer: 0x19484be5728 (aligned: true)
Created staging buffer at: 0x19484be5728
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a28000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15837189564625067033), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be59a8, alignment: 0
Returning buffer pointer: 0x19484be59a8 (aligned: true)
Created staging buffer at: 0x19484be59a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(58900837899967515), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aea8, alignment: 0
Returning buffer pointer: 0x19484d3aea8 (aligned: true)
Created staging buffer at: 0x19484d3aea8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5d000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12185487148408904733), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.8e1,-8.0e0,6.4e1] to [-3.2e1,0.0e0,7.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3afe8, alignment: 0
Returning buffer pointer: 0x19484d3afe8 (aligned: true)
Submitting readback 607 at frame 639 (will be ready at frame 642)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.9ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 640
Processing readbacks: 3 pending, completed_frame: 640, frames_in_flight: 3
Checking readback 605: submitted frame 637, current frame 640, 3 frames elapsed (need 3)
Readback 605 ready (submitted frame 637, current frame 640)
Checking readback 606: submitted frame 639, current frame 640, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (12 minichunks, 24576 bytes)
Minichunk 489/512 completed
Minichunk 490/512 completed
Minichunk 491/512 completed
Minichunk 492/512 completed
Minichunk 493/512 completed
Minichunk 494/512 completed
Minichunk 495/512 completed
Minichunk 496/512 completed
Minichunk 497/512 completed
Minichunk 498/512 completed
Minichunk 499/512 completed
Minichunk 500/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 640
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 640, frames_in_flight: 3
Checking readback 606: submitted frame 639, current frame 640, 1 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.1ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 641
Processing readbacks: 2 pending, completed_frame: 641, frames_in_flight: 3
Checking readback 606: submitted frame 639, current frame 641, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 641
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 641, frames_in_flight: 3
Checking readback 606: submitted frame 639, current frame 641, 2 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 24.2ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 642
Processing readbacks: 2 pending, completed_frame: 642, frames_in_flight: 3
Checking readback 606: submitted frame 639, current frame 642, 3 frames elapsed (need 3)
Readback 606 ready (submitted frame 639, current frame 642)
Checking readback 607: submitted frame 639, current frame 642, 3 frames elapsed (need 3)
Readback 607 ready (submitted frame 639, current frame 642)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 501/512 completed
Minichunk 502/512 completed
Minichunk 503/512 completed
Minichunk 504/512 completed
Minichunk 505/512 completed
Minichunk 506/512 completed
Minichunk 507/512 completed
Minichunk 508/512 completed
Minichunk 509/512 completed
Minichunk 510/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Minichunk batch readback complete for workspace 1 (2 minichunks, 4096 bytes)
Minichunk 511/512 completed
Minichunk 512/512 completed
Chunk ChunkId(-1, -1, 1) complete! All 512 minichunks processed
GPU generation completed successfully
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 3/3
GPU generation completed successfully. Voxel count: 262144
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing 0 completed readbacks
Non-empty voxels: 0
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 20.9ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 643
Processing 0 completed readbacks
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 16.7ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 644
Processing 0 completed readbacks
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 13.5ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 645
Processing 0 completed readbacks
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: GPU pipeline worker: Processing request 63 with priority 9
0
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
GPU generation thread spawned for bounds: [-128.0,-64.0,0.0] to [-64.0,0.0,64.0]
GPU generation: starting for 262144 voxels
VertexPool render: 0 effective draws, GPU generation: waiting for result...
0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 10.7ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 4)
DeferredReadbackManager: advanced to frame 646
Processing 0 completed readbacks
get_chunks_for_rendering called - active chunks: 8, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
queue_generation_blocking returned: true
Command buffer begun in frame_begin
Async generation completed for chunk ChunkId(-1, -1, 1)
Sending result for chunk ChunkId(-1, -1, 1) through channel
Processing 0 completed readbacks
Result sent successfully for chunk ChunkId(-1, -1, 1)
Main thread: Execute GPU worldgen for bounds [-128.0,-64.0,0.0] to [-64.0,0.0,64.0]
Processing chunk ChunkId(-2, -1, 0) as minichunks
Creating ChunkAccumulator: 262144 voxels, 512 minichunks (8 per axis)
Queuing 512 minichunks for chunk ChunkId(-2, -1, 0)
Processing 512 minichunks in 52 batches of up to 10 each (frames_in_flight: 3)
PID controller: Processing 5 minichunks per workspace (workgroup budget: 5)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 2/3
Processing 5 minichunks in workspace 2
Overall bounds: [-128, -64, 0] to [-88, -56, 8]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b168, alignment: 0
Returning buffer pointer: 0x19484d3b168 (aligned: true)
Created staging buffer at: 0x19484d3b168
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b13000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14511560072062049314), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b128, alignment: 0
Returning buffer pointer: 0x19484d3b128 (aligned: true)
Created staging buffer at: 0x19484d3b128
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a23000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3608787377872444452), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3aee8, alignment: 0
Returning buffer pointer: 0x19484d3aee8 (aligned: true)
Created staging buffer at: 0x19484d3aee8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a24000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13010458419310631974), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b1a8, alignment: 0
Returning buffer pointer: 0x19484d3b1a8 (aligned: true)
Created staging buffer at: 0x19484d3b1a8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b14000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4316648565788122152), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.3e2,-6.4e1,0.0e0] to [-8.8e1,-5.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be2728, alignment: 0
Returning buffer pointer: 0x19484be2728 (aligned: true)
Submitting readback 608 at frame 646 (will be ready at frame 649)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 5 minichunks in workspace 0
Overall bounds: [-128, -64, 0] to [-64, -48, 8]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2528, alignment: 0
Returning buffer pointer: 0x19484be2528 (aligned: true)
Created staging buffer at: 0x19484be2528
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a14000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4318806907113446445), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2ae8, alignment: 0
Returning buffer pointer: 0x19484be2ae8 (aligned: true)
Created staging buffer at: 0x19484be2ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a42000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9671180033103764527), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be25a8, alignment: 0
Returning buffer pointer: 0x19484be25a8 (aligned: true)
Created staging buffer at: 0x19484be25a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a4f000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2989291740457868337), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2628, alignment: 0
Returning buffer pointer: 0x19484be2628 (aligned: true)
Created staging buffer at: 0x19484be2628
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a50000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3578720132899281971), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.3e2,-6.4e1,0.0e0] to [-6.4e1,-4.8e1,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=5 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be27e8, alignment: 0
Returning buffer pointer: 0x19484be27e8 (aligned: true)
Submitting readback 609 at frame 646 (will be ready at frame 649)
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 18.3ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 16)
DeferredReadbackManager: advanced to frame 647
Processing readbacks: 2 pending, completed_frame: 647, frames_in_flight: 3
Checking readback 608: submitted frame 646, current frame 647, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 647
Received generation result 1 for region RegionId(-1, -1, 0)
Processing single chunk workspace for chunk ChunkId(-1, -1, 1)
Chunk ChunkId(-1, -1, 1) has 0 non-empty voxels out of 262144
Extracted 1 chunks from region RegionId(-1, -1, 0)
  Chunk ChunkId(-1, -1, 1): palette size 1, 32768 bytes compressed
Adding chunk ChunkId(-1, -1, 1) to active_chunks (total: 9)
Creating generation params for region RegionId(-1, -1, 0)
Region RegionId(-1, -1, 0) world bounds: min=[-256,-256,0] max=[0,0,256]
Creating plane SDF with normal [0, 0, 1] and distance 0
get_chunks_for_rendering called - active chunks: 9, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 647, frames_in_flight: 3
Checking readback 608: submitted frame 646, current frame 647, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 51 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-2, -1, 0) with 10 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [-112, -56, 0] to [-64, -48, 8]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2668, alignment: 0
Returning buffer pointer: 0x19484be2668 (aligned: true)
Created staging buffer at: 0x19484be2668
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10390437659041340472), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6ac8, alignment: 0
Returning buffer pointer: 0x19484be6ac8 (aligned: true)
Created staging buffer at: 0x19484be6ac8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a51000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1650571462454549562), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6b08, alignment: 0
Returning buffer pointer: 0x19484be6b08 (aligned: true)
Created staging buffer at: 0x19484be6b08
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4829622417192131644), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6b48, alignment: 0
Returning buffer pointer: 0x19484be6b48 (aligned: true)
Created staging buffer at: 0x19484be6b48
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a37000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11285886525771881534), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.1e2,-5.6e1,0.0e0] to [-6.4e1,-4.8e1,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be6c88, alignment: 0
Returning buffer pointer: 0x19484be6c88 (aligned: true)
Submitting readback 610 at frame 647 (will be ready at frame 650)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 4 remaining minichunks from batch
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 43.4ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 648
Processing readbacks: 3 pending, completed_frame: 648, frames_in_flight: 3
Checking readback 608: submitted frame 646, current frame 648, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 648
get_chunks_for_rendering called - active chunks: 9, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 648, frames_in_flight: 3
Checking readback 608: submitted frame 646, current frame 648, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 51 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 38.4ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 649
Processing readbacks: 3 pending, completed_frame: 649, frames_in_flight: 3
Checking readback 608: submitted frame 646, current frame 649, 3 frames elapsed (need 3)
Readback 608 ready (submitted frame 646, current frame 649)
Checking readback 609: submitted frame 646, current frame 649, 3 frames elapsed (need 3)
Readback 609 ready (submitted frame 646, current frame 649)
Checking readback 610: submitted frame 647, current frame 649, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 1/512 completed
Minichunk 2/512 completed
Minichunk 3/512 completed
Minichunk 4/512 completed
Minichunk 5/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 6/512 completed
Minichunk 7/512 completed
Minichunk 8/512 completed
Minichunk 9/512 completed
Minichunk 10/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 649
get_chunks_for_rendering called - active chunks: 9, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 649, frames_in_flight: 3
Checking readback 610: submitted frame 647, current frame 649, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 51 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-2, -1, 0) with 10 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 2
Overall bounds: [-128, -40, 0] to [-64, -24, 8]
renderer_buffer_write called - buffer: anyopaque@194537ba6c8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba6c8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba6c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be68c8, alignment: 0
Returning buffer pointer: 0x19484be68c8 (aligned: true)
Created staging buffer at: 0x19484be68c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a2f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(293889562499882051), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba548, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba548, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba548 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be6908, alignment: 0
Returning buffer pointer: 0x19484be6908 (aligned: true)
Created staging buffer at: 0x19484be6908
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a58000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6151588337011399749), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba888, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba888, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba888 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be26a8, alignment: 0
Returning buffer pointer: 0x19484be26a8 (aligned: true)
Created staging buffer at: 0x19484be26a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a48000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5893442798018894919), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba588, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba588, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@194537ba588 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2c28, alignment: 0
Returning buffer pointer: 0x19484be2c28 (aligned: true)
Created staging buffer at: 0x19484be2c28
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1b000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(644913047713881161), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.3e2,-4.0e1,0.0e0] to [-6.4e1,-2.4e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9556721664
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697755136
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557245952
Using actual brush buffer with address: 0x239a80000
Dispatching brush chunk: offset=0, size=6 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be28a8, alignment: 0
Returning buffer pointer: 0x19484be28a8 (aligned: true)
Submitting readback 611 at frame 649 (will be ready at frame 652)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 0
Overall bounds: [-96, -32, 0] to [-64, -24, 8]
renderer_buffer_write called - buffer: anyopaque@19483e8dff8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8dff8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8dff8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2568, alignment: 0
Returning buffer pointer: 0x19484be2568 (aligned: true)
Created staging buffer at: 0x19484be2568
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b1c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8703955047312006222), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e3b8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e3b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e3b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2728, alignment: 0
Returning buffer pointer: 0x19484be2728 (aligned: true)
Created staging buffer at: 0x19484be2728
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a55000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4838175518144601168), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e2b8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e2b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e2b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be27e8, alignment: 0
Returning buffer pointer: 0x19484be27e8 (aligned: true)
Created staging buffer at: 0x19484be27e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9186539496835914834), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e0b8, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e0b8, cmd_buffer: vk.CommandBuffer(1736567124528)
About to cast buffer anyopaque@19483e8e0b8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3af68, alignment: 0
Returning buffer pointer: 0x19484d3af68 (aligned: true)
Created staging buffer at: 0x19484d3af68
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3e000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8950661267329129556), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-9.6e1,-3.2e1,0.0e0] to [-6.4e1,-2.4e1,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9533652992
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9539944448
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540468736
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534177280
Using actual brush buffer with address: 0x238480000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567124528)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x19453777230
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x19453777230, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567124528), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567124528), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484d3afe8, alignment: 0
Returning buffer pointer: 0x19484d3afe8 (aligned: true)
Submitting readback 612 at frame 649 (will be ready at frame 652)
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 41.0ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 650
Processing readbacks: 3 pending, completed_frame: 650, frames_in_flight: 3
Checking readback 610: submitted frame 647, current frame 650, 3 frames elapsed (need 3)
Readback 610 ready (submitted frame 647, current frame 650)
Checking readback 611: submitted frame 649, current frame 650, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 11/512 completed
Minichunk 12/512 completed
Minichunk 13/512 completed
Minichunk 14/512 completed
Minichunk 15/512 completed
Minichunk 16/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 650
get_chunks_for_rendering called - active chunks: 9, pending meshes: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 650, frames_in_flight: 3
Checking readback 611: submitted frame 649, current frame 650, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 50 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-2, -1, 0) with 10 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [-128, -64, 8] to [-64, -48, 16]
renderer_buffer_write called - buffer: anyopaque@194537ba748, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba748, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba748 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b0a8, alignment: 0
Returning buffer pointer: 0x19484d3b0a8 (aligned: true)
Created staging buffer at: 0x19484d3b0a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a1f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8412519594765327449), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@19483e8e478, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@19483e8e478, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@19483e8e478 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484d3b0e8, alignment: 0
Returning buffer pointer: 0x19484d3b0e8 (aligned: true)
Created staging buffer at: 0x19484d3b0e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a3f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7923806467428195419), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba9c8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba9c8, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba9c8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be3178, alignment: 0
Returning buffer pointer: 0x19484be3178 (aligned: true)
Created staging buffer at: 0x19484be3178
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19434b0c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10281095625705528413), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@194537ba848, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@194537ba848, cmd_buffer: vk.CommandBuffer(1736567093792)
About to cast buffer anyopaque@194537ba848 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x19484be2e38, alignment: 0
Returning buffer pointer: 0x19484be2e38 (aligned: true)
Created staging buffer at: 0x19484be2e38
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@19435a5b000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6936554976848125023), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.3e2,-6.4e1,8.0e0] to [-6.4e1,-4.8e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80020
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545187328
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9551478784
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552003072
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(1736448163504), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9545711616
Using actual brush buffer with address: 0x238f80000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@19484f80040
  self.manager: gfx.vk.PipelineManager.PipelineManager@19484f90000
  cmd: vk.CommandBuffer(1736567093792)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@19484f90018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x1945376fa20
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x1944c603eb0
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x1945376fa20, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(1736567093792), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(1736567093792), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x19484be3378, alignment: 0
Returning buffer pointer: 0x19484be3378 (aligned: true)
Submitting readback 613 at frame 650 (will be ready at frame 653)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 41.4ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 651
Processing readbacks: 3 pending, completed_frame: 651, frames_in_flight: 3
Checking readback 611: submitted frame 649, current frame 651, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 651
get_chunks_for_rendering called - active chunks: 9, pending meshes: 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphoreerror: process didn't exit successfully: `target\debug\synthesis.exe` (exit code: 0xc000013a, STATUS_CONTROL_C_EXIT)