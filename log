Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 225/512 completed
Minichunk 226/512 completed
Minichunk 227/512 completed
Minichunk 228/512 completed
Minichunk 229/512 completed
Minichunk 230/512 completed
Minichunk 231/512 completed
Minichunk 232/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 233/512 completed
Minichunk 234/512 completed
Minichunk 235/512 completed
Minichunk 236/512 completed
Minichunk 237/512 completed
Minichunk 238/512 completed
Minichunk 239/512 completed
Minichunk 240/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 42
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 42, frames_in_flight: 3
Checking readback 41: submitted frame 40, current frame 42, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 17 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [64, -64, 40] to [128, -56, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92868, alignment: 0
Returning buffer pointer: 0x21fe6b92868 (aligned: true)
Created staging buffer at: 0x21fe6b92868
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11528665290254582736), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92068, alignment: 0
Returning buffer pointer: 0x21fe6b92068 (aligned: true)
Created staging buffer at: 0x21fe6b92068
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbee000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15781842348306072530), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92a28, alignment: 0
Returning buffer pointer: 0x21fe6b92a28 (aligned: true)
Created staging buffer at: 0x21fe6b92a28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbeb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2707657334561178580), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92128, alignment: 0
Returning buffer pointer: 0x21fe6b92128 (aligned: true)
Created staging buffer at: 0x21fe6b92128
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf8000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9680903014428181462), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,4.0e1] to [1.3e2,-5.6e1,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92168, alignment: 0
Returning buffer pointer: 0x21fe6b92168 (aligned: true)
Submitting readback 42 at frame 42 (will be ready at frame 45)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 1
Overall bounds: [64, -56, 40] to [128, -48, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92728, alignment: 0
Returning buffer pointer: 0x21fe6b92728 (aligned: true)
Created staging buffer at: 0x21fe6b92728
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbef000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3287802550329279451), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ce8, alignment: 0
Returning buffer pointer: 0x21fe6b91ce8 (aligned: true)
Created staging buffer at: 0x21fe6b91ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14616835011886711773), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92a68, alignment: 0
Returning buffer pointer: 0x21fe6b92a68 (aligned: true)
Created staging buffer at: 0x21fe6b92a68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13247333905863803871), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920a8, alignment: 0
Returning buffer pointer: 0x21fe6b920a8 (aligned: true)
Created staging buffer at: 0x21fe6b920a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc24000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4228152173403309025), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-5.6e1,4.0e1] to [1.3e2,-4.8e1,4.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b928a8, alignment: 0
Returning buffer pointer: 0x21fe6b928a8 (aligned: true)
Submitting readback 43 at frame 42 (will be ready at frame 45)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.4ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 9)
DeferredReadbackManager: advanced to frame 43
Processing readbacks: 3 pending, completed_frame: 43, frames_in_flight: 3
Checking readback 41: submitted frame 40, current frame 43, 3 frames elapsed (need 3)
Readback 41 ready (submitted frame 40, current frame 43)
Checking readback 42: submitted frame 42, current frame 43, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 241/512 completed
Minichunk 242/512 completed
Minichunk 243/512 completed
Minichunk 244/512 completed
Minichunk 245/512 completed
Minichunk 246/512 completed
Minichunk 247/512 completed
Minichunk 248/512 completed
Minichunk 249/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 43
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 43, frames_in_flight: 3
Checking readback 42: submitted frame 42, current frame 43, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [64, -16, 32] to [128, 0, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90fe8, alignment: 0
Returning buffer pointer: 0x21fe6b90fe8 (aligned: true)
Created staging buffer at: 0x21fe6b90fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13485691534091224038), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90be8, alignment: 0
Returning buffer pointer: 0x21fe6b90be8 (aligned: true)
Created staging buffer at: 0x21fe6b90be8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfa000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11921436132463608808), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b913a8, alignment: 0
Returning buffer pointer: 0x21fe6b913a8 (aligned: true)
Created staging buffer at: 0x21fe6b913a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(305102382079935466), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91768, alignment: 0
Returning buffer pointer: 0x21fe6b91768 (aligned: true)
Created staging buffer at: 0x21fe6b91768
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe8000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12313570357440152556), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.6e1,3.2e1] to [1.3e2,0.0e0,4.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b918e8, alignment: 0
Returning buffer pointer: 0x21fe6b918e8 (aligned: true)
Submitting readback 44 at frame 43 (will be ready at frame 46)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.4ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 44
Processing readbacks: 3 pending, completed_frame: 44, frames_in_flight: 3
Checking readback 42: submitted frame 42, current frame 44, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 44
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 44, frames_in_flight: 3
Checking readback 42: submitted frame 42, current frame 44, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.3ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 45
Processing readbacks: 3 pending, completed_frame: 45, frames_in_flight: 3
Checking readback 42: submitted frame 42, current frame 45, 3 frames elapsed (need 3)
Readback 42 ready (submitted frame 42, current frame 45)
Checking readback 43: submitted frame 42, current frame 45, 3 frames elapsed (need 3)
Readback 43 ready (submitted frame 42, current frame 45)
Checking readback 44: submitted frame 43, current frame 45, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 250/512 completed
Minichunk 251/512 completed
Minichunk 252/512 completed
Minichunk 253/512 completed
Minichunk 254/512 completed
Minichunk 255/512 completed
Minichunk 256/512 completed
Minichunk 257/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 258/512 completed
Minichunk 259/512 completed
Minichunk 260/512 completed
Minichunk 261/512 completed
Minichunk 262/512 completed
Minichunk 263/512 completed
Minichunk 264/512 completed
Minichunk 265/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 45
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 45, frames_in_flight: 3
Checking readback 44: submitted frame 43, current frame 45, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 0
Overall bounds: [64, -32, 32] to [128, -16, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92768, alignment: 0
Returning buffer pointer: 0x21fe6b92768 (aligned: true)
Created staging buffer at: 0x21fe6b92768
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc01000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6123481521270555633), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92168, alignment: 0
Returning buffer pointer: 0x21fe6b92168 (aligned: true)
Created staging buffer at: 0x21fe6b92168
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1708350798494172147), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920e8, alignment: 0
Returning buffer pointer: 0x21fe6b920e8 (aligned: true)
Created staging buffer at: 0x21fe6b920e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe9000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10975138151483311093), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ba8, alignment: 0
Returning buffer pointer: 0x21fe6b91ba8 (aligned: true)
Created staging buffer at: 0x21fe6b91ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbea000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4708589276718171127), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-3.2e1,3.2e1] to [1.3e2,-1.6e1,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b921e8, alignment: 0
Returning buffer pointer: 0x21fe6b921e8 (aligned: true)
Submitting readback 45 at frame 45 (will be ready at frame 48)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [72, -24, 32] to [128, -16, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ae8, alignment: 0
Returning buffer pointer: 0x21fe6b91ae8 (aligned: true)
Created staging buffer at: 0x21fe6b91ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdf000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7012357507490251772), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b927e8, alignment: 0
Returning buffer pointer: 0x21fe6b927e8 (aligned: true)
Created staging buffer at: 0x21fe6b927e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc02000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9663145901639599102), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92828, alignment: 0
Returning buffer pointer: 0x21fe6b92828 (aligned: true)
Created staging buffer at: 0x21fe6b92828
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7826088471021224960), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92328, alignment: 0
Returning buffer pointer: 0x21fe6b92328 (aligned: true)
Created staging buffer at: 0x21fe6b92328
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfd000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8003503468255904770), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-2.4e1,3.2e1] to [1.3e2,-1.6e1,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91b28, alignment: 0
Returning buffer pointer: 0x21fe6b91b28 (aligned: true)
Submitting readback 46 at frame 45 (will be ready at frame 48)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.0ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 46
Processing readbacks: 3 pending, completed_frame: 46, frames_in_flight: 3
Checking readback 44: submitted frame 43, current frame 46, 3 frames elapsed (need 3)
Readback 44 ready (submitted frame 43, current frame 46)
Checking readback 45: submitted frame 45, current frame 46, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 266/512 completed
Minichunk 267/512 completed
Minichunk 268/512 completed
Minichunk 269/512 completed
Minichunk 270/512 completed
Minichunk 271/512 completed
Minichunk 272/512 completed
Minichunk 273/512 completed
Minichunk 274/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 46
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 46, frames_in_flight: 3
Checking readback 45: submitted frame 45, current frame 46, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 2
Overall bounds: [64, -48, 32] to [128, -32, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91468, alignment: 0
Returning buffer pointer: 0x21fe6b91468 (aligned: true)
Created staging buffer at: 0x21fe6b91468
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8618435032903582727), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b918a8, alignment: 0
Returning buffer pointer: 0x21fe6b918a8 (aligned: true)
Created staging buffer at: 0x21fe6b918a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8818068961112359945), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91328, alignment: 0
Returning buffer pointer: 0x21fe6b91328 (aligned: true)
Created staging buffer at: 0x21fe6b91328
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4662968340258489355), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b917e8, alignment: 0
Returning buffer pointer: 0x21fe6b917e8 (aligned: true)
Created staging buffer at: 0x21fe6b917e8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfe000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8790110579441271821), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.8e1,3.2e1] to [1.3e2,-3.2e1,4.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91728, alignment: 0
Returning buffer pointer: 0x21fe6b91728 (aligned: true)
Submitting readback 47 at frame 46 (will be ready at frame 49)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.5ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 8)
DeferredReadbackManager: advanced to frame 47
Processing readbacks: 3 pending, completed_frame: 47, frames_in_flight: 3
Checking readback 45: submitted frame 45, current frame 47, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 47
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 47, frames_in_flight: 3
Checking readback 45: submitted frame 45, current frame 47, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.5ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 48
Processing readbacks: 3 pending, completed_frame: 48, frames_in_flight: 3
Checking readback 45: submitted frame 45, current frame 48, 3 frames elapsed (need 3)
Readback 45 ready (submitted frame 45, current frame 48)
Checking readback 46: submitted frame 45, current frame 48, 3 frames elapsed (need 3)
Readback 46 ready (submitted frame 45, current frame 48)
Checking readback 47: submitted frame 46, current frame 48, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 275/512 completed
Minichunk 276/512 completed
Minichunk 277/512 completed
Minichunk 278/512 completed
Minichunk 279/512 completed
Minichunk 280/512 completed
Minichunk 281/512 completed
Minichunk 282/512 completed
Minichunk 283/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 284/512 completed
Minichunk 285/512 completed
Minichunk 286/512 completed
Minichunk 287/512 completed
Minichunk 288/512 completed
Minichunk 289/512 completed
Minichunk 290/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 48
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 48, frames_in_flight: 3
Checking readback 47: submitted frame 46, current frame 48, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 7 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 0
Overall bounds: [72, -40, 40] to [128, -32, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91b28, alignment: 0
Returning buffer pointer: 0x21fe6b91b28 (aligned: true)
Created staging buffer at: 0x21fe6b91b28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(703713830055707666), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91be8, alignment: 0
Returning buffer pointer: 0x21fe6b91be8 (aligned: true)
Created staging buffer at: 0x21fe6b91be8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbff000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8267004728387306516), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92628, alignment: 0
Returning buffer pointer: 0x21fe6b92628 (aligned: true)
Created staging buffer at: 0x21fe6b92628
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8030972567252632598), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92668, alignment: 0
Returning buffer pointer: 0x21fe6b92668 (aligned: true)
Created staging buffer at: 0x21fe6b92668
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc00000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(831689286947439640), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-4.0e1,4.0e1] to [1.3e2,-3.2e1,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b921e8, alignment: 0
Returning buffer pointer: 0x21fe6b921e8 (aligned: true)
Submitting readback 48 at frame 48 (will be ready at frame 51)
Successfully queued 7 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 1
Overall bounds: [64, -64, 32] to [128, -56, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91b68, alignment: 0
Returning buffer pointer: 0x21fe6b91b68 (aligned: true)
Created staging buffer at: 0x21fe6b91b68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7206511469746193437), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92228, alignment: 0
Returning buffer pointer: 0x21fe6b92228 (aligned: true)
Created staging buffer at: 0x21fe6b92228
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6815562518304392223), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92268, alignment: 0
Returning buffer pointer: 0x21fe6b92268 (aligned: true)
Created staging buffer at: 0x21fe6b92268
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc10000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1864252751219786785), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92468, alignment: 0
Returning buffer pointer: 0x21fe6b92468 (aligned: true)
Created staging buffer at: 0x21fe6b92468
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf5000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10394618002250138659), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,3.2e1] to [1.3e2,-5.6e1,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91c28, alignment: 0
Returning buffer pointer: 0x21fe6b91c28 (aligned: true)
Submitting readback 49 at frame 48 (will be ready at frame 51)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 8 remaining minichunks from batch
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.3ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 10)
DeferredReadbackManager: advanced to frame 49
Processing readbacks: 3 pending, completed_frame: 49, frames_in_flight: 3
Checking readback 47: submitted frame 46, current frame 49, 3 frames elapsed (need 3)
Readback 47 ready (submitted frame 46, current frame 49)
Checking readback 48: submitted frame 48, current frame 49, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (10 minichunks, 20480 bytes)
Minichunk 291/512 completed
Minichunk 292/512 completed
Minichunk 293/512 completed
Minichunk 294/512 completed
Minichunk 295/512 completed
Minichunk 296/512 completed
Minichunk 297/512 completed
Minichunk 298/512 completed
Minichunk 299/512 completed
Minichunk 300/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 49
[WINDOW] WM_ACTIVATE: is_active=false
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 49, frames_in_flight: 3
Checking readback 48: submitted frame 48, current frame 49, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [64, -32, 24] to [128, -16, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b915a8, alignment: 0
Returning buffer pointer: 0x21fe6b915a8 (aligned: true)
Created staging buffer at: 0x21fe6b915a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc11000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5789571934542890024), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b919e8, alignment: 0
Returning buffer pointer: 0x21fe6b919e8 (aligned: true)
Created staging buffer at: 0x21fe6b919e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc12000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3409562467989193770), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b915e8, alignment: 0
Returning buffer pointer: 0x21fe6b915e8 (aligned: true)
Created staging buffer at: 0x21fe6b915e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc03000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9487770498474443820), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91928, alignment: 0
Returning buffer pointer: 0x21fe6b91928 (aligned: true)
Created staging buffer at: 0x21fe6b91928
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc04000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2665170006240658478), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-3.2e1,2.4e1] to [1.3e2,-1.6e1,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91628, alignment: 0
Returning buffer pointer: 0x21fe6b91628 (aligned: true)
Submitting readback 50 at frame 49 (will be ready at frame 52)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 50
Processing readbacks: 3 pending, completed_frame: 50, frames_in_flight: 3
Checking readback 48: submitted frame 48, current frame 50, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 50
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 50, frames_in_flight: 3
Checking readback 48: submitted frame 48, current frame 50, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.2ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 51
Processing readbacks: 3 pending, completed_frame: 51, frames_in_flight: 3
Checking readback 48: submitted frame 48, current frame 51, 3 frames elapsed (need 3)
Readback 48 ready (submitted frame 48, current frame 51)
Checking readback 49: submitted frame 48, current frame 51, 3 frames elapsed (need 3)
Readback 49 ready (submitted frame 48, current frame 51)
Checking readback 50: submitted frame 49, current frame 51, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 301/512 completed
Minichunk 302/512 completed
Minichunk 303/512 completed
Minichunk 304/512 completed
Minichunk 305/512 completed
Minichunk 306/512 completed
Minichunk 307/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 308/512 completed
Minichunk 309/512 completed
Minichunk 310/512 completed
Minichunk 311/512 completed
Minichunk 312/512 completed
Minichunk 313/512 completed
Minichunk 314/512 completed
Minichunk 315/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 51
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 51, frames_in_flight: 3
Checking readback 50: submitted frame 49, current frame 51, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 7 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 0
Overall bounds: [72, -8, 32] to [128, 0, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b926a8, alignment: 0
Returning buffer pointer: 0x21fe6b926a8 (aligned: true)
Created staging buffer at: 0x21fe6b926a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4391866156244272179), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c28, alignment: 0
Returning buffer pointer: 0x21fe6b91c28 (aligned: true)
Created staging buffer at: 0x21fe6b91c28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13635145950631560245), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b926e8, alignment: 0
Returning buffer pointer: 0x21fe6b926e8 (aligned: true)
Created staging buffer at: 0x21fe6b926e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3632020058567345207), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c68, alignment: 0
Returning buffer pointer: 0x21fe6b91c68 (aligned: true)
Created staging buffer at: 0x21fe6b91c68
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0b000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14433686061513180217), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-8.0e0,3.2e1] to [1.3e2,0.0e0,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91ea8, alignment: 0
Returning buffer pointer: 0x21fe6b91ea8 (aligned: true)
Submitting readback 51 at frame 51 (will be ready at frame 54)
Successfully queued 7 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 6 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [80, -40, 32] to [128, -32, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b921e8, alignment: 0
Returning buffer pointer: 0x21fe6b921e8 (aligned: true)
Created staging buffer at: 0x21fe6b921e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12157086763063444542), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b928a8, alignment: 0
Returning buffer pointer: 0x21fe6b928a8 (aligned: true)
Created staging buffer at: 0x21fe6b928a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(274042278106891328), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ca8, alignment: 0
Returning buffer pointer: 0x21fe6b91ca8 (aligned: true)
Created staging buffer at: 0x21fe6b91ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc13000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12023038703451505730), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b979e8, alignment: 0
Returning buffer pointer: 0x21fe6b979e8 (aligned: true)
Created staging buffer at: 0x21fe6b979e8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc14000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15389077003655185476), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-4.0e1,3.2e1] to [1.3e2,-3.2e1,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90268, alignment: 0
Returning buffer pointer: 0x21fe6b90268 (aligned: true)
Submitting readback 52 at frame 51 (will be ready at frame 54)
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.7ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 52
Processing readbacks: 3 pending, completed_frame: 52, frames_in_flight: 3
Checking readback 50: submitted frame 49, current frame 52, 3 frames elapsed (need 3)
Readback 50 ready (submitted frame 49, current frame 52)
Checking readback 51: submitted frame 51, current frame 52, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 316/512 completed
Minichunk 317/512 completed
Minichunk 318/512 completed
Minichunk 319/512 completed
Minichunk 320/512 completed
Minichunk 321/512 completed
Minichunk 322/512 completed
Minichunk 323/512 completed
Minichunk 324/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 52
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 52, frames_in_flight: 3
Checking readback 51: submitted frame 51, current frame 52, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [64, -56, 32] to [128, -48, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b919a8, alignment: 0
Returning buffer pointer: 0x21fe6b919a8 (aligned: true)
Created staging buffer at: 0x21fe6b919a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2096514686982816841), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ba8, alignment: 0
Returning buffer pointer: 0x21fe6b90ba8 (aligned: true)
Created staging buffer at: 0x21fe6b90ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10774285964390958155), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91628, alignment: 0
Returning buffer pointer: 0x21fe6b91628 (aligned: true)
Created staging buffer at: 0x21fe6b91628
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1f000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14279922658903589965), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ae8, alignment: 0
Returning buffer pointer: 0x21fe6b90ae8 (aligned: true)
Created staging buffer at: 0x21fe6b90ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc20000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16426571777578107983), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-5.6e1,3.2e1] to [1.3e2,-4.8e1,4.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90f28, alignment: 0
Returning buffer pointer: 0x21fe6b90f28 (aligned: true)
Submitting readback 53 at frame 52 (will be ready at frame 55)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.9ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 53
Processing readbacks: 3 pending, completed_frame: 53, frames_in_flight: 3
Checking readback 51: submitted frame 51, current frame 53, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 53
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 53, frames_in_flight: 3
Checking readback 51: submitted frame 51, current frame 53, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 11 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.9ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 54
Processing readbacks: 3 pending, completed_frame: 54, frames_in_flight: 3
Checking readback 51: submitted frame 51, current frame 54, 3 frames elapsed (need 3)
Readback 51 ready (submitted frame 51, current frame 54)
Checking readback 52: submitted frame 51, current frame 54, 3 frames elapsed (need 3)
Readback 52 ready (submitted frame 51, current frame 54)
Checking readback 53: submitted frame 52, current frame 54, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 325/512 completed
Minichunk 326/512 completed
Minichunk 327/512 completed
Minichunk 328/512 completed
Minichunk 329/512 completed
Minichunk 330/512 completed
Minichunk 331/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 332/512 completed
Minichunk 333/512 completed
Minichunk 334/512 completed
Minichunk 335/512 completed
Minichunk 336/512 completed
Minichunk 337/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 54
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 54, frames_in_flight: 3
Checking readback 53: submitted frame 52, current frame 54, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 11 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 7 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 0
Overall bounds: [72, -24, 24] to [128, -16, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b906e8, alignment: 0
Returning buffer pointer: 0x21fe6b906e8 (aligned: true)
Created staging buffer at: 0x21fe6b906e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9506539161960580180), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90068, alignment: 0
Returning buffer pointer: 0x21fe6b90068 (aligned: true)
Created staging buffer at: 0x21fe6b90068
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16769646893234914390), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b905e8, alignment: 0
Returning buffer pointer: 0x21fe6b905e8 (aligned: true)
Created staging buffer at: 0x21fe6b905e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17470183134686348376), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8ffe8, alignment: 0
Returning buffer pointer: 0x21fe6b8ffe8 (aligned: true)
Created staging buffer at: 0x21fe6b8ffe8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc15000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18243199182640776282), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-2.4e1,2.4e1] to [1.3e2,-1.6e1,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b900a8, alignment: 0
Returning buffer pointer: 0x21fe6b900a8 (aligned: true)
Submitting readback 54 at frame 54 (will be ready at frame 57)
Successfully queued 7 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 1
Overall bounds: [64, -48, 24] to [128, -32, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fd68, alignment: 0
Returning buffer pointer: 0x21fe6b8fd68 (aligned: true)
Created staging buffer at: 0x21fe6b8fd68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc09000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17700404376868226143), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90928, alignment: 0
Returning buffer pointer: 0x21fe6b90928 (aligned: true)
Created staging buffer at: 0x21fe6b90928
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14127209289898525793), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b906a8, alignment: 0
Returning buffer pointer: 0x21fe6b906a8 (aligned: true)
Created staging buffer at: 0x21fe6b906a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecce000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16399677723162707043), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90768, alignment: 0
Returning buffer pointer: 0x21fe6b90768 (aligned: true)
Created staging buffer at: 0x21fe6b90768
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd9000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1089610525567878245), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.8e1,2.4e1] to [1.3e2,-3.2e1,3.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fae8, alignment: 0
Returning buffer pointer: 0x21fe6b8fae8 (aligned: true)
Submitting readback 55 at frame 54 (will be ready at frame 57)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.1ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 55
Processing readbacks: 3 pending, completed_frame: 55, frames_in_flight: 3
Checking readback 53: submitted frame 52, current frame 55, 3 frames elapsed (need 3)
Readback 53 ready (submitted frame 52, current frame 55)
Checking readback 54: submitted frame 54, current frame 55, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 338/512 completed
Minichunk 339/512 completed
Minichunk 340/512 completed
Minichunk 341/512 completed
Minichunk 342/512 completed
Minichunk 343/512 completed
Minichunk 344/512 completed
Minichunk 345/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 55
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 55, frames_in_flight: 3
Checking readback 54: submitted frame 54, current frame 55, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [64, -64, 24] to [128, -48, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91da8, alignment: 0
Returning buffer pointer: 0x21fe6b91da8 (aligned: true)
Created staging buffer at: 0x21fe6b91da8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccf000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15462946592855688298), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ea8, alignment: 0
Returning buffer pointer: 0x21fe6b91ea8 (aligned: true)
Created staging buffer at: 0x21fe6b91ea8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc16000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15014185320025425004), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91f28, alignment: 0
Returning buffer pointer: 0x21fe6b91f28 (aligned: true)
Created staging buffer at: 0x21fe6b91f28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc17000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1856371451871888494), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96b28, alignment: 0
Returning buffer pointer: 0x21fe6b96b28 (aligned: true)
Created staging buffer at: 0x21fe6b96b28
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc18000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11451147521473119344), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,2.4e1] to [1.3e2,-4.8e1,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b96b68, alignment: 0
Returning buffer pointer: 0x21fe6b96b68 (aligned: true)
Submitting readback 56 at frame 55 (will be ready at frame 58)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.8ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 56
Processing readbacks: 3 pending, completed_frame: 56, frames_in_flight: 3
Checking readback 54: submitted frame 54, current frame 56, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 56
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 56, frames_in_flight: 3
Checking readback 54: submitted frame 54, current frame 56, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.7ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 57
Processing readbacks: 3 pending, completed_frame: 57, frames_in_flight: 3
Checking readback 54: submitted frame 54, current frame 57, 3 frames elapsed (need 3)
Readback 54 ready (submitted frame 54, current frame 57)
Checking readback 55: submitted frame 54, current frame 57, 3 frames elapsed (need 3)
Readback 55 ready (submitted frame 54, current frame 57)
Checking readback 56: submitted frame 55, current frame 57, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 346/512 completed
Minichunk 347/512 completed
Minichunk 348/512 completed
Minichunk 349/512 completed
Minichunk 350/512 completed
Minichunk 351/512 completed
Minichunk 352/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 353/512 completed
Minichunk 354/512 completed
Minichunk 355/512 completed
Minichunk 356/512 completed
Minichunk 357/512 completed
Minichunk 358/512 completed
Minichunk 359/512 completed
Minichunk 360/512 completed
Minichunk 361/512 completed
Minichunk 362/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 57
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 57, frames_in_flight: 3
Checking readback 56: submitted frame 55, current frame 57, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [64, -16, 16] to [128, 0, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90628, alignment: 0
Returning buffer pointer: 0x21fe6b90628 (aligned: true)
Created staging buffer at: 0x21fe6b90628
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc05000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14326798138130564213), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b909a8, alignment: 0
Returning buffer pointer: 0x21fe6b909a8 (aligned: true)
Created staging buffer at: 0x21fe6b909a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3146258020439164023), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b900a8, alignment: 0
Returning buffer pointer: 0x21fe6b900a8 (aligned: true)
Created staging buffer at: 0x21fe6b900a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10339850228558988409), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90a28, alignment: 0
Returning buffer pointer: 0x21fe6b90a28 (aligned: true)
Created staging buffer at: 0x21fe6b90a28
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf3000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3653621064006632571), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.6e1,1.6e1] to [1.3e2,0.0e0,2.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90468, alignment: 0
Returning buffer pointer: 0x21fe6b90468 (aligned: true)
Submitting readback 57 at frame 57 (will be ready at frame 60)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [80, -8, 16] to [128, 0, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fb68, alignment: 0
Returning buffer pointer: 0x21fe6b8fb68 (aligned: true)
Created staging buffer at: 0x21fe6b8fb68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3620707183429158016), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90a68, alignment: 0
Returning buffer pointer: 0x21fe6b90a68 (aligned: true)
Created staging buffer at: 0x21fe6b90a68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc21000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13394187977404449922), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fda8, alignment: 0
Returning buffer pointer: 0x21fe6b8fda8 (aligned: true)
Created staging buffer at: 0x21fe6b8fda8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc22000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2362191880625587332), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b901e8, alignment: 0
Returning buffer pointer: 0x21fe6b901e8 (aligned: true)
Created staging buffer at: 0x21fe6b901e8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1b000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4202442293011022982), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-8.0e0,1.6e1] to [1.3e2,0.0e0,2.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fca8, alignment: 0
Returning buffer pointer: 0x21fe6b8fca8 (aligned: true)
Submitting readback 58 at frame 57 (will be ready at frame 60)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.4ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 58
Processing readbacks: 3 pending, completed_frame: 58, frames_in_flight: 3
Checking readback 56: submitted frame 55, current frame 58, 3 frames elapsed (need 3)
Readback 56 ready (submitted frame 55, current frame 58)
Checking readback 57: submitted frame 57, current frame 58, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 363/512 completed
Minichunk 364/512 completed
Minichunk 365/512 completed
Minichunk 366/512 completed
Minichunk 367/512 completed
Minichunk 368/512 completed
Minichunk 369/512 completed
Minichunk 370/512 completed
Minichunk 371/512 completed
Minichunk 372/512 completed
Minichunk 373/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 58

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: 0.0°, Pitch: 0.0°, Roll: -45.6°]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 58, frames_in_flight: 3
Checking readback 57: submitted frame 57, current frame 58, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [64, -32, 16] to [128, -16, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b923e8, alignment: 0
Returning buffer pointer: 0x21fe6b923e8 (aligned: true)
Created staging buffer at: 0x21fe6b923e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc19000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12271101720817304715), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b925a8, alignment: 0
Returning buffer pointer: 0x21fe6b925a8 (aligned: true)
Created staging buffer at: 0x21fe6b925a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc23000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1106821181077456013), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b928e8, alignment: 0
Returning buffer pointer: 0x21fe6b928e8 (aligned: true)
Created staging buffer at: 0x21fe6b928e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5518644572877489295), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92928, alignment: 0
Returning buffer pointer: 0x21fe6b92928 (aligned: true)
Created staging buffer at: 0x21fe6b92928
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcf000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11963983933923656849), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-3.2e1,1.6e1] to [1.3e2,-1.6e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92968, alignment: 0
Returning buffer pointer: 0x21fe6b92968 (aligned: true)
Submitting readback 59 at frame 58 (will be ready at frame 61)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.1ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 59
Processing readbacks: 3 pending, completed_frame: 59, frames_in_flight: 3
Checking readback 57: submitted frame 57, current frame 59, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 59
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 59, frames_in_flight: 3
Checking readback 57: submitted frame 57, current frame 59, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 60
Processing readbacks: 3 pending, completed_frame: 60, frames_in_flight: 3
Checking readback 57: submitted frame 57, current frame 60, 3 frames elapsed (need 3)
Readback 57 ready (submitted frame 57, current frame 60)
Checking readback 58: submitted frame 57, current frame 60, 3 frames elapsed (need 3)
Readback 58 ready (submitted frame 57, current frame 60)
Checking readback 59: submitted frame 58, current frame 60, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 374/512 completed
Minichunk 375/512 completed
Minichunk 376/512 completed
Minichunk 377/512 completed
Minichunk 378/512 completed
Minichunk 379/512 completed
Minichunk 380/512 completed
Minichunk 381/512 completed
Minichunk 382/512 completed
Minichunk 383/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 384/512 completed
Minichunk 385/512 completed
Minichunk 386/512 completed
Minichunk 387/512 completed
Minichunk 388/512 completed
Minichunk 389/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 60
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 60, frames_in_flight: 3
Checking readback 59: submitted frame 58, current frame 60, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 6 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 0
Overall bounds: [80, -40, 24] to [128, -32, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fde8, alignment: 0
Returning buffer pointer: 0x21fe6b8fde8 (aligned: true)
Created staging buffer at: 0x21fe6b8fde8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc06000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2125702322653758614), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fe28, alignment: 0
Returning buffer pointer: 0x21fe6b8fe28 (aligned: true)
Created staging buffer at: 0x21fe6b8fe28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecda000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7002619133003039896), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b907a8, alignment: 0
Returning buffer pointer: 0x21fe6b907a8 (aligned: true)
Created staging buffer at: 0x21fe6b907a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6373894194984912026), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90168, alignment: 0
Returning buffer pointer: 0x21fe6b90168 (aligned: true)
Created staging buffer at: 0x21fe6b90168
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab6000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1604205057111229596), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-4.0e1,2.4e1] to [1.3e2,-3.2e1,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b907e8, alignment: 0
Returning buffer pointer: 0x21fe6b907e8 (aligned: true)
Submitting readback 60 at frame 60 (will be ready at frame 63)
Successfully queued 6 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 5 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 1
Overall bounds: [88, -56, 24] to [128, -48, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b900e8, alignment: 0
Returning buffer pointer: 0x21fe6b900e8 (aligned: true)
Created staging buffer at: 0x21fe6b900e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc07000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10357061983580193953), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90828, alignment: 0
Returning buffer pointer: 0x21fe6b90828 (aligned: true)
Created staging buffer at: 0x21fe6b90828
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc08000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5400272250542752931), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90868, alignment: 0
Returning buffer pointer: 0x21fe6b90868 (aligned: true)
Created staging buffer at: 0x21fe6b90868
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc28000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7218937050651690149), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fe68, alignment: 0
Returning buffer pointer: 0x21fe6b8fe68 (aligned: true)
Created staging buffer at: 0x21fe6b8fe68
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd0000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9693843166775477415), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.8e1,-5.6e1,2.4e1] to [1.3e2,-4.8e1,3.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b908e8, alignment: 0
Returning buffer pointer: 0x21fe6b908e8 (aligned: true)
Submitting readback 61 at frame 60 (will be ready at frame 63)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.6ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 11)
DeferredReadbackManager: advanced to frame 61
Processing readbacks: 3 pending, completed_frame: 61, frames_in_flight: 3
Checking readback 59: submitted frame 58, current frame 61, 3 frames elapsed (need 3)
Readback 59 ready (submitted frame 58, current frame 61)
Checking readback 60: submitted frame 60, current frame 61, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 390/512 completed
Minichunk 391/512 completed
Minichunk 392/512 completed
Minichunk 393/512 completed
Minichunk 394/512 completed
Minichunk 395/512 completed
Minichunk 396/512 completed
Minichunk 397/512 completed
Minichunk 398/512 completed
Minichunk 399/512 completed
Minichunk 400/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 61
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 61, frames_in_flight: 3
Checking readback 60: submitted frame 60, current frame 61, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 2
Overall bounds: [64, -48, 16] to [128, -32, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92968, alignment: 0
Returning buffer pointer: 0x21fe6b92968 (aligned: true)
Created staging buffer at: 0x21fe6b92968
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9011658873903252652), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d68, alignment: 0
Returning buffer pointer: 0x21fe6b91d68 (aligned: true)
Created staging buffer at: 0x21fe6b91d68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbda000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8833082792389641390), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b922e8, alignment: 0
Returning buffer pointer: 0x21fe6b922e8 (aligned: true)
Created staging buffer at: 0x21fe6b922e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8080271370107225264), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d28, alignment: 0
Returning buffer pointer: 0x21fe6b91d28 (aligned: true)
Created staging buffer at: 0x21fe6b91d28
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd2000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7695356538478658738), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.8e1,1.6e1] to [1.3e2,-3.2e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91ee8, alignment: 0
Returning buffer pointer: 0x21fe6b91ee8 (aligned: true)
Submitting readback 62 at frame 61 (will be ready at frame 64)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.1ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 8)
DeferredReadbackManager: advanced to frame 62
Processing readbacks: 3 pending, completed_frame: 62, frames_in_flight: 3
Checking readback 60: submitted frame 60, current frame 62, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 62
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 62, frames_in_flight: 3
Checking readback 60: submitted frame 60, current frame 62, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.2ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 63
Processing readbacks: 3 pending, completed_frame: 63, frames_in_flight: 3
Checking readback 60: submitted frame 60, current frame 63, 3 frames elapsed (need 3)
Readback 60 ready (submitted frame 60, current frame 63)
Checking readback 61: submitted frame 60, current frame 63, 3 frames elapsed (need 3)
Readback 61 ready (submitted frame 60, current frame 63)
Checking readback 62: submitted frame 61, current frame 63, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 401/512 completed
Minichunk 402/512 completed
Minichunk 403/512 completed
Minichunk 404/512 completed
Minichunk 405/512 completed
Minichunk 406/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (5 minichunks, 10240 bytes)
Minichunk 407/512 completed
Minichunk 408/512 completed
Minichunk 409/512 completed
Minichunk 410/512 completed
Minichunk 411/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 63
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 63, frames_in_flight: 3
Checking readback 62: submitted frame 61, current frame 63, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 5 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 5 minichunks in workspace 0
Overall bounds: [88, -24, 16] to [128, -16, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b901a8, alignment: 0
Returning buffer pointer: 0x21fe6b901a8 (aligned: true)
Created staging buffer at: 0x21fe6b901a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc25000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5247551184956294327), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fba8, alignment: 0
Returning buffer pointer: 0x21fe6b8fba8 (aligned: true)
Created staging buffer at: 0x21fe6b8fba8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7371682305493959865), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90268, alignment: 0
Returning buffer pointer: 0x21fe6b90268 (aligned: true)
Created staging buffer at: 0x21fe6b90268
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(316527407404156091), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90728, alignment: 0
Returning buffer pointer: 0x21fe6b90728 (aligned: true)
Created staging buffer at: 0x21fe6b90728
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc26000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6574787064007492797), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.8e1,-2.4e1,1.6e1] to [1.3e2,-1.6e1,2.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90228, alignment: 0
Returning buffer pointer: 0x21fe6b90228 (aligned: true)
Submitting readback 63 at frame 63 (will be ready at frame 66)
Successfully queued 5 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 1
Overall bounds: [64, -32, 8] to [128, -24, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90028, alignment: 0
Returning buffer pointer: 0x21fe6b90028 (aligned: true)
Created staging buffer at: 0x21fe6b90028
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdb000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6104612802226291906), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90128, alignment: 0
Returning buffer pointer: 0x21fe6b90128 (aligned: true)
Created staging buffer at: 0x21fe6b90128
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1585397910718121156), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b902e8, alignment: 0
Returning buffer pointer: 0x21fe6b902e8 (aligned: true)
Created staging buffer at: 0x21fe6b902e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12153760740389422278), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90428, alignment: 0
Returning buffer pointer: 0x21fe6b90428 (aligned: true)
Created staging buffer at: 0x21fe6b90428
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab2000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4707417197322962120), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-3.2e1,8.0e0] to [1.3e2,-2.4e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90468, alignment: 0
Returning buffer pointer: 0x21fe6b90468 (aligned: true)
Submitting readback 64 at frame 63 (will be ready at frame 66)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 8 remaining minichunks from batch
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 31.4ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 12)
DeferredReadbackManager: advanced to frame 64
Processing readbacks: 3 pending, completed_frame: 64, frames_in_flight: 3
Checking readback 62: submitted frame 61, current frame 64, 3 frames elapsed (need 3)
Readback 62 ready (submitted frame 61, current frame 64)
Checking readback 63: submitted frame 63, current frame 64, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (10 minichunks, 20480 bytes)
Minichunk 412/512 completed
Minichunk 413/512 completed
Minichunk 414/512 completed
Minichunk 415/512 completed
Minichunk 416/512 completed
Minichunk 417/512 completed
Minichunk 418/512 completed
Minichunk 419/512 completed
Minichunk 420/512 completed
Minichunk 421/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 64

Region Loading Status:
  Camera region: RegionId(0, -1, 0)
  View distance: 1 regions
  Loaded regions: 0
  Pending generations: 2
  Active chunks: 0
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 64, frames_in_flight: 3
Checking readback 63: submitted frame 63, current frame 64, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [64, -64, 16] to [128, -48, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b929a8, alignment: 0
Returning buffer pointer: 0x21fe6b929a8 (aligned: true)
Created staging buffer at: 0x21fe6b929a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2333961919582438605), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ee8, alignment: 0
Returning buffer pointer: 0x21fe6b91ee8 (aligned: true)
Created staging buffer at: 0x21fe6b91ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbec000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9676656700521710799), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b927a8, alignment: 0
Returning buffer pointer: 0x21fe6b927a8 (aligned: true)
Created staging buffer at: 0x21fe6b927a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4382039820826838225), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b921a8, alignment: 0
Returning buffer pointer: 0x21fe6b921a8 (aligned: true)
Created staging buffer at: 0x21fe6b921a8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab4000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4604826165381694675), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,1.6e1] to [1.3e2,-4.8e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92aa8, alignment: 0
Returning buffer pointer: 0x21fe6b92aa8 (aligned: true)
Submitting readback 65 at frame 64 (will be ready at frame 67)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 31.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 65
Processing readbacks: 3 pending, completed_frame: 65, frames_in_flight: 3
Checking readback 63: submitted frame 63, current frame 65, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 65
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 65, frames_in_flight: 3
Checking readback 63: submitted frame 63, current frame 65, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.5ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 66
Processing readbacks: 3 pending, completed_frame: 66, frames_in_flight: 3
Checking readback 63: submitted frame 63, current frame 66, 3 frames elapsed (need 3)
Readback 63 ready (submitted frame 63, current frame 66)
Checking readback 64: submitted frame 63, current frame 66, 3 frames elapsed (need 3)
Readback 64 ready (submitted frame 63, current frame 66)
Checking readback 65: submitted frame 64, current frame 66, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 422/512 completed
Minichunk 423/512 completed
Minichunk 424/512 completed
Minichunk 425/512 completed
Minichunk 426/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 427/512 completed
Minichunk 428/512 completed
Minichunk 429/512 completed
Minichunk 430/512 completed
Minichunk 431/512 completed
Minichunk 432/512 completed
Minichunk 433/512 completed
Minichunk 434/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 66
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 66, frames_in_flight: 3
Checking readback 65: submitted frame 64, current frame 66, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 6 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 0
Overall bounds: [80, -40, 16] to [128, -32, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fbe8, alignment: 0
Returning buffer pointer: 0x21fe6b8fbe8 (aligned: true)
Created staging buffer at: 0x21fe6b8fbe8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc27000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13249038148886856920), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90228, alignment: 0
Returning buffer pointer: 0x21fe6b90228 (aligned: true)
Created staging buffer at: 0x21fe6b90228
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3068174003169395930), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90aa8, alignment: 0
Returning buffer pointer: 0x21fe6b90aa8 (aligned: true)
Created staging buffer at: 0x21fe6b90aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13910086529738343644), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b907e8, alignment: 0
Returning buffer pointer: 0x21fe6b907e8 (aligned: true)
Created staging buffer at: 0x21fe6b907e8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd6000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12223820521799681246), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-4.0e1,1.6e1] to [1.3e2,-3.2e1,2.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fae8, alignment: 0
Returning buffer pointer: 0x21fe6b8fae8 (aligned: true)
Submitting readback 66 at frame 66 (will be ready at frame 69)
Successfully queued 6 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 1
Overall bounds: [64, -24, 8] to [128, -16, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90468, alignment: 0
Returning buffer pointer: 0x21fe6b90468 (aligned: true)
Created staging buffer at: 0x21fe6b90468
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdb000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1741715478839035107), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b904e8, alignment: 0
Returning buffer pointer: 0x21fe6b904e8 (aligned: true)
Created staging buffer at: 0x21fe6b904e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbed000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15200368922491618533), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90528, alignment: 0
Returning buffer pointer: 0x21fe6b90528 (aligned: true)
Created staging buffer at: 0x21fe6b90528
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16124361111079224551), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90568, alignment: 0
Returning buffer pointer: 0x21fe6b90568 (aligned: true)
Created staging buffer at: 0x21fe6b90568
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd3000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2048868450104771817), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-2.4e1,8.0e0] to [1.3e2,-1.6e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b908a8, alignment: 0
Returning buffer pointer: 0x21fe6b908a8 (aligned: true)
Submitting readback 67 at frame 66 (will be ready at frame 69)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 30.9ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 12)
DeferredReadbackManager: advanced to frame 67
Processing readbacks: 3 pending, completed_frame: 67, frames_in_flight: 3
Checking readback 65: submitted frame 64, current frame 67, 3 frames elapsed (need 3)
Readback 65 ready (submitted frame 64, current frame 67)
Checking readback 66: submitted frame 66, current frame 67, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 435/512 completed
Minichunk 436/512 completed
Minichunk 437/512 completed
Minichunk 438/512 completed
Minichunk 439/512 completed
Minichunk 440/512 completed
Minichunk 441/512 completed
Minichunk 442/512 completed
Minichunk 443/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 67
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 67, frames_in_flight: 3
Checking readback 66: submitted frame 66, current frame 67, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 7 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [72, -56, 16] to [128, -48, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b924a8, alignment: 0
Returning buffer pointer: 0x21fe6b924a8 (aligned: true)
Created staging buffer at: 0x21fe6b924a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16462819377410999534), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b929e8, alignment: 0
Returning buffer pointer: 0x21fe6b929e8 (aligned: true)
Created staging buffer at: 0x21fe6b929e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14783383535704081648), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92368, alignment: 0
Returning buffer pointer: 0x21fe6b92368 (aligned: true)
Created staging buffer at: 0x21fe6b92368
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16825768165739857138), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91de8, alignment: 0
Returning buffer pointer: 0x21fe6b91de8 (aligned: true)
Created staging buffer at: 0x21fe6b91de8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbee000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17301603812892476660), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-5.6e1,1.6e1] to [1.3e2,-4.8e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92428, alignment: 0
Returning buffer pointer: 0x21fe6b92428 (aligned: true)
Submitting readback 68 at frame 67 (will be ready at frame 70)
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 30.4ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 7)
DeferredReadbackManager: advanced to frame 68
Processing readbacks: 3 pending, completed_frame: 68, frames_in_flight: 3
Checking readback 66: submitted frame 66, current frame 68, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 68
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 68, frames_in_flight: 3
Checking readback 66: submitted frame 66, current frame 68, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.8ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 69
Processing readbacks: 3 pending, completed_frame: 69, frames_in_flight: 3
Checking readback 66: submitted frame 66, current frame 69, 3 frames elapsed (need 3)
Readback 66 ready (submitted frame 66, current frame 69)
Checking readback 67: submitted frame 66, current frame 69, 3 frames elapsed (need 3)
Readback 67 ready (submitted frame 66, current frame 69)
Checking readback 68: submitted frame 67, current frame 69, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 444/512 completed
Minichunk 445/512 completed
Minichunk 446/512 completed
Minichunk 447/512 completed
Minichunk 448/512 completed
Minichunk 449/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 450/512 completed
Minichunk 451/512 completed
Minichunk 452/512 completed
Minichunk 453/512 completed
Minichunk 454/512 completed
Minichunk 455/512 completed
Minichunk 456/512 completed
Minichunk 457/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 69
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 69, frames_in_flight: 3
Checking readback 68: submitted frame 67, current frame 69, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [64, -48, 8] to [128, -40, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fae8, alignment: 0
Returning buffer pointer: 0x21fe6b8fae8 (aligned: true)
Created staging buffer at: 0x21fe6b8fae8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17335260963330327801), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fb28, alignment: 0
Returning buffer pointer: 0x21fe6b8fb28 (aligned: true)
Created staging buffer at: 0x21fe6b8fb28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbeb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18385041680182019323), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b908e8, alignment: 0
Returning buffer pointer: 0x21fe6b908e8 (aligned: true)
Created staging buffer at: 0x21fe6b908e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc24000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9389605000834974973), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fc28, alignment: 0
Returning buffer pointer: 0x21fe6b8fc28 (aligned: true)
Created staging buffer at: 0x21fe6b8fc28
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf8000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16480876656873964799), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.8e1,8.0e0] to [1.3e2,-4.0e1,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fc68, alignment: 0
Returning buffer pointer: 0x21fe6b8fc68 (aligned: true)
Submitting readback 69 at frame 69 (will be ready at frame 72)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 1
Overall bounds: [64, -40, 8] to [128, -32, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fca8, alignment: 0
Returning buffer pointer: 0x21fe6b8fca8 (aligned: true)
Created staging buffer at: 0x21fe6b8fca8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14758213515521033476), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b912a8, alignment: 0
Returning buffer pointer: 0x21fe6b912a8 (aligned: true)
Created staging buffer at: 0x21fe6b912a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17142555057888167174), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b914a8, alignment: 0
Returning buffer pointer: 0x21fe6b914a8 (aligned: true)
Created staging buffer at: 0x21fe6b914a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1314023047820215560), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91a28, alignment: 0
Returning buffer pointer: 0x21fe6b91a28 (aligned: true)
Created staging buffer at: 0x21fe6b91a28
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbef000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14378315755450008842), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.0e1,8.0e0] to [1.3e2,-3.2e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91068, alignment: 0
Returning buffer pointer: 0x21fe6b91068 (aligned: true)
Submitting readback 70 at frame 69 (will be ready at frame 72)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 30.0ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 12)
DeferredReadbackManager: advanced to frame 70
Processing readbacks: 3 pending, completed_frame: 70, frames_in_flight: 3
Checking readback 68: submitted frame 67, current frame 70, 3 frames elapsed (need 3)
Readback 68 ready (submitted frame 67, current frame 70)
Checking readback 69: submitted frame 69, current frame 70, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 458/512 completed
Minichunk 459/512 completed
Minichunk 460/512 completed
Minichunk 461/512 completed
Minichunk 462/512 completed
Minichunk 463/512 completed
Minichunk 464/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 70
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 70, frames_in_flight: 3
Checking readback 69: submitted frame 69, current frame 70, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [64, -32, 0] to [128, -16, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92728, alignment: 0
Returning buffer pointer: 0x21fe6b92728 (aligned: true)
Created staging buffer at: 0x21fe6b92728
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16069871513829901583), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92428, alignment: 0
Returning buffer pointer: 0x21fe6b92428 (aligned: true)
Created staging buffer at: 0x21fe6b92428
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(263707968317424913), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920a8, alignment: 0
Returning buffer pointer: 0x21fe6b920a8 (aligned: true)
Created staging buffer at: 0x21fe6b920a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfa000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12021905106963268883), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ba8, alignment: 0
Returning buffer pointer: 0x21fe6b91ba8 (aligned: true)
Created staging buffer at: 0x21fe6b91ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcc000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15411314626326955285), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-3.2e1,0.0e0] to [1.3e2,-1.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b920e8, alignment: 0
Returning buffer pointer: 0x21fe6b920e8 (aligned: true)
Submitting readback 71 at frame 70 (will be ready at frame 73)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.3ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 5)
DeferredReadbackManager: advanced to frame 71
Processing readbacks: 3 pending, completed_frame: 71, frames_in_flight: 3
Checking readback 69: submitted frame 69, current frame 71, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 71
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 71, frames_in_flight: 3
Checking readback 69: submitted frame 69, current frame 71, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 24.9ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 72
Processing readbacks: 3 pending, completed_frame: 72, frames_in_flight: 3
Checking readback 69: submitted frame 69, current frame 72, 3 frames elapsed (need 3)
Readback 69 ready (submitted frame 69, current frame 72)
Checking readback 70: submitted frame 69, current frame 72, 3 frames elapsed (need 3)
Readback 70 ready (submitted frame 69, current frame 72)
Checking readback 71: submitted frame 70, current frame 72, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 465/512 completed
Minichunk 466/512 completed
Minichunk 467/512 completed
Minichunk 468/512 completed
Minichunk 469/512 completed
Minichunk 470/512 completed
Minichunk 471/512 completed
Minichunk 472/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 473/512 completed
Minichunk 474/512 completed
Minichunk 475/512 completed
Minichunk 476/512 completed
Minichunk 477/512 completed
Minichunk 478/512 completed
Minichunk 479/512 completed
Minichunk 480/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 72
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 72, frames_in_flight: 3
Checking readback 71: submitted frame 70, current frame 72, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 0
Overall bounds: [64, -64, 8] to [120, -56, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b913e8, alignment: 0
Returning buffer pointer: 0x21fe6b913e8 (aligned: true)
Created staging buffer at: 0x21fe6b913e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3297789414444369178), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91428, alignment: 0
Returning buffer pointer: 0x21fe6b91428 (aligned: true)
Created staging buffer at: 0x21fe6b91428
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12997049875009897756), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90de8, alignment: 0
Returning buffer pointer: 0x21fe6b90de8 (aligned: true)
Created staging buffer at: 0x21fe6b90de8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc01000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14296815555552740638), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91668, alignment: 0
Returning buffer pointer: 0x21fe6b91668 (aligned: true)
Created staging buffer at: 0x21fe6b91668
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc02000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2523124099048277280), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,8.0e0] to [1.2e2,-5.6e1,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b914e8, alignment: 0
Returning buffer pointer: 0x21fe6b914e8 (aligned: true)
Submitting readback 72 at frame 72 (will be ready at frame 75)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [64, -64, 8] to [128, -48, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91a68, alignment: 0
Returning buffer pointer: 0x21fe6b91a68 (aligned: true)
Created staging buffer at: 0x21fe6b91a68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcd000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9478469729615086885), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90fa8, alignment: 0
Returning buffer pointer: 0x21fe6b90fa8 (aligned: true)
Created staging buffer at: 0x21fe6b90fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4104177839325054247), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ea8, alignment: 0
Returning buffer pointer: 0x21fe6b90ea8 (aligned: true)
Created staging buffer at: 0x21fe6b90ea8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbce000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3584106640363750697), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ee8, alignment: 0
Returning buffer pointer: 0x21fe6b90ee8 (aligned: true)
Created staging buffer at: 0x21fe6b90ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdc000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10180136269019874603), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,8.0e0] to [1.3e2,-4.8e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91528, alignment: 0
Returning buffer pointer: 0x21fe6b91528 (aligned: true)
Submitting readback 73 at frame 72 (will be ready at frame 75)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 2: No available workspace in ring buffer
Re-queuing 2 remaining minichunks from batch
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.5ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 13)
DeferredReadbackManager: advanced to frame 73
Processing readbacks: 3 pending, completed_frame: 73, frames_in_flight: 3
Checking readback 71: submitted frame 70, current frame 73, 3 frames elapsed (need 3)
Readback 71 ready (submitted frame 70, current frame 73)
Checking readback 72: submitted frame 72, current frame 73, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 481/512 completed
Minichunk 482/512 completed
Minichunk 483/512 completed
Minichunk 484/512 completed
Minichunk 485/512 completed
Minichunk 486/512 completed
Minichunk 487/512 completed
Minichunk 488/512 completed
Minichunk 489/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 73
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 73, frames_in_flight: 3
Checking readback 72: submitted frame 72, current frame 73, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 7 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [72, -24, 0] to [128, -16, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91e28, alignment: 0
Returning buffer pointer: 0x21fe6b91e28 (aligned: true)
Created staging buffer at: 0x21fe6b91e28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdd000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3062305909611955504), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92a28, alignment: 0
Returning buffer pointer: 0x21fe6b92a28 (aligned: true)
Created staging buffer at: 0x21fe6b92a28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4919880227204629810), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b922a8, alignment: 0
Returning buffer pointer: 0x21fe6b922a8 (aligned: true)
Created staging buffer at: 0x21fe6b922a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11812127084476630324), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b925e8, alignment: 0
Returning buffer pointer: 0x21fe6b925e8 (aligned: true)
Created staging buffer at: 0x21fe6b925e8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe7000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2203290460179399990), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-2.4e1,0.0e0] to [1.3e2,-1.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92628, alignment: 0
Returning buffer pointer: 0x21fe6b92628 (aligned: true)
Submitting readback 74 at frame 73 (will be ready at frame 76)
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.4ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 10)
DeferredReadbackManager: advanced to frame 74
Processing readbacks: 3 pending, completed_frame: 74, frames_in_flight: 3
Checking readback 72: submitted frame 72, current frame 74, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 74
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 74, frames_in_flight: 3
Checking readback 72: submitted frame 72, current frame 74, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.1ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 75
Processing readbacks: 3 pending, completed_frame: 75, frames_in_flight: 3
Checking readback 72: submitted frame 72, current frame 75, 3 frames elapsed (need 3)
Readback 72 ready (submitted frame 72, current frame 75)
Checking readback 73: submitted frame 72, current frame 75, 3 frames elapsed (need 3)
Readback 73 ready (submitted frame 72, current frame 75)
Checking readback 74: submitted frame 73, current frame 75, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 490/512 completed
Minichunk 491/512 completed
Minichunk 492/512 completed
Minichunk 493/512 completed
Minichunk 494/512 completed
Minichunk 495/512 completed
Minichunk 496/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 497/512 completed
Minichunk 498/512 completed
Minichunk 499/512 completed
Minichunk 500/512 completed
Minichunk 501/512 completed
Minichunk 502/512 completed
Minichunk 503/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 75
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 75, frames_in_flight: 3
Checking readback 74: submitted frame 73, current frame 75, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 0) with 2 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 2 minichunks in workspace 0
Overall bounds: [112, -56, 8] to [128, -48, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91168, alignment: 0
Returning buffer pointer: 0x21fe6b91168 (aligned: true)
Created staging buffer at: 0x21fe6b91168
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfe000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6209069705399895355), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91528, alignment: 0
Returning buffer pointer: 0x21fe6b91528 (aligned: true)
Created staging buffer at: 0x21fe6b91528
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbff000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5873487761486382397), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91aa8, alignment: 0
Returning buffer pointer: 0x21fe6b91aa8 (aligned: true)
Created staging buffer at: 0x21fe6b91aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc00000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(655713550433518911), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90d68, alignment: 0
Returning buffer pointer: 0x21fe6b90d68 (aligned: true)
Created staging buffer at: 0x21fe6b90d68
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe8000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7975794675724322113), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [1.1e2,-5.6e1,8.0e0] to [1.3e2,-4.8e1,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91468, alignment: 0
Returning buffer pointer: 0x21fe6b91468 (aligned: true)
Submitting readback 75 at frame 75 (will be ready at frame 78)
Successfully queued 2 minichunks from this batch
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 13)
DeferredReadbackManager: advanced to frame 76
Processing readbacks: 2 pending, completed_frame: 76, frames_in_flight: 3
Checking readback 74: submitted frame 73, current frame 76, 3 frames elapsed (need 3)
Readback 74 ready (submitted frame 73, current frame 76)
Checking readback 75: submitted frame 75, current frame 76, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 504/512 completed
Minichunk 505/512 completed
Minichunk 506/512 completed
Minichunk 507/512 completed
Minichunk 508/512 completed
Minichunk 509/512 completed
Minichunk 510/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 76
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 76, frames_in_flight: 3
Checking readback 75: submitted frame 75, current frame 76, 1 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.0ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 77
Processing readbacks: 1 pending, completed_frame: 77, frames_in_flight: 3
Checking readback 75: submitted frame 75, current frame 77, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 77
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 77, frames_in_flight: 3
Checking readback 75: submitted frame 75, current frame 77, 2 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 18.1ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 78
Processing readbacks: 1 pending, completed_frame: 78, frames_in_flight: 3
Checking readback 75: submitted frame 75, current frame 78, 3 frames elapsed (need 3)
Readback 75 ready (submitted frame 75, current frame 78)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (2 minichunks, 4096 bytes)
Minichunk 511/512 completed
Minichunk 512/512 completed
Chunk ChunkId(1, -1, 0) complete! All 512 minichunks processed
GPU generation completed successfully
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 3/3
GPU generation completed successfully. Voxel count: 262144
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 15.6ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 79
Processing 0 completed readbacks
Begin frame called - current_frame: Non-empty voxels: 0
1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 12.1ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 4)
DeferredReadbackManager: advanced to frame 80
Processing 0 completed readbacks
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 10.1ms (target: 10.0ms), Workgroups: 4 -> 4 (PID: 4)
DeferredReadbackManager: advanced to frame 81
Processing 0 completed readbacks
GPU pipeline worker: Processing request 12 with priority 19
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: GPU generation thread spawned for bounds: [0.0,-64.0,0.0] to [64.0,0.0,64.0]
vk.Semaphore(15941205563635925013), current frame: GPU generation: starting for 262144 voxels
1
GPU generation: waiting for result...
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing 0 completed readbacks
Main thread: Execute GPU worldgen for bounds [0.0,-64.0,0.0] to [64.0,0.0,64.0]
Processing chunk ChunkId(0, -1, 0) as minichunks
Creating ChunkAccumulator: 262144 voxels, 512 minichunks (8 per axis)
queue_generation_blocking returned: true
Async generation completed for chunk ChunkId(1, -1, 0)
Sending result for chunk ChunkId(1, -1, 0) through channel
Result sent successfully for chunk ChunkId(1, -1, 0)
Queuing 512 minichunks for chunk ChunkId(0, -1, 0)
Processing 512 minichunks in 64 batches of up to 8 each (frames_in_flight: 3)
PID controller: Processing 4 minichunks per workspace (workgroup budget: 4)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 2/3
Processing 4 minichunks in workspace 1
Overall bounds: [0, -64, 0] to [32, -56, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b95ce8, alignment: 0
Returning buffer pointer: 0x21fe6b95ce8 (aligned: true)
Created staging buffer at: 0x21fe6b95ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc03000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5055105863769916742), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96b68, alignment: 0
Returning buffer pointer: 0x21fe6b96b68 (aligned: true)
Created staging buffer at: 0x21fe6b96b68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc04000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8920652296472233288), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96c28, alignment: 0
Returning buffer pointer: 0x21fe6b96c28 (aligned: true)
Created staging buffer at: 0x21fe6b96c28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8985318973348250954), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96ca8, alignment: 0
Returning buffer pointer: 0x21fe6b96ca8 (aligned: true)
Created staging buffer at: 0x21fe6b96ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc9000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8248344916552320332), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,0.0e0] to [3.2e1,-5.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b908a8, alignment: 0
Returning buffer pointer: 0x21fe6b908a8 (aligned: true)
Submitting readback 76 at frame 81 (will be ready at frame 84)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 4 minichunks in workspace 2
Overall bounds: [32, -64, 0] to [64, -56, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fc68, alignment: 0
Returning buffer pointer: 0x21fe6b8fc68 (aligned: true)
Created staging buffer at: 0x21fe6b8fc68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8241770936529847633), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91128, alignment: 0
Returning buffer pointer: 0x21fe6b91128 (aligned: true)
Created staging buffer at: 0x21fe6b91128
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbea000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9888256613775574355), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90fe8, alignment: 0
Returning buffer pointer: 0x21fe6b90fe8 (aligned: true)
Created staging buffer at: 0x21fe6b90fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6957000395566613845), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ca8, alignment: 0
Returning buffer pointer: 0x21fe6b90ca8 (aligned: true)
Created staging buffer at: 0x21fe6b90ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbde000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5343425300363478359), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [3.2e1,-6.4e1,0.0e0] to [6.4e1,-5.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b916a8, alignment: 0
Returning buffer pointer: 0x21fe6b916a8 (aligned: true)
Submitting readback 77 at frame 81 (will be ready at frame 84)
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 17.7ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 14)
DeferredReadbackManager: advanced to frame 82
Processing readbacks: 2 pending, completed_frame: 82, frames_in_flight: 3
Checking readback 76: submitted frame 81, current frame 82, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 82
Received generation result for region RegionId(0, -1, 0)
Processing single chunk workspace for chunk ChunkId(1, -1, 0)
Chunk ChunkId(1, -1, 0) has 0 non-empty voxels out of 262144
Extracted 1 chunks from region RegionId(0, -1, 0)
  Chunk ChunkId(1, -1, 0): palette size 1, 32768 bytes compressed
Creating generation params for region RegionId(0, -1, 0)
Region RegionId(0, -1, 0) world bounds: min=[0,-256,0] max=[256,0,256]
Creating plane SDF with normal [0, 0, 1] and distance 0
Starting async generation for region RegionId(0, -2, 0) (contains chunks 0-3, -8--5, 0-3)
Creating generation params for region RegionId(0, -2, 0)
Region RegionId(0, -2, 0) world bounds: min=[0,-512,0] max=[256,-256,256]
Creating plane SDF with normal [0, 0, 1] and distance 0
Generating chunk ChunkId(0, -8, 0) at Z=0
Generating chunk ChunkId(1, -8, 0) at Z=0
Generating chunk ChunkId(2, -8, 0) at Z=0
Generating chunk ChunkId(3, -8, 0) at Z=0
Generating chunk ChunkId(0, -7, 0) at Z=0
Generating chunk ChunkId(1, -7, 0) at Z=0
Generating chunk ChunkId(2, -7, 0) at Z=0
Generating chunk ChunkId(3, -7, 0) at Z=0
Generating chunk ChunkId(0, -6, 0) at Z=0
Generating chunk ChunkId(1, -6, 0) at Z=0
Generating chunk ChunkId(2, -6, 0) at Z=0
Generating chunk ChunkId(3, -6, 0) at Z=0
Generating chunk ChunkId(0, -5, 0) at Z=0
Generating chunk ChunkId(1, -5, 0) at Z=0
Generating chunk ChunkId(2, -5, 0) at Z=0
Generating chunk ChunkId(3, -5, 0) at Z=0
Generating 16 chunks in region RegionId(0, -2, 0), closest chunk distance: 286.1
Begin frame called - current_frame: 0, image_acquired: Async task started for chunk ChunkId(0, -5, 0)
false
Async task started for chunk ChunkId(1, -7, 0)
Async task started for chunk ChunkId(2, -5, 0)
Async task started for chunk ChunkId(2, -8, 0)
Async task started for chunk ChunkId(3, -5, 0)
Async task started for chunk ChunkId(0, -7, 0)
Async task started for chunk ChunkId(2, -6, 0)
Async task started for chunk ChunkId(3, -6, 0)
Async task started for chunk ChunkId(2, -7, 0)
Async task started for chunk ChunkId(1, -8, 0)
Async task started for chunk ChunkId(0, -8, 0)
Async task started for chunk ChunkId(3, -7, 0)
Async task started for chunk ChunkId(0, -6, 0)
Async task started for chunk ChunkId(3, -8, 0)
Async task started for chunk ChunkId(1, -6, 0)
Calling queue_generation_blocking for chunk bounds: [0.0,-384.0,0.0] to [64.0,-320.0,64.0]
queue_generation_blocking called for bounds [0.0,-384.0,0.0] to [64.0,-320.0,64.0]
Calling queue_generation_blocking for chunk bounds: [64.0,-448.0,0.0] to [128.0,-384.0,64.0]
queue_generation_blocking called for bounds [64.0,-448.0,0.0] to [128.0,-384.0,64.0]
Async task started for chunk ChunkId(1, -5, 0)
Request 32 added to queue at position 30. Queue length: 30
Calling queue_generation_blocking for chunk bounds: [128.0,-320.0,0.0] to [192.0,-256.0,64.0]
queue_generation_blocking called for bounds [128.0,-320.0,0.0] to [192.0,-256.0,64.0]
Request 33 added to queue at position 31. Queue length: 31
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(Calling queue_generation_blocking for chunk bounds: [192.0,-320.0,0.0] to [256.0,-256.0,64.0]
15909243860128104466), current frame: 0
queue_generation_blocking called for bounds [192.0,-320.0,0.0] to [256.0,-256.0,64.0]
Request 34 added to queue at position 30. Queue length: 32
Acquire result: Calling queue_generation_blocking for chunk bounds: [0.0,-448.0,0.0] to [64.0,-384.0,64.0]
vk.Result.success, image index: 1
queue_generation_blocking called for bounds [0.0,-448.0,0.0] to [64.0,-384.0,64.0]
Command buffer begun in frame_begin
Calling queue_generation_blocking for chunk bounds: [128.0,-512.0,0.0] to [192.0,-448.0,64.0]
queue_generation_blocking called for bounds [128.0,-512.0,0.0] to [192.0,-448.0,64.0]
Request 35 added to queue at position 33. Queue length: 33
Calling queue_generation_blocking for chunk bounds: [128.0,-448.0,0.0] to [192.0,-384.0,64.0]
queue_generation_blocking called for bounds [128.0,-448.0,0.0] to [192.0,-384.0,64.0]
Calling queue_generation_blocking for chunk bounds: [64.0,-512.0,0.0] to [128.0,-448.0,64.0]
queue_generation_blocking called for bounds [64.0,-512.0,0.0] to [128.0,-448.0,64.0]
Calling queue_generation_blocking for chunk bounds: [192.0,-448.0,0.0] to [256.0,-384.0,64.0]
queue_generation_blocking called for bounds [192.0,-448.0,0.0] to [256.0,-384.0,64.0]
Calling queue_generation_blocking for chunk bounds: [0.0,-320.0,0.0] to [64.0,-256.0,64.0]
queue_generation_blocking called for bounds [0.0,-320.0,0.0] to [64.0,-256.0,64.0]
Request 36 added to queue at position 34. Queue length: 34
Calling queue_generation_blocking for chunk bounds: [128.0,-384.0,0.0] to [192.0,-320.0,64.0]
queue_generation_blocking called for bounds [128.0,-384.0,0.0] to [192.0,-320.0,64.0]
Calling queue_generation_blocking for chunk bounds: [64.0,-384.0,0.0] to [128.0,-320.0,64.0]
queue_generation_blocking called for bounds [64.0,-384.0,0.0] to [128.0,-320.0,64.0]
Calling queue_generation_blocking for chunk bounds: [0.0,-512.0,0.0] to [64.0,-448.0,64.0]
queue_generation_blocking called for bounds [0.0,-512.0,0.0] to [64.0,-448.0,64.0]
Calling queue_generation_blocking for chunk bounds: [192.0,-512.0,0.0] to [256.0,-448.0,64.0]
queue_generation_blocking called for bounds [192.0,-512.0,0.0] to [256.0,-448.0,64.0]
Calling queue_generation_blocking for chunk bounds: [192.0,-384.0,0.0] to [256.0,-320.0,64.0]
queue_generation_blocking called for bounds [192.0,-384.0,0.0] to [256.0,-320.0,64.0]
Calling queue_generation_blocking for chunk bounds: [64.0,-320.0,0.0] to [128.0,-256.0,64.0]
queue_generation_blocking called for bounds [64.0,-320.0,0.0] to [128.0,-256.0,64.0]
Processing readbacks: 2 pending, completed_frame: 82, frames_in_flight: 3
Checking readback 76: submitted frame 81, current frame 82, 1 frames elapsed (need 3)
Request 37 added to queue at position 35. Queue length: 35
Processing 0 completed readbacks
Request 38 added to queue at position 35. Queue length: 36
Processing pending minichunk batches: 63 batches waiting, 1 active chunks
Request 39 added to queue at position 36. Queue length: 37
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Request 40 added to queue at position 37. Queue length: 38
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 0
Overall bounds: [0, -56, 0] to [40, -48, 8]
renderer_buffer_write called - buffer: anyopaqueRequest 41 added to queue at position 31. Queue length: 39
@21fe6b97768, size: Request 42 added to queue at position 39. Queue length: 40
48, offset: 0
Request 43 added to queue at position 40. Queue length: 41
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(Request 44 added to queue at position 41. Queue length: 42
2336154875472)
About to cast buffer Request 45 added to queue at position 43. Queue length: 43
anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Request 46 added to queue at position 42. Queue length: 44
Created GpuBuffer at address: 0x21fe6b918a8, alignment: 0
Request 47 added to queue at position 32. Queue length: 45
Returning buffer pointer: 0x21fe6b918a8 (aligned: true)
Created staging buffer at: 0x21fe6b918a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11217957597896246620), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90e68, alignment: 0
Returning buffer pointer: 0x21fe6b90e68 (aligned: true)
Created staging buffer at: 0x21fe6b90e68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2256359488405636446), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92328, alignment: 0
Returning buffer pointer: 0x21fe6b92328 (aligned: true)
Created staging buffer at: 0x21fe6b92328
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6654540139928225120), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ca8, alignment: 0
Returning buffer pointer: 0x21fe6b91ca8 (aligned: true)
Created staging buffer at: 0x21fe6b91ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1d000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11935487891066586466), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-5.6e1,0.0e0] to [4.0e1,-4.8e1,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91fa8, alignment: 0
Returning buffer pointer: 0x21fe6b91fa8 (aligned: true)
Submitting readback 78 at frame 82 (will be ready at frame 85)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 43.3ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 14)
DeferredReadbackManager: advanced to frame 83
Processing readbacks: 3 pending, completed_frame: 83, frames_in_flight: 3
Checking readback 76: submitted frame 81, current frame 83, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 83
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 83, frames_in_flight: 3
Checking readback 76: submitted frame 81, current frame 83, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 63 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 38.5ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 4)
DeferredReadbackManager: advanced to frame 84
Processing readbacks: 3 pending, completed_frame: 84, frames_in_flight: 3
Checking readback 76: submitted frame 81, current frame 84, 3 frames elapsed (need 3)
Readback 76 ready (submitted frame 81, current frame 84)
Checking readback 77: submitted frame 81, current frame 84, 3 frames elapsed (need 3)
Readback 77 ready (submitted frame 81, current frame 84)
Checking readback 78: submitted frame 82, current frame 84, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (4 minichunks, 8192 bytes)
Minichunk 1/512 completed
Minichunk 2/512 completed
Minichunk 3/512 completed
Minichunk 4/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (4 minichunks, 8192 bytes)
Minichunk 5/512 completed
Minichunk 6/512 completed
Minichunk 7/512 completed
Minichunk 8/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 84
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 84, frames_in_flight: 3
Checking readback 78: submitted frame 82, current frame 84, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 63 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 5 minichunks in workspace 1
Overall bounds: [0, -40, 0] to [40, -32, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b916a8, alignment: 0
Returning buffer pointer: 0x21fe6b916a8 (aligned: true)
Created staging buffer at: 0x21fe6b916a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(998877726532175207), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ae8, alignment: 0
Returning buffer pointer: 0x21fe6b90ae8 (aligned: true)
Created staging buffer at: 0x21fe6b90ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdf000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12604040438777644393), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b917e8, alignment: 0
Returning buffer pointer: 0x21fe6b917e8 (aligned: true)
Created staging buffer at: 0x21fe6b917e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5188672337288889707), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b919a8, alignment: 0
Returning buffer pointer: 0x21fe6b919a8 (aligned: true)
Created staging buffer at: 0x21fe6b919a8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbca000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3998914994128291181), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.0e1,0.0e0] to [4.0e1,-3.2e1,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90ba8, alignment: 0
Returning buffer pointer: 0x21fe6b90ba8 (aligned: true)
Submitting readback 79 at frame 84 (will be ready at frame 87)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 2
Overall bounds: [40, -40, 0] to [64, -32, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b921e8, alignment: 0
Returning buffer pointer: 0x21fe6b921e8 (aligned: true)
Created staging buffer at: 0x21fe6b921e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13796406923030955378), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91f68, alignment: 0
Returning buffer pointer: 0x21fe6b91f68 (aligned: true)
Created staging buffer at: 0x21fe6b91f68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4233200031286429044), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ce8, alignment: 0
Returning buffer pointer: 0x21fe6b91ce8 (aligned: true)
Created staging buffer at: 0x21fe6b91ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2721839935047861622), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91e68, alignment: 0
Returning buffer pointer: 0x21fe6b91e68 (aligned: true)
Created staging buffer at: 0x21fe6b91e68
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1f000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9715236364517115256), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.0e1,-4.0e1,0.0e0] to [6.4e1,-3.2e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91fe8, alignment: 0
Returning buffer pointer: 0x21fe6b91fe8 (aligned: true)
Submitting readback 80 at frame 84 (will be ready at frame 87)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 42.3ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 14)
DeferredReadbackManager: advanced to frame 85
Processing readbacks: 3 pending, completed_frame: 85, frames_in_flight: 3
Checking readback 78: submitted frame 82, current frame 85, 3 frames elapsed (need 3)
Readback 78 ready (submitted frame 82, current frame 85)
Checking readback 79: submitted frame 84, current frame 85, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 9/512 completed
Minichunk 10/512 completed
Minichunk 11/512 completed
Minichunk 12/512 completed
Minichunk 13/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 85
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 85, frames_in_flight: 3
Checking readback 79: submitted frame 84, current frame 85, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 62 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 0
Overall bounds: [0, -8, 0] to [48, 0, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b906a8, alignment: 0
Returning buffer pointer: 0x21fe6b906a8 (aligned: true)
Created staging buffer at: 0x21fe6b906a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc20000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3227692249638765949), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fd68, alignment: 0
Returning buffer pointer: 0x21fe6b8fd68 (aligned: true)
Created staging buffer at: 0x21fe6b8fd68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14583591277820904831), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b906e8, alignment: 0
Returning buffer pointer: 0x21fe6b906e8 (aligned: true)
Created staging buffer at: 0x21fe6b906e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecce000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10925157651419497857), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8ffe8, alignment: 0
Returning buffer pointer: 0x21fe6b8ffe8 (aligned: true)
Created staging buffer at: 0x21fe6b8ffe8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd7000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1807200192366118275), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.0e0,0.0e0] to [4.8e1,0.0e0,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90068, alignment: 0
Returning buffer pointer: 0x21fe6b90068 (aligned: true)
Submitting readback 81 at frame 85 (will be ready at frame 88)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 2 remaining minichunks from batch
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 41.5ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 10)
DeferredReadbackManager: advanced to frame 86
Processing readbacks: 3 pending, completed_frame: 86, frames_in_flight: 3
Checking readback 79: submitted frame 84, current frame 86, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 86
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 86, frames_in_flight: 3
Checking readback 79: submitted frame 84, current frame 86, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 62 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 36.3ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 87
Processing readbacks: 3 pending, completed_frame: 87, frames_in_flight: 3
Checking readback 79: submitted frame 84, current frame 87, 3 frames elapsed (need 3)
Readback 79 ready (submitted frame 84, current frame 87)
Checking readback 80: submitted frame 84, current frame 87, 3 frames elapsed (need 3)
Readback 80 ready (submitted frame 84, current frame 87)
Checking readback 81: submitted frame 85, current frame 87, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (5 minichunks, 10240 bytes)
Minichunk 14/512 completed
Minichunk 15/512 completed
Minichunk 16/512 completed
Minichunk 17/512 completed
Minichunk 18/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (3 minichunks, 6144 bytes)
Minichunk 19/512 completed
Minichunk 20/512 completed
Minichunk 21/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 87
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 87, frames_in_flight: 3
Checking readback 81: submitted frame 85, current frame 87, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 62 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 1
Overall bounds: [0, -8, 8] to [48, 0, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91da8, alignment: 0
Returning buffer pointer: 0x21fe6b91da8 (aligned: true)
Created staging buffer at: 0x21fe6b91da8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15608565912838342024), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92528, alignment: 0
Returning buffer pointer: 0x21fe6b92528 (aligned: true)
Created staging buffer at: 0x21fe6b92528
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16277845237735359882), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ea8, alignment: 0
Returning buffer pointer: 0x21fe6b91ea8 (aligned: true)
Created staging buffer at: 0x21fe6b91ea8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(338262553262032268), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92128, alignment: 0
Returning buffer pointer: 0x21fe6b92128 (aligned: true)
Created staging buffer at: 0x21fe6b92128
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccf000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16967876745095021966), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.0e0,8.0e0] to [4.8e1,0.0e0,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91b68, alignment: 0
Returning buffer pointer: 0x21fe6b91b68 (aligned: true)
Submitting readback 82 at frame 87 (will be ready at frame 90)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [48, -8, 8] to [64, 0, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91fa8, alignment: 0
Returning buffer pointer: 0x21fe6b91fa8 (aligned: true)
Created staging buffer at: 0x21fe6b91fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc18000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17600902972601009555), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91fe8, alignment: 0
Returning buffer pointer: 0x21fe6b91fe8 (aligned: true)
Created staging buffer at: 0x21fe6b91fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc09000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17851272765361882517), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92028, alignment: 0
Returning buffer pointer: 0x21fe6b92028 (aligned: true)
Created staging buffer at: 0x21fe6b92028
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17940674055816349079), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91be8, alignment: 0
Returning buffer pointer: 0x21fe6b91be8 (aligned: true)
Created staging buffer at: 0x21fe6b91be8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0b000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13943234606292534681), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.8e1,-8.0e0,8.0e0] to [6.4e1,0.0e0,1.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92228, alignment: 0
Returning buffer pointer: 0x21fe6b92228 (aligned: true)
Submitting readback 83 at frame 87 (will be ready at frame 90)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 39.7ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 14)
DeferredReadbackManager: advanced to frame 88
Processing readbacks: 3 pending, completed_frame: 88, frames_in_flight: 3
Checking readback 81: submitted frame 85, current frame 88, 3 frames elapsed (need 3)
Readback 81 ready (submitted frame 85, current frame 88)
Checking readback 82: submitted frame 87, current frame 88, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 22/512 completed
Minichunk 23/512 completed
Minichunk 24/512 completed
Minichunk 25/512 completed
Minichunk 26/512 completed
Minichunk 27/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 88
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 88, frames_in_flight: 3
Checking readback 82: submitted frame 87, current frame 88, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 61 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 0
Overall bounds: [0, -8, 24] to [56, 0, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fb68, alignment: 0
Returning buffer pointer: 0x21fe6b8fb68 (aligned: true)
Created staging buffer at: 0x21fe6b8fb68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16156933043540460958), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b905e8, alignment: 0
Returning buffer pointer: 0x21fe6b905e8 (aligned: true)
Created staging buffer at: 0x21fe6b905e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc21000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9695804695519430048), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90628, alignment: 0
Returning buffer pointer: 0x21fe6b90628 (aligned: true)
Created staging buffer at: 0x21fe6b90628
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc22000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17520578150633833890), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90068, alignment: 0
Returning buffer pointer: 0x21fe6b90068 (aligned: true)
Created staging buffer at: 0x21fe6b90068
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd9000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17283318934522561956), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.0e0,2.4e1] to [5.6e1,0.0e0,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fda8, alignment: 0
Returning buffer pointer: 0x21fe6b8fda8 (aligned: true)
Submitting readback 84 at frame 88 (will be ready at frame 91)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 39.1ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 12)
DeferredReadbackManager: advanced to frame 89
Processing readbacks: 3 pending, completed_frame: 89, frames_in_flight: 3
Checking readback 82: submitted frame 87, current frame 89, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 89
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 89, frames_in_flight: 3
Checking readback 82: submitted frame 87, current frame 89, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 61 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.7ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 90
Processing readbacks: 3 pending, completed_frame: 90, frames_in_flight: 3
Checking readback 82: submitted frame 87, current frame 90, 3 frames elapsed (need 3)
Readback 82 ready (submitted frame 87, current frame 90)
Checking readback 83: submitted frame 87, current frame 90, 3 frames elapsed (need 3)
Readback 83 ready (submitted frame 87, current frame 90)
Checking readback 84: submitted frame 88, current frame 90, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 28/512 completed
Minichunk 29/512 completed
Minichunk 30/512 completed
Minichunk 31/512 completed
Minichunk 32/512 completed
Minichunk 33/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 34/512 completed
Minichunk 35/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 90
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 90, frames_in_flight: 3
Checking readback 84: submitted frame 88, current frame 90, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 61 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [0, -16, 56] to [56, -8, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91f28, alignment: 0
Returning buffer pointer: 0x21fe6b91f28 (aligned: true)
Created staging buffer at: 0x21fe6b91f28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10940019750092146089), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92168, alignment: 0
Returning buffer pointer: 0x21fe6b92168 (aligned: true)
Created staging buffer at: 0x21fe6b92168
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc05000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1935281202374116779), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920e8, alignment: 0
Returning buffer pointer: 0x21fe6b920e8 (aligned: true)
Created staging buffer at: 0x21fe6b920e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13952659619965830573), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92228, alignment: 0
Returning buffer pointer: 0x21fe6b92228 (aligned: true)
Created staging buffer at: 0x21fe6b92228
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab0000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10986316886202910127), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,5.6e1] to [5.6e1,-8.0e0,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92268, alignment: 0
Returning buffer pointer: 0x21fe6b92268 (aligned: true)
Submitting readback 85 at frame 90 (will be ready at frame 93)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [56, -16, 56] to [64, -8, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b923a8, alignment: 0
Returning buffer pointer: 0x21fe6b923a8 (aligned: true)
Created staging buffer at: 0x21fe6b923a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc19000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(607033772625364404), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b923e8, alignment: 0
Returning buffer pointer: 0x21fe6b923e8 (aligned: true)
Created staging buffer at: 0x21fe6b923e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc23000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15206171045351392694), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92468, alignment: 0
Returning buffer pointer: 0x21fe6b92468 (aligned: true)
Created staging buffer at: 0x21fe6b92468
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc15000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12680221201419732408), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91b68, alignment: 0
Returning buffer pointer: 0x21fe6b91b68 (aligned: true)
Created staging buffer at: 0x21fe6b91b68
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc16000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(878395441383736762), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-1.6e1,5.6e1] to [6.4e1,-8.0e0,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92768, alignment: 0
Returning buffer pointer: 0x21fe6b92768 (aligned: true)
Submitting readback 86 at frame 90 (will be ready at frame 93)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.6ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 15)
DeferredReadbackManager: advanced to frame 91
Processing readbacks: 3 pending, completed_frame: 91, frames_in_flight: 3
Checking readback 84: submitted frame 88, current frame 91, 3 frames elapsed (need 3)
Readback 84 ready (submitted frame 88, current frame 91)
Checking readback 85: submitted frame 90, current frame 91, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 36/512 completed
Minichunk 37/512 completed
Minichunk 38/512 completed
Minichunk 39/512 completed
Minichunk 40/512 completed
Minichunk 41/512 completed
Minichunk 42/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 91
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 91, frames_in_flight: 3
Checking readback 85: submitted frame 90, current frame 91, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 60 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -8, 56] to [64, 0, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90168, alignment: 0
Returning buffer pointer: 0x21fe6b90168 (aligned: true)
Created staging buffer at: 0x21fe6b90168
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11869567770934904255), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b901e8, alignment: 0
Returning buffer pointer: 0x21fe6b901e8 (aligned: true)
Created staging buffer at: 0x21fe6b901e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13637808967794034113), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fda8, alignment: 0
Returning buffer pointer: 0x21fe6b8fda8 (aligned: true)
Created staging buffer at: 0x21fe6b8fda8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc06000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4491682020837033411), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fde8, alignment: 0
Returning buffer pointer: 0x21fe6b8fde8 (aligned: true)
Created staging buffer at: 0x21fe6b8fde8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc07000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12726793215437440453), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.0e0,5.6e1] to [6.4e1,0.0e0,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b900a8, alignment: 0
Returning buffer pointer: 0x21fe6b900a8 (aligned: true)
Submitting readback 87 at frame 91 (will be ready at frame 94)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 31.7ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 92
Processing readbacks: 3 pending, completed_frame: 92, frames_in_flight: 3
Checking readback 85: submitted frame 90, current frame 92, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 92
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 92, frames_in_flight: 3
Checking readback 85: submitted frame 90, current frame 92, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 59 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 24.9ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 93
Processing readbacks: 3 pending, completed_frame: 93, frames_in_flight: 3
Checking readback 85: submitted frame 90, current frame 93, 3 frames elapsed (need 3)
Readback 85 ready (submitted frame 90, current frame 93)
Checking readback 86: submitted frame 90, current frame 93, 3 frames elapsed (need 3)
Readback 86 ready (submitted frame 90, current frame 93)
Checking readback 87: submitted frame 91, current frame 93, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 43/512 completed
Minichunk 44/512 completed
Minichunk 45/512 completed
Minichunk 46/512 completed
Minichunk 47/512 completed
Minichunk 48/512 completed
Minichunk 49/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 50/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 93
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 93, frames_in_flight: 3
Checking readback 87: submitted frame 91, current frame 93, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 59 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 3 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 3 minichunks in workspace 1
Overall bounds: [40, -56, 0] to [64, -48, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92828, alignment: 0
Returning buffer pointer: 0x21fe6b92828 (aligned: true)
Created staging buffer at: 0x21fe6b92828
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc08000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3523718163231409610), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b924e8, alignment: 0
Returning buffer pointer: 0x21fe6b924e8 (aligned: true)
Created staging buffer at: 0x21fe6b924e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecda000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3431607676126102988), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c28, alignment: 0
Returning buffer pointer: 0x21fe6b91c28 (aligned: true)
Created staging buffer at: 0x21fe6b91c28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9373757739743839694), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b927e8, alignment: 0
Returning buffer pointer: 0x21fe6b927e8 (aligned: true)
Created staging buffer at: 0x21fe6b927e8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf3000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2696557764678780368), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.0e1,-5.6e1,0.0e0] to [6.4e1,-4.8e1,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92268, alignment: 0
Returning buffer pointer: 0x21fe6b92268 (aligned: true)
Submitting readback 88 at frame 93 (will be ready at frame 96)
Successfully queued 3 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 2 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [48, -8, 0] to [64, 0, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92968, alignment: 0
Returning buffer pointer: 0x21fe6b92968 (aligned: true)
Created staging buffer at: 0x21fe6b92968
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6729701655291364821), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b922e8, alignment: 0
Returning buffer pointer: 0x21fe6b922e8 (aligned: true)
Created staging buffer at: 0x21fe6b922e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbda000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11363661580274238935), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92568, alignment: 0
Returning buffer pointer: 0x21fe6b92568 (aligned: true)
Created staging buffer at: 0x21fe6b92568
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc17000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1366860079092991449), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92068, alignment: 0
Returning buffer pointer: 0x21fe6b92068 (aligned: true)
Created staging buffer at: 0x21fe6b92068
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc13000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5127051307621811675), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.8e1,-8.0e0,0.0e0] to [6.4e1,0.0e0,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b925a8, alignment: 0
Returning buffer pointer: 0x21fe6b925a8 (aligned: true)
Submitting readback 89 at frame 93 (will be ready at frame 96)
Successfully queued 2 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.9ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 15)
DeferredReadbackManager: advanced to frame 94
Processing readbacks: 3 pending, completed_frame: 94, frames_in_flight: 3
Checking readback 87: submitted frame 91, current frame 94, 3 frames elapsed (need 3)
Readback 87 ready (submitted frame 91, current frame 94)
Checking readback 88: submitted frame 93, current frame 94, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 51/512 completed
Minichunk 52/512 completed
Minichunk 53/512 completed
Minichunk 54/512 completed
Minichunk 55/512 completed
Minichunk 56/512 completed
Minichunk 57/512 completed
Minichunk 58/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 94

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: 0.0°, Pitch: 0.0°, Roll: -45.6°]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 94, frames_in_flight: 3
Checking readback 88: submitted frame 93, current frame 94, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 57 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 0
Overall bounds: [0, -24, 56] to [56, -16, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fe28, alignment: 0
Returning buffer pointer: 0x21fe6b8fe28 (aligned: true)
Created staging buffer at: 0x21fe6b8fe28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc25000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8051918263761765856), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fba8, alignment: 0
Returning buffer pointer: 0x21fe6b8fba8 (aligned: true)
Created staging buffer at: 0x21fe6b8fba8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc26000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(33736315275052514), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fe68, alignment: 0
Returning buffer pointer: 0x21fe6b8fe68 (aligned: true)
Created staging buffer at: 0x21fe6b8fe68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7389963885328991716), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90028, alignment: 0
Returning buffer pointer: 0x21fe6b90028 (aligned: true)
Created staging buffer at: 0x21fe6b90028
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0d000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8437773177832080870), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-2.4e1,5.6e1] to [5.6e1,-1.6e1,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90728, alignment: 0
Returning buffer pointer: 0x21fe6b90728 (aligned: true)
Submitting readback 90 at frame 94 (will be ready at frame 97)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.2ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 12)
DeferredReadbackManager: advanced to frame 95
Processing readbacks: 3 pending, completed_frame: 95, frames_in_flight: 3
Checking readback 88: submitted frame 93, current frame 95, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 95
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 95, frames_in_flight: 3
Checking readback 88: submitted frame 93, current frame 95, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 57 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 24.9ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 96
Processing readbacks: 3 pending, completed_frame: 96, frames_in_flight: 3
Checking readback 88: submitted frame 93, current frame 96, 3 frames elapsed (need 3)
Readback 88 ready (submitted frame 93, current frame 96)
Checking readback 89: submitted frame 93, current frame 96, 3 frames elapsed (need 3)
Readback 89 ready (submitted frame 93, current frame 96)
Checking readback 90: submitted frame 94, current frame 96, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (3 minichunks, 6144 bytes)
Minichunk 59/512 completed
Minichunk 60/512 completed
Minichunk 61/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 62/512 completed
Minichunk 63/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 96
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 96, frames_in_flight: 3
Checking readback 90: submitted frame 94, current frame 96, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 57 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 1 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 1 minichunks in workspace 1
Overall bounds: [56, -8, 24] to [64, 0, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d68, alignment: 0
Returning buffer pointer: 0x21fe6b91d68 (aligned: true)
Created staging buffer at: 0x21fe6b91d68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9047805318666388971), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d28, alignment: 0
Returning buffer pointer: 0x21fe6b91d28 (aligned: true)
Created staging buffer at: 0x21fe6b91d28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8420478959438792173), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ee8, alignment: 0
Returning buffer pointer: 0x21fe6b91ee8 (aligned: true)
Created staging buffer at: 0x21fe6b91ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5135650588062647791), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b925a8, alignment: 0
Returning buffer pointer: 0x21fe6b925a8 (aligned: true)
Created staging buffer at: 0x21fe6b925a8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbec000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7164392477820978673), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-8.0e0,2.4e1] to [6.4e1,0.0e0,3.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b921a8, alignment: 0
Returning buffer pointer: 0x21fe6b921a8 (aligned: true)
Submitting readback 91 at frame 96 (will be ready at frame 99)
Successfully queued 1 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [0, -32, 56] to [56, -24, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92628, alignment: 0
Returning buffer pointer: 0x21fe6b92628 (aligned: true)
Created staging buffer at: 0x21fe6b92628
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9391533544230094326), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b926a8, alignment: 0
Returning buffer pointer: 0x21fe6b926a8 (aligned: true)
Created staging buffer at: 0x21fe6b926a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7543511783659537912), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92768, alignment: 0
Returning buffer pointer: 0x21fe6b92768 (aligned: true)
Created staging buffer at: 0x21fe6b92768
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5906877730598684154), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b927a8, alignment: 0
Returning buffer pointer: 0x21fe6b927a8 (aligned: true)
Created staging buffer at: 0x21fe6b927a8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab3000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11147205124160488956), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,5.6e1] to [5.6e1,-2.4e1,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92868, alignment: 0
Returning buffer pointer: 0x21fe6b92868 (aligned: true)
Submitting readback 92 at frame 96 (will be ready at frame 99)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.3ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 15)
DeferredReadbackManager: advanced to frame 97
Processing readbacks: 3 pending, completed_frame: 97, frames_in_flight: 3
Checking readback 90: submitted frame 94, current frame 97, 3 frames elapsed (need 3)
Readback 90 ready (submitted frame 94, current frame 97)
Checking readback 91: submitted frame 96, current frame 97, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 64/512 completed
Minichunk 65/512 completed
Minichunk 66/512 completed
Minichunk 67/512 completed
Minichunk 68/512 completed
Minichunk 69/512 completed
Minichunk 70/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 97
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 97, frames_in_flight: 3
Checking readback 91: submitted frame 96, current frame 97, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 56 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -40, 56] to [64, -32, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b900a8, alignment: 0
Returning buffer pointer: 0x21fe6b900a8 (aligned: true)
Created staging buffer at: 0x21fe6b900a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1875043358334780929), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b900e8, alignment: 0
Returning buffer pointer: 0x21fe6b900e8 (aligned: true)
Created staging buffer at: 0x21fe6b900e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5150970083572450819), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b901a8, alignment: 0
Returning buffer pointer: 0x21fe6b901a8 (aligned: true)
Created staging buffer at: 0x21fe6b901a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc12000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11759287854180599301), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90268, alignment: 0
Returning buffer pointer: 0x21fe6b90268 (aligned: true)
Created staging buffer at: 0x21fe6b90268
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd5000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1065277233733568007), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.0e1,5.6e1] to [6.4e1,-3.2e1,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90828, alignment: 0
Returning buffer pointer: 0x21fe6b90828 (aligned: true)
Submitting readback 93 at frame 97 (will be ready at frame 100)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.4ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 98
Processing readbacks: 3 pending, completed_frame: 98, frames_in_flight: 3
Checking readback 91: submitted frame 96, current frame 98, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 98
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 98, frames_in_flight: 3
Checking readback 91: submitted frame 96, current frame 98, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 55 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 23.2ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 99
Processing readbacks: 3 pending, completed_frame: 99, frames_in_flight: 3
Checking readback 91: submitted frame 96, current frame 99, 3 frames elapsed (need 3)
Readback 91 ready (submitted frame 96, current frame 99)
Checking readback 92: submitted frame 96, current frame 99, 3 frames elapsed (need 3)
Readback 92 ready (submitted frame 96, current frame 99)
Checking readback 93: submitted frame 97, current frame 99, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (1 minichunks, 2048 bytes)
Minichunk 71/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 72/512 completed
Minichunk 73/512 completed
Minichunk 74/512 completed
Minichunk 75/512 completed
Minichunk 76/512 completed
Minichunk 77/512 completed
Minichunk 78/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 99
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 99, frames_in_flight: 3
Checking readback 93: submitted frame 97, current frame 99, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 55 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 1
Overall bounds: [0, -48, 56] to [48, -40, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b928a8, alignment: 0
Returning buffer pointer: 0x21fe6b928a8 (aligned: true)
Created staging buffer at: 0x21fe6b928a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13168889248780125708), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b921a8, alignment: 0
Returning buffer pointer: 0x21fe6b921a8 (aligned: true)
Created staging buffer at: 0x21fe6b921a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc14000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12814879489985086990), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92268, alignment: 0
Returning buffer pointer: 0x21fe6b92268 (aligned: true)
Created staging buffer at: 0x21fe6b92268
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4079231020002444816), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91de8, alignment: 0
Returning buffer pointer: 0x21fe6b91de8 (aligned: true)
Created staging buffer at: 0x21fe6b91de8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbed000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13691564091276002834), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,5.6e1] to [4.8e1,-4.0e1,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b929e8, alignment: 0
Returning buffer pointer: 0x21fe6b929e8 (aligned: true)
Submitting readback 94 at frame 99 (will be ready at frame 102)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [48, -48, 56] to [64, -40, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92368, alignment: 0
Returning buffer pointer: 0x21fe6b92368 (aligned: true)
Created staging buffer at: 0x21fe6b92368
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbee000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14310627620620862999), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b924a8, alignment: 0
Returning buffer pointer: 0x21fe6b924a8 (aligned: true)
Created staging buffer at: 0x21fe6b924a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3104059863676749337), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c68, alignment: 0
Returning buffer pointer: 0x21fe6b91c68 (aligned: true)
Created staging buffer at: 0x21fe6b91c68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10153985484464850459), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b928e8, alignment: 0
Returning buffer pointer: 0x21fe6b928e8 (aligned: true)
Created staging buffer at: 0x21fe6b928e8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf7000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15149188855241901597), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.8e1,-4.8e1,5.6e1] to [6.4e1,-4.0e1,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92928, alignment: 0
Returning buffer pointer: 0x21fe6b92928 (aligned: true)
Submitting readback 95 at frame 99 (will be ready at frame 102)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.6ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 100
Processing readbacks: 3 pending, completed_frame: 100, frames_in_flight: 3
Checking readback 93: submitted frame 97, current frame 100, 3 frames elapsed (need 3)
Readback 93 ready (submitted frame 97, current frame 100)
Checking readback 94: submitted frame 99, current frame 100, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 79/512 completed
Minichunk 80/512 completed
Minichunk 81/512 completed
Minichunk 82/512 completed
Minichunk 83/512 completed
Minichunk 84/512 completed
Minichunk 85/512 completed
Minichunk 86/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 100
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 100, frames_in_flight: 3
Checking readback 94: submitted frame 99, current frame 100, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 54 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 0
Overall bounds: [0, -56, 56] to [56, -48, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ba8, alignment: 0
Returning buffer pointer: 0x21fe6b90ba8 (aligned: true)
Created staging buffer at: 0x21fe6b90ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15398972608305169954), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b914a8, alignment: 0
Returning buffer pointer: 0x21fe6b914a8 (aligned: true)
Created staging buffer at: 0x21fe6b914a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc24000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11060315118263862820), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91a28, alignment: 0
Returning buffer pointer: 0x21fe6b91a28 (aligned: true)
Created staging buffer at: 0x21fe6b91a28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc11000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16150084185611044390), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91628, alignment: 0
Returning buffer pointer: 0x21fe6b91628 (aligned: true)
Created staging buffer at: 0x21fe6b91628
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd7000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15819647956115523112), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-5.6e1,5.6e1] to [5.6e1,-4.8e1,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92868, alignment: 0
Returning buffer pointer: 0x21fe6b92868 (aligned: true)
Submitting readback 96 at frame 100 (will be ready at frame 103)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.0ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 101
Processing readbacks: 3 pending, completed_frame: 101, frames_in_flight: 3
Checking readback 94: submitted frame 99, current frame 101, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 101
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 101, frames_in_flight: 3
Checking readback 94: submitted frame 99, current frame 101, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 54 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.0ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 4)
DeferredReadbackManager: advanced to frame 102
Processing readbacks: 3 pending, completed_frame: 102, frames_in_flight: 3
Checking readback 94: submitted frame 99, current frame 102, 3 frames elapsed (need 3)
Readback 94 ready (submitted frame 99, current frame 102)
Checking readback 95: submitted frame 99, current frame 102, 3 frames elapsed (need 3)
Readback 95 ready (submitted frame 99, current frame 102)
Checking readback 96: submitted frame 100, current frame 102, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 87/512 completed
Minichunk 88/512 completed
Minichunk 89/512 completed
Minichunk 90/512 completed
Minichunk 91/512 completed
Minichunk 92/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 93/512 completed
Minichunk 94/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 102
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 102, frames_in_flight: 3
Checking readback 96: submitted frame 100, current frame 102, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 54 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 1 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 1 minichunks in workspace 1
Overall bounds: [56, -24, 56] to [64, -16, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920a8, alignment: 0
Returning buffer pointer: 0x21fe6b920a8 (aligned: true)
Created staging buffer at: 0x21fe6b920a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17001734006649128493), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92428, alignment: 0
Returning buffer pointer: 0x21fe6b92428 (aligned: true)
Created staging buffer at: 0x21fe6b92428
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1048134747944912431), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92728, alignment: 0
Returning buffer pointer: 0x21fe6b92728 (aligned: true)
Created staging buffer at: 0x21fe6b92728
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14707295132038727217), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92928, alignment: 0
Returning buffer pointer: 0x21fe6b92928 (aligned: true)
Created staging buffer at: 0x21fe6b92928
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf9000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16524020393636267571), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-2.4e1,5.6e1] to [6.4e1,-1.6e1,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b929a8, alignment: 0
Returning buffer pointer: 0x21fe6b929a8 (aligned: true)
Submitting readback 97 at frame 102 (will be ready at frame 105)
Successfully queued 1 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [0, -64, 56] to [40, -56, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b929e8, alignment: 0
Returning buffer pointer: 0x21fe6b929e8 (aligned: true)
Created staging buffer at: 0x21fe6b929e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18255830372220667448), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96b28, alignment: 0
Returning buffer pointer: 0x21fe6b96b28 (aligned: true)
Created staging buffer at: 0x21fe6b96b28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbeb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18358729267417712186), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90528, alignment: 0
Returning buffer pointer: 0x21fe6b90528 (aligned: true)
Created staging buffer at: 0x21fe6b90528
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18153193160791033404), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90128, alignment: 0
Returning buffer pointer: 0x21fe6b90128 (aligned: true)
Created staging buffer at: 0x21fe6b90128
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0f000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17813226364505949758), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,5.6e1] to [4.0e1,-5.6e1,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90428, alignment: 0
Returning buffer pointer: 0x21fe6b90428 (aligned: true)
Submitting readback 98 at frame 102 (will be ready at frame 105)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.7ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 16)
DeferredReadbackManager: advanced to frame 103
Processing readbacks: 3 pending, completed_frame: 103, frames_in_flight: 3
Checking readback 96: submitted frame 100, current frame 103, 3 frames elapsed (need 3)
Readback 96 ready (submitted frame 100, current frame 103)
Checking readback 97: submitted frame 102, current frame 103, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 95/512 completed
Minichunk 96/512 completed
Minichunk 97/512 completed
Minichunk 98/512 completed
Minichunk 99/512 completed
Minichunk 100/512 completed
Minichunk 101/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 103
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 103, frames_in_flight: 3
Checking readback 97: submitted frame 102, current frame 103, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 53 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 1 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 0
Overall bounds: [56, -32, 56] to [64, -24, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b912a8, alignment: 0
Returning buffer pointer: 0x21fe6b912a8 (aligned: true)
Created staging buffer at: 0x21fe6b912a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc10000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17342568317608527427), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b913e8, alignment: 0
Returning buffer pointer: 0x21fe6b913e8 (aligned: true)
Created staging buffer at: 0x21fe6b913e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14590290602168944197), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ea8, alignment: 0
Returning buffer pointer: 0x21fe6b90ea8 (aligned: true)
Created staging buffer at: 0x21fe6b90ea8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16550977120214451783), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ee8, alignment: 0
Returning buffer pointer: 0x21fe6b90ee8 (aligned: true)
Created staging buffer at: 0x21fe6b90ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbef000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9578703408626402889), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-3.2e1,5.6e1] to [6.4e1,-2.4e1,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90de8, alignment: 0
Returning buffer pointer: 0x21fe6b90de8 (aligned: true)
Submitting readback 99 at frame 103 (will be ready at frame 106)
Successfully queued 1 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.4ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 6)
DeferredReadbackManager: advanced to frame 104
Processing readbacks: 3 pending, completed_frame: 104, frames_in_flight: 3
Checking readback 97: submitted frame 102, current frame 104, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 104
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 104, frames_in_flight: 3
Checking readback 97: submitted frame 102, current frame 104, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 52 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 21.5ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 4)
DeferredReadbackManager: advanced to frame 105
Processing readbacks: 3 pending, completed_frame: 105, frames_in_flight: 3
Checking readback 97: submitted frame 102, current frame 105, 3 frames elapsed (need 3)
Readback 97 ready (submitted frame 102, current frame 105)
Checking readback 98: submitted frame 102, current frame 105, 3 frames elapsed (need 3)
Readback 98 ready (submitted frame 102, current frame 105)
Checking readback 99: submitted frame 103, current frame 105, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (1 minichunks, 2048 bytes)
Minichunk 102/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 103/512 completed
Minichunk 104/512 completed
Minichunk 105/512 completed
Minichunk 106/512 completed
Minichunk 107/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 105
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 105, frames_in_flight: 3
Checking readback 99: submitted frame 103, current frame 105, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 52 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 5 minichunks in workspace 1
Overall bounds: [0, -8, 48] to [40, 0, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90228, alignment: 0
Returning buffer pointer: 0x21fe6b90228 (aligned: true)
Created staging buffer at: 0x21fe6b90228
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15917369251057370702), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90428, alignment: 0
Returning buffer pointer: 0x21fe6b90428 (aligned: true)
Created staging buffer at: 0x21fe6b90428
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfa000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15839042241717864016), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90928, alignment: 0
Returning buffer pointer: 0x21fe6b90928 (aligned: true)
Created staging buffer at: 0x21fe6b90928
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc01000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10905175127096297042), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b907a8, alignment: 0
Returning buffer pointer: 0x21fe6b907a8 (aligned: true)
Created staging buffer at: 0x21fe6b907a8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc02000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2981506098621580884), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.0e0,4.8e1] to [4.0e1,0.0e0,5.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90468, alignment: 0
Returning buffer pointer: 0x21fe6b90468 (aligned: true)
Submitting readback 100 at frame 105 (will be ready at frame 108)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 2
Overall bounds: [40, -8, 48] to [64, 0, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90728, alignment: 0
Returning buffer pointer: 0x21fe6b90728 (aligned: true)
Created staging buffer at: 0x21fe6b90728
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14436733907745375833), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90aa8, alignment: 0
Returning buffer pointer: 0x21fe6b90aa8 (aligned: true)
Created staging buffer at: 0x21fe6b90aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11642498828589860443), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b904e8, alignment: 0
Returning buffer pointer: 0x21fe6b904e8 (aligned: true)
Created staging buffer at: 0x21fe6b904e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(363939448305485405), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b902e8, alignment: 0
Returning buffer pointer: 0x21fe6b902e8 (aligned: true)
Created staging buffer at: 0x21fe6b902e8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfd000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13521577394598577759), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.0e1,-8.0e0,4.8e1] to [6.4e1,0.0e0,5.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90568, alignment: 0
Returning buffer pointer: 0x21fe6b90568 (aligned: true)
Submitting readback 101 at frame 105 (will be ready at frame 108)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.6ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 16)
DeferredReadbackManager: advanced to frame 106
Processing readbacks: 3 pending, completed_frame: 106, frames_in_flight: 3
Checking readback 99: submitted frame 103, current frame 106, 3 frames elapsed (need 3)
Readback 99 ready (submitted frame 103, current frame 106)
Checking readback 100: submitted frame 105, current frame 106, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (1 minichunks, 2048 bytes)
Minichunk 108/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 106
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 106, frames_in_flight: 3
Checking readback 100: submitted frame 105, current frame 106, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 51 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 0
Overall bounds: [0, -16, 48] to [48, -8, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96c28, alignment: 0
Returning buffer pointer: 0x21fe6b96c28 (aligned: true)
Created staging buffer at: 0x21fe6b96c28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12975398292035733092), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96ca8, alignment: 0
Returning buffer pointer: 0x21fe6b96ca8 (aligned: true)
Created staging buffer at: 0x21fe6b96ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc8000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3992548821803468390), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90768, alignment: 0
Returning buffer pointer: 0x21fe6b90768 (aligned: true)
Created staging buffer at: 0x21fe6b90768
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12195444325710038632), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b907e8, alignment: 0
Returning buffer pointer: 0x21fe6b907e8 (aligned: true)
Created staging buffer at: 0x21fe6b907e8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe8000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4752878704596616810), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,4.8e1] to [4.8e1,-8.0e0,5.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90828, alignment: 0
Returning buffer pointer: 0x21fe6b90828 (aligned: true)
Submitting readback 102 at frame 106 (will be ready at frame 109)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 2 remaining minichunks from batch
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.7ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 9)
DeferredReadbackManager: advanced to frame 107
Processing readbacks: 3 pending, completed_frame: 107, frames_in_flight: 3
Checking readback 100: submitted frame 105, current frame 107, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 107
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 107, frames_in_flight: 3
Checking readback 100: submitted frame 105, current frame 107, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 51 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 21.9ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 108
Processing readbacks: 3 pending, completed_frame: 108, frames_in_flight: 3
Checking readback 100: submitted frame 105, current frame 108, 3 frames elapsed (need 3)
Readback 100 ready (submitted frame 105, current frame 108)
Checking readback 101: submitted frame 105, current frame 108, 3 frames elapsed (need 3)
Readback 101 ready (submitted frame 105, current frame 108)
Checking readback 102: submitted frame 106, current frame 108, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (5 minichunks, 10240 bytes)
Minichunk 109/512 completed
Minichunk 110/512 completed
Minichunk 111/512 completed
Minichunk 112/512 completed
Minichunk 113/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (3 minichunks, 6144 bytes)
Minichunk 114/512 completed
Minichunk 115/512 completed
Minichunk 116/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 108
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 108, frames_in_flight: 3
Checking readback 102: submitted frame 106, current frame 108, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 51 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 1 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 1 minichunks in workspace 1
Overall bounds: [56, -56, 56] to [64, -48, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90468, alignment: 0
Returning buffer pointer: 0x21fe6b90468 (aligned: true)
Created staging buffer at: 0x21fe6b90468
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc03000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2449382053196596847), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90868, alignment: 0
Returning buffer pointer: 0x21fe6b90868 (aligned: true)
Created staging buffer at: 0x21fe6b90868
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11034542565708793457), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90568, alignment: 0
Returning buffer pointer: 0x21fe6b90568 (aligned: true)
Created staging buffer at: 0x21fe6b90568
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbde000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6019289600399246963), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b908e8, alignment: 0
Returning buffer pointer: 0x21fe6b908e8 (aligned: true)
Created staging buffer at: 0x21fe6b908e8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbea000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6634134303628330613), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-5.6e1,5.6e1] to [6.4e1,-4.8e1,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b908a8, alignment: 0
Returning buffer pointer: 0x21fe6b908a8 (aligned: true)
Submitting readback 103 at frame 108 (will be ready at frame 111)
Successfully queued 1 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 2
Overall bounds: [0, -24, 48] to [48, -16, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90a28, alignment: 0
Returning buffer pointer: 0x21fe6b90a28 (aligned: true)
Created staging buffer at: 0x21fe6b90a28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10919409404629485178), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90a68, alignment: 0
Returning buffer pointer: 0x21fe6b90a68 (aligned: true)
Created staging buffer at: 0x21fe6b90a68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7286647175713392252), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fae8, alignment: 0
Returning buffer pointer: 0x21fe6b8fae8 (aligned: true)
Created staging buffer at: 0x21fe6b8fae8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc9000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4744275026109269630), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fb28, alignment: 0
Returning buffer pointer: 0x21fe6b8fb28 (aligned: true)
Created staging buffer at: 0x21fe6b8fb28
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfb000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7514611120523445888), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-2.4e1,4.8e1] to [4.8e1,-1.6e1,5.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fbe8, alignment: 0
Returning buffer pointer: 0x21fe6b8fbe8 (aligned: true)
Submitting readback 104 at frame 108 (will be ready at frame 111)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 2 remaining minichunks from batch
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.5ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 109
Processing readbacks: 3 pending, completed_frame: 109, frames_in_flight: 3
Checking readback 102: submitted frame 106, current frame 109, 3 frames elapsed (need 3)
Readback 102 ready (submitted frame 106, current frame 109)
Checking readback 103: submitted frame 108, current frame 109, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 117/512 completed
Minichunk 118/512 completed
Minichunk 119/512 completed
Minichunk 120/512 completed
Minichunk 121/512 completed
Minichunk 122/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 109
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 109, frames_in_flight: 3
Checking readback 103: submitted frame 108, current frame 109, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 50 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 3 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 0
Overall bounds: [40, -64, 56] to [64, -56, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91428, alignment: 0
Returning buffer pointer: 0x21fe6b91428 (aligned: true)
Created staging buffer at: 0x21fe6b91428
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfe000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8737508843656840837), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91528, alignment: 0
Returning buffer pointer: 0x21fe6b91528 (aligned: true)
Created staging buffer at: 0x21fe6b91528
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8316789515381376647), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ca8, alignment: 0
Returning buffer pointer: 0x21fe6b90ca8 (aligned: true)
Created staging buffer at: 0x21fe6b90ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9093535106777220745), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91128, alignment: 0
Returning buffer pointer: 0x21fe6b91128 (aligned: true)
Created staging buffer at: 0x21fe6b91128
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbff000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8972763650070677131), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.0e1,-6.4e1,5.6e1] to [6.4e1,-5.6e1,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b919a8, alignment: 0
Returning buffer pointer: 0x21fe6b919a8 (aligned: true)
Submitting readback 105 at frame 109 (will be ready at frame 112)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.5ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 9)
DeferredReadbackManager: advanced to frame 110
Processing readbacks: 3 pending, completed_frame: 110, frames_in_flight: 3
Checking readback 103: submitted frame 108, current frame 110, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 110
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 110, frames_in_flight: 3
Checking readback 103: submitted frame 108, current frame 110, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 49 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 21.8ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 111
Processing readbacks: 3 pending, completed_frame: 111, frames_in_flight: 3
Checking readback 103: submitted frame 108, current frame 111, 3 frames elapsed (need 3)
Readback 103 ready (submitted frame 108, current frame 111)
Checking readback 104: submitted frame 108, current frame 111, 3 frames elapsed (need 3)
Readback 104 ready (submitted frame 108, current frame 111)
Checking readback 105: submitted frame 109, current frame 111, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (1 minichunks, 2048 bytes)
Minichunk 123/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (6 minichunks, 12288 bytes)
Minichunk 124/512 completed
Minichunk 125/512 completed
Minichunk 126/512 completed
Minichunk 127/512 completed
Minichunk 128/512 completed
Minichunk 129/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 111
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 111, frames_in_flight: 3
Checking readback 105: submitted frame 109, current frame 111, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 49 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [0, -32, 48] to [56, -24, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b908a8, alignment: 0
Returning buffer pointer: 0x21fe6b908a8 (aligned: true)
Created staging buffer at: 0x21fe6b908a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc00000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7277203470342424208), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b909a8, alignment: 0
Returning buffer pointer: 0x21fe6b909a8 (aligned: true)
Created staging buffer at: 0x21fe6b909a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc04000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5599856700728280722), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fbe8, alignment: 0
Returning buffer pointer: 0x21fe6b8fbe8 (aligned: true)
Created staging buffer at: 0x21fe6b8fbe8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbca000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7955808852866238100), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fc28, alignment: 0
Returning buffer pointer: 0x21fe6b8fc28 (aligned: true)
Created staging buffer at: 0x21fe6b8fc28
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe1000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10611065662270867094), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,4.8e1] to [5.6e1,-2.4e1,5.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fc68, alignment: 0
Returning buffer pointer: 0x21fe6b8fc68 (aligned: true)
Submitting readback 106 at frame 111 (will be ready at frame 114)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [56, -32, 48] to [64, -24, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fca8, alignment: 0
Returning buffer pointer: 0x21fe6b8fca8 (aligned: true)
Created staging buffer at: 0x21fe6b8fca8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6002657288005879451), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90fa8, alignment: 0
Returning buffer pointer: 0x21fe6b90fa8 (aligned: true)
Created staging buffer at: 0x21fe6b90fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6905362931479742109), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90fe8, alignment: 0
Returning buffer pointer: 0x21fe6b90fe8 (aligned: true)
Created staging buffer at: 0x21fe6b90fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9431106067225380511), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91a68, alignment: 0
Returning buffer pointer: 0x21fe6b91a68 (aligned: true)
Created staging buffer at: 0x21fe6b91a68
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd1000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2668878658961147553), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-3.2e1,4.8e1] to [6.4e1,-2.4e1,5.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91168, alignment: 0
Returning buffer pointer: 0x21fe6b91168 (aligned: true)
Submitting readback 107 at frame 111 (will be ready at frame 114)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.7ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 112
Processing readbacks: 3 pending, completed_frame: 112, frames_in_flight: 3
Checking readback 105: submitted frame 109, current frame 112, 3 frames elapsed (need 3)
Readback 105 ready (submitted frame 109, current frame 112)
Checking readback 106: submitted frame 111, current frame 112, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 130/512 completed
Minichunk 131/512 completed
Minichunk 132/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 112
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 112, frames_in_flight: 3
Checking readback 106: submitted frame 111, current frame 112, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 48 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -40, 48] to [64, -32, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91da8, alignment: 0
Returning buffer pointer: 0x21fe6b91da8 (aligned: true)
Created staging buffer at: 0x21fe6b91da8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdf000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5589010018520270502), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92528, alignment: 0
Returning buffer pointer: 0x21fe6b92528 (aligned: true)
Created staging buffer at: 0x21fe6b92528
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12397891904174294696), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91e28, alignment: 0
Returning buffer pointer: 0x21fe6b91e28 (aligned: true)
Created staging buffer at: 0x21fe6b91e28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3649141653635073706), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b921e8, alignment: 0
Returning buffer pointer: 0x21fe6b921e8 (aligned: true)
Created staging buffer at: 0x21fe6b921e8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe0000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5187562930056464044), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.0e1,4.8e1] to [6.4e1,-3.2e1,5.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91ba8, alignment: 0
Returning buffer pointer: 0x21fe6b91ba8 (aligned: true)
Submitting readback 108 at frame 112 (will be ready at frame 115)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.7ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 8)
DeferredReadbackManager: advanced to frame 113
Processing readbacks: 3 pending, completed_frame: 113, frames_in_flight: 3
Checking readback 106: submitted frame 111, current frame 113, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 113
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 113, frames_in_flight: 3
Checking readback 106: submitted frame 111, current frame 113, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 47 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.0ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 114
Processing readbacks: 3 pending, completed_frame: 114, frames_in_flight: 3
Checking readback 106: submitted frame 111, current frame 114, 3 frames elapsed (need 3)
Readback 106 ready (submitted frame 111, current frame 114)
Checking readback 107: submitted frame 111, current frame 114, 3 frames elapsed (need 3)
Readback 107 ready (submitted frame 111, current frame 114)
Checking readback 108: submitted frame 112, current frame 114, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 133/512 completed
Minichunk 134/512 completed
Minichunk 135/512 completed
Minichunk 136/512 completed
Minichunk 137/512 completed
Minichunk 138/512 completed
Minichunk 139/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 140/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 114
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 114, frames_in_flight: 3
Checking readback 108: submitted frame 112, current frame 114, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 47 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 2 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 2 minichunks in workspace 1
Overall bounds: [48, -16, 48] to [64, -8, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91aa8, alignment: 0
Returning buffer pointer: 0x21fe6b91aa8 (aligned: true)
Created staging buffer at: 0x21fe6b91aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13832331266445280945), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91168, alignment: 0
Returning buffer pointer: 0x21fe6b91168 (aligned: true)
Created staging buffer at: 0x21fe6b91168
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc18000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(54203724226102963), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ae8, alignment: 0
Returning buffer pointer: 0x21fe6b90ae8 (aligned: true)
Created staging buffer at: 0x21fe6b90ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc09000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13360891466780509877), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91668, alignment: 0
Returning buffer pointer: 0x21fe6b91668 (aligned: true)
Created staging buffer at: 0x21fe6b91668
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0a000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13084643568348300983), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.8e1,-1.6e1,4.8e1] to [6.4e1,-8.0e0,5.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b916a8, alignment: 0
Returning buffer pointer: 0x21fe6b916a8 (aligned: true)
Submitting readback 109 at frame 114 (will be ready at frame 117)
Successfully queued 2 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [0, -48, 48] to [56, -40, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90e68, alignment: 0
Returning buffer pointer: 0x21fe6b90e68 (aligned: true)
Created staging buffer at: 0x21fe6b90e68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3327488323022227132), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b917e8, alignment: 0
Returning buffer pointer: 0x21fe6b917e8 (aligned: true)
Created staging buffer at: 0x21fe6b917e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10702469163399513790), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b918a8, alignment: 0
Returning buffer pointer: 0x21fe6b918a8 (aligned: true)
Created staging buffer at: 0x21fe6b918a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14348188037337319104), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b919a8, alignment: 0
Returning buffer pointer: 0x21fe6b919a8 (aligned: true)
Created staging buffer at: 0x21fe6b919a8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecce000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2497740773609440962), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,4.8e1] to [5.6e1,-4.0e1,5.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90de8, alignment: 0
Returning buffer pointer: 0x21fe6b90de8 (aligned: true)
Submitting readback 110 at frame 114 (will be ready at frame 117)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.8ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 115
Processing readbacks: 3 pending, completed_frame: 115, frames_in_flight: 3
Checking readback 108: submitted frame 112, current frame 115, 3 frames elapsed (need 3)
Readback 108 ready (submitted frame 112, current frame 115)
Checking readback 109: submitted frame 114, current frame 115, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 141/512 completed
Minichunk 142/512 completed
Minichunk 143/512 completed
Minichunk 144/512 completed
Minichunk 145/512 completed
Minichunk 146/512 completed
Minichunk 147/512 completed
Minichunk 148/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 115
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 115, frames_in_flight: 3
Checking readback 109: submitted frame 114, current frame 115, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 46 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 2 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 0
Overall bounds: [48, -24, 48] to [64, -16, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91f68, alignment: 0
Returning buffer pointer: 0x21fe6b91f68 (aligned: true)
Created staging buffer at: 0x21fe6b91f68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccf000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9376897944952768199), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91e68, alignment: 0
Returning buffer pointer: 0x21fe6b91e68 (aligned: true)
Created staging buffer at: 0x21fe6b91e68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15657600832902268617), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ba8, alignment: 0
Returning buffer pointer: 0x21fe6b91ba8 (aligned: true)
Created staging buffer at: 0x21fe6b91ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15117294221943375563), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b925e8, alignment: 0
Returning buffer pointer: 0x21fe6b925e8 (aligned: true)
Created staging buffer at: 0x21fe6b925e8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd9000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10007443674226493133), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.8e1,-2.4e1,4.8e1] to [6.4e1,-1.6e1,5.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b922a8, alignment: 0
Returning buffer pointer: 0x21fe6b922a8 (aligned: true)
Submitting readback 111 at frame 115 (will be ready at frame 118)
Successfully queued 2 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.8ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 8)
DeferredReadbackManager: advanced to frame 116
Processing readbacks: 3 pending, completed_frame: 116, frames_in_flight: 3
Checking readback 109: submitted frame 114, current frame 116, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 116
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 116, frames_in_flight: 3
Checking readback 109: submitted frame 114, current frame 116, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 45 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.0ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 117
Processing readbacks: 3 pending, completed_frame: 117, frames_in_flight: 3
Checking readback 109: submitted frame 114, current frame 117, 3 frames elapsed (need 3)
Readback 109 ready (submitted frame 114, current frame 117)
Checking readback 110: submitted frame 114, current frame 117, 3 frames elapsed (need 3)
Readback 110 ready (submitted frame 114, current frame 117)
Checking readback 111: submitted frame 115, current frame 117, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (2 minichunks, 4096 bytes)
Minichunk 149/512 completed
Minichunk 150/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 151/512 completed
Minichunk 152/512 completed
Minichunk 153/512 completed
Minichunk 154/512 completed
Minichunk 155/512 completed
Minichunk 156/512 completed
Minichunk 157/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 117
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 117, frames_in_flight: 3
Checking readback 111: submitted frame 115, current frame 117, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 45 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [0, -56, 48] to [56, -48, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90d68, alignment: 0
Returning buffer pointer: 0x21fe6b90d68 (aligned: true)
Created staging buffer at: 0x21fe6b90d68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16927186018774288082), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90de8, alignment: 0
Returning buffer pointer: 0x21fe6b90de8 (aligned: true)
Created staging buffer at: 0x21fe6b90de8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc15000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14353240293266949844), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92468, alignment: 0
Returning buffer pointer: 0x21fe6b92468 (aligned: true)
Created staging buffer at: 0x21fe6b92468
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc16000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16466943645526787798), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91fe8, alignment: 0
Returning buffer pointer: 0x21fe6b91fe8 (aligned: true)
Created staging buffer at: 0x21fe6b91fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0c000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18315040172888032984), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-5.6e1,4.8e1] to [5.6e1,-4.8e1,5.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91ea8, alignment: 0
Returning buffer pointer: 0x21fe6b91ea8 (aligned: true)
Submitting readback 112 at frame 117 (will be ready at frame 120)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [56, -56, 48] to [64, -48, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b929a8, alignment: 0
Returning buffer pointer: 0x21fe6b929a8 (aligned: true)
Created staging buffer at: 0x21fe6b929a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17776976565649802973), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92228, alignment: 0
Returning buffer pointer: 0x21fe6b92228 (aligned: true)
Created staging buffer at: 0x21fe6b92228
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc05000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17431956413923460831), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b923a8, alignment: 0
Returning buffer pointer: 0x21fe6b923a8 (aligned: true)
Created staging buffer at: 0x21fe6b923a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc21000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(630510544901637857), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91b68, alignment: 0
Returning buffer pointer: 0x21fe6b91b68 (aligned: true)
Created staging buffer at: 0x21fe6b91b68
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc22000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17174974158233143011), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-5.6e1,4.8e1] to [6.4e1,-4.8e1,5.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92868, alignment: 0
Returning buffer pointer: 0x21fe6b92868 (aligned: true)
Submitting readback 113 at frame 117 (will be ready at frame 120)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.2ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 118
Processing readbacks: 3 pending, completed_frame: 118, frames_in_flight: 3
Checking readback 111: submitted frame 115, current frame 118, 3 frames elapsed (need 3)
Readback 111 ready (submitted frame 115, current frame 118)
Checking readback 112: submitted frame 117, current frame 118, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (2 minichunks, 4096 bytes)
Minichunk 158/512 completed
Minichunk 159/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 118
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 118, frames_in_flight: 3
Checking readback 112: submitted frame 117, current frame 118, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 44 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -64, 48] to [64, -56, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b927e8, alignment: 0
Returning buffer pointer: 0x21fe6b927e8 (aligned: true)
Created staging buffer at: 0x21fe6b927e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14362637819149551336), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ca8, alignment: 0
Returning buffer pointer: 0x21fe6b91ca8 (aligned: true)
Created staging buffer at: 0x21fe6b91ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1973725626439304938), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91be8, alignment: 0
Returning buffer pointer: 0x21fe6b91be8 (aligned: true)
Created staging buffer at: 0x21fe6b91be8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11245403607148791532), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c28, alignment: 0
Returning buffer pointer: 0x21fe6b91c28 (aligned: true)
Created staging buffer at: 0x21fe6b91c28
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecda000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15992758365327460078), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,4.8e1] to [6.4e1,-5.6e1,5.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b922a8, alignment: 0
Returning buffer pointer: 0x21fe6b922a8 (aligned: true)
Submitting readback 114 at frame 118 (will be ready at frame 121)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.1ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 7)
DeferredReadbackManager: advanced to frame 119
Processing readbacks: 3 pending, completed_frame: 119, frames_in_flight: 3
Checking readback 112: submitted frame 117, current frame 119, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 119
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 119, frames_in_flight: 3
Checking readback 112: submitted frame 117, current frame 119, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 43 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.1ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 120
Processing readbacks: 3 pending, completed_frame: 120, frames_in_flight: 3
Checking readback 112: submitted frame 117, current frame 120, 3 frames elapsed (need 3)
Readback 112 ready (submitted frame 117, current frame 120)
Checking readback 113: submitted frame 117, current frame 120, 3 frames elapsed (need 3)
Readback 113 ready (submitted frame 117, current frame 120)
Checking readback 114: submitted frame 118, current frame 120, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 160/512 completed
Minichunk 161/512 completed
Minichunk 162/512 completed
Minichunk 163/512 completed
Minichunk 164/512 completed
Minichunk 165/512 completed
Minichunk 166/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 167/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 120
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 120, frames_in_flight: 3
Checking readback 114: submitted frame 118, current frame 120, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 43 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 1
Overall bounds: [0, -8, 40] to [48, 0, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92968, alignment: 0
Returning buffer pointer: 0x21fe6b92968 (aligned: true)
Created staging buffer at: 0x21fe6b92968
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15350611688869070579), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92a28, alignment: 0
Returning buffer pointer: 0x21fe6b92a28 (aligned: true)
Created staging buffer at: 0x21fe6b92a28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbda000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9989733840437905141), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ce8, alignment: 0
Returning buffer pointer: 0x21fe6b91ce8 (aligned: true)
Created staging buffer at: 0x21fe6b91ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc23000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2340667841000244983), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b923e8, alignment: 0
Returning buffer pointer: 0x21fe6b923e8 (aligned: true)
Created staging buffer at: 0x21fe6b923e8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1b000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14649416839952598777), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.0e0,4.0e1] to [4.8e1,0.0e0,4.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91ea8, alignment: 0
Returning buffer pointer: 0x21fe6b91ea8 (aligned: true)
Submitting readback 115 at frame 120 (will be ready at frame 123)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [48, -8, 40] to [64, 0, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91f28, alignment: 0
Returning buffer pointer: 0x21fe6b91f28 (aligned: true)
Created staging buffer at: 0x21fe6b91f28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13493488171043784446), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b922e8, alignment: 0
Returning buffer pointer: 0x21fe6b922e8 (aligned: true)
Created staging buffer at: 0x21fe6b922e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc17000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4533081932157683456), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92328, alignment: 0
Returning buffer pointer: 0x21fe6b92328 (aligned: true)
Created staging buffer at: 0x21fe6b92328
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc13000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13661401188791224066), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91fa8, alignment: 0
Returning buffer pointer: 0x21fe6b91fa8 (aligned: true)
Created staging buffer at: 0x21fe6b91fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc20000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11897764746629220100), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.8e1,-8.0e0,4.0e1] to [6.4e1,0.0e0,4.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b924e8, alignment: 0
Returning buffer pointer: 0x21fe6b924e8 (aligned: true)
Submitting readback 116 at frame 120 (will be ready at frame 123)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.6ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 121
Processing readbacks: 3 pending, completed_frame: 121, frames_in_flight: 3
Checking readback 114: submitted frame 118, current frame 121, 3 frames elapsed (need 3)
Readback 114 ready (submitted frame 118, current frame 121)
Checking readback 115: submitted frame 120, current frame 121, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 168/512 completed
Minichunk 169/512 completed
Minichunk 170/512 completed
Minichunk 171/512 completed
Minichunk 172/512 completed
Minichunk 173/512 completed
Minichunk 174/512 completed
Minichunk 175/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 121
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 121, frames_in_flight: 3
Checking readback 115: submitted frame 120, current frame 121, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 42 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 0
Overall bounds: [0, -16, 40] to [56, -8, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d28, alignment: 0
Returning buffer pointer: 0x21fe6b91d28 (aligned: true)
Created staging buffer at: 0x21fe6b91d28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc07000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(902196569590204169), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ee8, alignment: 0
Returning buffer pointer: 0x21fe6b91ee8 (aligned: true)
Created staging buffer at: 0x21fe6b91ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12546233614947321611), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92028, alignment: 0
Returning buffer pointer: 0x21fe6b92028 (aligned: true)
Created staging buffer at: 0x21fe6b92028
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5452683770815579917), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920e8, alignment: 0
Returning buffer pointer: 0x21fe6b920e8 (aligned: true)
Created staging buffer at: 0x21fe6b920e8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd4000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1207405604298032911), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,4.0e1] to [5.6e1,-8.0e0,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91d68, alignment: 0
Returning buffer pointer: 0x21fe6b91d68 (aligned: true)
Submitting readback 117 at frame 121 (will be ready at frame 124)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.3ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 6)
DeferredReadbackManager: advanced to frame 122
Processing readbacks: 3 pending, completed_frame: 122, frames_in_flight: 3
Checking readback 115: submitted frame 120, current frame 122, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 122
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 122, frames_in_flight: 3
Checking readback 115: submitted frame 120, current frame 122, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 42 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 21.7ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 4)
DeferredReadbackManager: advanced to frame 123
Processing readbacks: 3 pending, completed_frame: 123, frames_in_flight: 3
Checking readback 115: submitted frame 120, current frame 123, 3 frames elapsed (need 3)
Readback 115 ready (submitted frame 120, current frame 123)
Checking readback 116: submitted frame 120, current frame 123, 3 frames elapsed (need 3)
Readback 116 ready (submitted frame 120, current frame 123)
Checking readback 117: submitted frame 121, current frame 123, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 176/512 completed
Minichunk 177/512 completed
Minichunk 178/512 completed
Minichunk 179/512 completed
Minichunk 180/512 completed
Minichunk 181/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 182/512 completed
Minichunk 183/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 123
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 123, frames_in_flight: 3
Checking readback 117: submitted frame 121, current frame 123, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 42 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 1 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 1 minichunks in workspace 1
Overall bounds: [56, -48, 48] to [64, -40, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b922a8, alignment: 0
Returning buffer pointer: 0x21fe6b922a8 (aligned: true)
Created staging buffer at: 0x21fe6b922a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10432915091757205268), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b924e8, alignment: 0
Returning buffer pointer: 0x21fe6b924e8 (aligned: true)
Created staging buffer at: 0x21fe6b924e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbec000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6464524739439232790), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92568, alignment: 0
Returning buffer pointer: 0x21fe6b92568 (aligned: true)
Created staging buffer at: 0x21fe6b92568
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc06000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7313816108035737368), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ea8, alignment: 0
Returning buffer pointer: 0x21fe6b91ea8 (aligned: true)
Created staging buffer at: 0x21fe6b91ea8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc08000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9549433309583378202), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-4.8e1,4.8e1] to [6.4e1,-4.0e1,5.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92068, alignment: 0
Returning buffer pointer: 0x21fe6b92068 (aligned: true)
Submitting readback 118 at frame 123 (will be ready at frame 126)
Successfully queued 1 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [0, -24, 40] to [40, -16, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92768, alignment: 0
Returning buffer pointer: 0x21fe6b92768 (aligned: true)
Created staging buffer at: 0x21fe6b92768
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7799814541163890463), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92128, alignment: 0
Returning buffer pointer: 0x21fe6b92128 (aligned: true)
Created staging buffer at: 0x21fe6b92128
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5442674916467935009), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92168, alignment: 0
Returning buffer pointer: 0x21fe6b92168 (aligned: true)
Created staging buffer at: 0x21fe6b92168
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8584430436791355171), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b927a8, alignment: 0
Returning buffer pointer: 0x21fe6b927a8 (aligned: true)
Created staging buffer at: 0x21fe6b927a8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab7000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8672938923804067621), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-2.4e1,4.0e1] to [4.0e1,-1.6e1,4.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92628, alignment: 0
Returning buffer pointer: 0x21fe6b92628 (aligned: true)
Submitting readback 119 at frame 123 (will be ready at frame 126)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.6ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 16)
DeferredReadbackManager: advanced to frame 124
Processing readbacks: 3 pending, completed_frame: 124, frames_in_flight: 3
Checking readback 117: submitted frame 121, current frame 124, 3 frames elapsed (need 3)
Readback 117 ready (submitted frame 121, current frame 124)
Checking readback 118: submitted frame 123, current frame 124, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 184/512 completed
Minichunk 185/512 completed
Minichunk 186/512 completed
Minichunk 187/512 completed
Minichunk 188/512 completed
Minichunk 189/512 completed
Minichunk 190/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 124
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 124, frames_in_flight: 3
Checking readback 118: submitted frame 123, current frame 124, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 41 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 0
Overall bounds: [0, -32, 40] to [48, -24, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b921a8, alignment: 0
Returning buffer pointer: 0x21fe6b921a8 (aligned: true)
Created staging buffer at: 0x21fe6b921a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8670791577595021098), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d68, alignment: 0
Returning buffer pointer: 0x21fe6b91d68 (aligned: true)
Created staging buffer at: 0x21fe6b91d68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc14000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7016169514303751980), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b926a8, alignment: 0
Returning buffer pointer: 0x21fe6b926a8 (aligned: true)
Created staging buffer at: 0x21fe6b926a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(479617967152170798), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92268, alignment: 0
Returning buffer pointer: 0x21fe6b92268 (aligned: true)
Created staging buffer at: 0x21fe6b92268
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf0000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7777307538143315760), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,4.0e1] to [4.8e1,-2.4e1,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b925a8, alignment: 0
Returning buffer pointer: 0x21fe6b925a8 (aligned: true)
Submitting readback 120 at frame 124 (will be ready at frame 127)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 2 remaining minichunks from batch
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.2ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 5)
DeferredReadbackManager: advanced to frame 125
Processing readbacks: 3 pending, completed_frame: 125, frames_in_flight: 3
Checking readback 118: submitted frame 123, current frame 125, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 125
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 125, frames_in_flight: 3
Checking readback 118: submitted frame 123, current frame 125, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 41 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 21.4ms (target: 10.0ms), Workgroups: 4 -> 4 (PID: 4)
DeferredReadbackManager: advanced to frame 126
Processing readbacks: 3 pending, completed_frame: 126, frames_in_flight: 3
Checking readback 118: submitted frame 123, current frame 126, 3 frames elapsed (need 3)
Readback 118 ready (submitted frame 123, current frame 126)
Checking readback 119: submitted frame 123, current frame 126, 3 frames elapsed (need 3)
Readback 119 ready (submitted frame 123, current frame 126)
Checking readback 120: submitted frame 124, current frame 126, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (1 minichunks, 2048 bytes)
Minichunk 191/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 192/512 completed
Minichunk 193/512 completed
Minichunk 194/512 completed
Minichunk 195/512 completed
Minichunk 196/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 126
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 126, frames_in_flight: 3
Checking readback 120: submitted frame 124, current frame 126, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 41 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 4 minichunks in workspace 1
Overall bounds: [0, -40, 40] to [32, -32, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92828, alignment: 0
Returning buffer pointer: 0x21fe6b92828 (aligned: true)
Created staging buffer at: 0x21fe6b92828
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6045775736000743221), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92868, alignment: 0
Returning buffer pointer: 0x21fe6b92868 (aligned: true)
Created staging buffer at: 0x21fe6b92868
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc12000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1660837602523088695), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b928a8, alignment: 0
Returning buffer pointer: 0x21fe6b928a8 (aligned: true)
Created staging buffer at: 0x21fe6b928a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1f000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11129499688418412345), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b928e8, alignment: 0
Returning buffer pointer: 0x21fe6b928e8 (aligned: true)
Created staging buffer at: 0x21fe6b928e8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdd000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4627764176960358203), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.0e1,4.0e1] to [3.2e1,-3.2e1,4.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92368, alignment: 0
Returning buffer pointer: 0x21fe6b92368 (aligned: true)
Submitting readback 121 at frame 126 (will be ready at frame 129)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 2
Overall bounds: [32, -40, 40] to [64, -32, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c68, alignment: 0
Returning buffer pointer: 0x21fe6b91c68 (aligned: true)
Created staging buffer at: 0x21fe6b91c68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdb000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2423213676455528256), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92068, alignment: 0
Returning buffer pointer: 0x21fe6b92068 (aligned: true)
Created staging buffer at: 0x21fe6b92068
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9870005820266121026), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b924a8, alignment: 0
Returning buffer pointer: 0x21fe6b924a8 (aligned: true)
Created staging buffer at: 0x21fe6b924a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6039072013606192964), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91de8, alignment: 0
Returning buffer pointer: 0x21fe6b91de8 (aligned: true)
Created staging buffer at: 0x21fe6b91de8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd6000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3199044474177062726), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [3.2e1,-4.0e1,4.0e1] to [6.4e1,-3.2e1,4.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b95ce8, alignment: 0
Returning buffer pointer: 0x21fe6b95ce8 (aligned: true)
Submitting readback 122 at frame 126 (will be ready at frame 129)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.5ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 16)
DeferredReadbackManager: advanced to frame 127
Processing readbacks: 3 pending, completed_frame: 127, frames_in_flight: 3
Checking readback 120: submitted frame 124, current frame 127, 3 frames elapsed (need 3)
Readback 120 ready (submitted frame 124, current frame 127)
Checking readback 121: submitted frame 126, current frame 127, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 197/512 completed
Minichunk 198/512 completed
Minichunk 199/512 completed
Minichunk 200/512 completed
Minichunk 201/512 completed
Minichunk 202/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 127
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 127, frames_in_flight: 3
Checking readback 121: submitted frame 126, current frame 127, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 40 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 0
Overall bounds: [0, -48, 40] to [40, -40, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92428, alignment: 0
Returning buffer pointer: 0x21fe6b92428 (aligned: true)
Created staging buffer at: 0x21fe6b92428
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13217730654797563723), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b925a8, alignment: 0
Returning buffer pointer: 0x21fe6b925a8 (aligned: true)
Created staging buffer at: 0x21fe6b925a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2634920242337285965), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92628, alignment: 0
Returning buffer pointer: 0x21fe6b92628 (aligned: true)
Created staging buffer at: 0x21fe6b92628
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4763625331246499663), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92728, alignment: 0
Returning buffer pointer: 0x21fe6b92728 (aligned: true)
Created staging buffer at: 0x21fe6b92728
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc19000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13322415156878116689), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,4.0e1] to [4.0e1,-4.0e1,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92928, alignment: 0
Returning buffer pointer: 0x21fe6b92928 (aligned: true)
Submitting readback 123 at frame 127 (will be ready at frame 130)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.5ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 8)
DeferredReadbackManager: advanced to frame 128
Processing readbacks: 3 pending, completed_frame: 128, frames_in_flight: 3
Checking readback 121: submitted frame 126, current frame 128, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 128
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 128, frames_in_flight: 3
Checking readback 121: submitted frame 126, current frame 128, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 40 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 21.8ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 4)
DeferredReadbackManager: advanced to frame 129
Processing readbacks: 3 pending, completed_frame: 129, frames_in_flight: 3
Checking readback 121: submitted frame 126, current frame 129, 3 frames elapsed (need 3)
Readback 121 ready (submitted frame 126, current frame 129)
Checking readback 122: submitted frame 126, current frame 129, 3 frames elapsed (need 3)
Readback 122 ready (submitted frame 126, current frame 129)
Checking readback 123: submitted frame 127, current frame 129, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (4 minichunks, 8192 bytes)
Minichunk 203/512 completed
Minichunk 204/512 completed
Minichunk 205/512 completed
Minichunk 206/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (4 minichunks, 8192 bytes)
Minichunk 207/512 completed
Minichunk 208/512 completed
Minichunk 209/512 completed
Minichunk 210/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 129
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 129, frames_in_flight: 3
Checking readback 123: submitted frame 127, current frame 129, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 40 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 1 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 1 minichunks in workspace 1
Overall bounds: [56, -16, 40] to [64, -8, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b95ce8, alignment: 0
Returning buffer pointer: 0x21fe6b95ce8 (aligned: true)
Created staging buffer at: 0x21fe6b95ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc11000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(656079687805568854), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96b28, alignment: 0
Returning buffer pointer: 0x21fe6b96b28 (aligned: true)
Created staging buffer at: 0x21fe6b96b28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbed000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12947183724155373400), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96b68, alignment: 0
Returning buffer pointer: 0x21fe6b96b68 (aligned: true)
Created staging buffer at: 0x21fe6b96b68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbee000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12558183107317991258), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90528, alignment: 0
Returning buffer pointer: 0x21fe6b90528 (aligned: true)
Created staging buffer at: 0x21fe6b90528
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0e000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(952554202142345052), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-1.6e1,4.0e1] to [6.4e1,-8.0e0,4.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90628, alignment: 0
Returning buffer pointer: 0x21fe6b90628 (aligned: true)
Submitting readback 124 at frame 129 (will be ready at frame 132)
Successfully queued 1 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [0, -56, 40] to [40, -48, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b901a8, alignment: 0
Returning buffer pointer: 0x21fe6b901a8 (aligned: true)
Created staging buffer at: 0x21fe6b901a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11723021562650036065), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90268, alignment: 0
Returning buffer pointer: 0x21fe6b90268 (aligned: true)
Created staging buffer at: 0x21fe6b90268
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbeb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15996143761629382499), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fc68, alignment: 0
Returning buffer pointer: 0x21fe6b8fc68 (aligned: true)
Created staging buffer at: 0x21fe6b8fc68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2198942991203174245), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b906a8, alignment: 0
Returning buffer pointer: 0x21fe6b906a8 (aligned: true)
Created staging buffer at: 0x21fe6b906a8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0f000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10597767069132916583), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-5.6e1,4.0e1] to [4.0e1,-4.8e1,4.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b906e8, alignment: 0
Returning buffer pointer: 0x21fe6b906e8 (aligned: true)
Submitting readback 125 at frame 129 (will be ready at frame 132)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.7ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 16)
DeferredReadbackManager: advanced to frame 130
Processing readbacks: 3 pending, completed_frame: 130, frames_in_flight: 3
Checking readback 123: submitted frame 127, current frame 130, 3 frames elapsed (need 3)
Readback 123 ready (submitted frame 127, current frame 130)
Checking readback 124: submitted frame 129, current frame 130, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 211/512 completed
Minichunk 212/512 completed
Minichunk 213/512 completed
Minichunk 214/512 completed
Minichunk 215/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 130
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 130, frames_in_flight: 3
Checking readback 124: submitted frame 129, current frame 130, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 39 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 3 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 0
Overall bounds: [40, -24, 40] to [64, -16, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90928, alignment: 0
Returning buffer pointer: 0x21fe6b90928 (aligned: true)
Created staging buffer at: 0x21fe6b90928
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15243055262416766828), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90028, alignment: 0
Returning buffer pointer: 0x21fe6b90028 (aligned: true)
Created staging buffer at: 0x21fe6b90028
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc10000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16726426190658668398), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b907a8, alignment: 0
Returning buffer pointer: 0x21fe6b907a8 (aligned: true)
Created staging buffer at: 0x21fe6b907a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc01000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9430056033620854640), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8ffe8, alignment: 0
Returning buffer pointer: 0x21fe6b8ffe8 (aligned: true)
Created staging buffer at: 0x21fe6b8ffe8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc02000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16561028855515580274), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.0e1,-2.4e1,4.0e1] to [6.4e1,-1.6e1,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90828, alignment: 0
Returning buffer pointer: 0x21fe6b90828 (aligned: true)
Submitting readback 126 at frame 130 (will be ready at frame 133)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.5ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 6)
DeferredReadbackManager: advanced to frame 131
Processing readbacks: 3 pending, completed_frame: 131, frames_in_flight: 3
Checking readback 124: submitted frame 129, current frame 131, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 131
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 131, frames_in_flight: 3
Checking readback 124: submitted frame 129, current frame 131, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 38 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 21.8ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 4)
DeferredReadbackManager: advanced to frame 132
Processing readbacks: 3 pending, completed_frame: 132, frames_in_flight: 3
Checking readback 124: submitted frame 129, current frame 132, 3 frames elapsed (need 3)
Readback 124 ready (submitted frame 129, current frame 132)
Checking readback 125: submitted frame 129, current frame 132, 3 frames elapsed (need 3)
Readback 125 ready (submitted frame 129, current frame 132)
Checking readback 126: submitted frame 130, current frame 132, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (1 minichunks, 2048 bytes)
Minichunk 216/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 217/512 completed
Minichunk 218/512 completed
Minichunk 219/512 completed
Minichunk 220/512 completed
Minichunk 221/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 132
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 132, frames_in_flight: 3
Checking readback 126: submitted frame 130, current frame 132, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 38 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 2 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 2 minichunks in workspace 1
Overall bounds: [48, -32, 40] to [64, -24, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b906e8, alignment: 0
Returning buffer pointer: 0x21fe6b906e8 (aligned: true)
Created staging buffer at: 0x21fe6b906e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbef000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18292536468402341751), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90aa8, alignment: 0
Returning buffer pointer: 0x21fe6b90aa8 (aligned: true)
Created staging buffer at: 0x21fe6b90aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18205136289110427513), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90428, alignment: 0
Returning buffer pointer: 0x21fe6b90428 (aligned: true)
Created staging buffer at: 0x21fe6b90428
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17542471626166110075), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b904e8, alignment: 0
Returning buffer pointer: 0x21fe6b904e8 (aligned: true)
Created staging buffer at: 0x21fe6b904e8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf6000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14392078342494881661), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.8e1,-3.2e1,4.0e1] to [6.4e1,-2.4e1,4.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90728, alignment: 0
Returning buffer pointer: 0x21fe6b90728 (aligned: true)
Submitting readback 127 at frame 132 (will be ready at frame 135)
Successfully queued 2 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [0, -64, 40] to [40, -56, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b905e8, alignment: 0
Returning buffer pointer: 0x21fe6b905e8 (aligned: true)
Created staging buffer at: 0x21fe6b905e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfa000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17150423163096532866), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fd68, alignment: 0
Returning buffer pointer: 0x21fe6b8fd68 (aligned: true)
Created staging buffer at: 0x21fe6b8fd68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(71456161177536388), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fe28, alignment: 0
Returning buffer pointer: 0x21fe6b8fe28 (aligned: true)
Created staging buffer at: 0x21fe6b8fe28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16804917027230713734), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fba8, alignment: 0
Returning buffer pointer: 0x21fe6b8fba8 (aligned: true)
Created staging buffer at: 0x21fe6b8fba8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbce000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15442545154602305416), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,4.0e1] to [4.0e1,-5.6e1,4.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fda8, alignment: 0
Returning buffer pointer: 0x21fe6b8fda8 (aligned: true)
Submitting readback 128 at frame 132 (will be ready at frame 135)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.6ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 16)
DeferredReadbackManager: advanced to frame 133
Processing readbacks: 3 pending, completed_frame: 133, frames_in_flight: 3
Checking readback 126: submitted frame 130, current frame 133, 3 frames elapsed (need 3)
Readback 126 ready (submitted frame 130, current frame 133)
Checking readback 127: submitted frame 132, current frame 133, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 222/512 completed
Minichunk 223/512 completed
Minichunk 224/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 133
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 133, frames_in_flight: 3
Checking readback 127: submitted frame 132, current frame 133, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 37 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 3 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 0
Overall bounds: [40, -48, 40] to [64, -40, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90468, alignment: 0
Returning buffer pointer: 0x21fe6b90468 (aligned: true)
Created staging buffer at: 0x21fe6b90468
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2181813699554051981), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90568, alignment: 0
Returning buffer pointer: 0x21fe6b90568 (aligned: true)
Created staging buffer at: 0x21fe6b90568
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbde000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11191741942155184015), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90628, alignment: 0
Returning buffer pointer: 0x21fe6b90628 (aligned: true)
Created staging buffer at: 0x21fe6b90628
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14383221776333146001), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90068, alignment: 0
Returning buffer pointer: 0x21fe6b90068 (aligned: true)
Created staging buffer at: 0x21fe6b90068
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfd000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2451235829801027475), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.0e1,-4.8e1,4.0e1] to [6.4e1,-4.0e1,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b900a8, alignment: 0
Returning buffer pointer: 0x21fe6b900a8 (aligned: true)
Submitting readback 129 at frame 133 (will be ready at frame 136)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.6ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 8)
DeferredReadbackManager: advanced to frame 134
Processing readbacks: 3 pending, completed_frame: 134, frames_in_flight: 3
Checking readback 127: submitted frame 132, current frame 134, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 134
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 134, frames_in_flight: 3
Checking readback 127: submitted frame 132, current frame 134, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 36 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 21.9ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 135
Processing readbacks: 3 pending, completed_frame: 135, frames_in_flight: 3
Checking readback 127: submitted frame 132, current frame 135, 3 frames elapsed (need 3)
Readback 127 ready (submitted frame 132, current frame 135)
Checking readback 128: submitted frame 132, current frame 135, 3 frames elapsed (need 3)
Readback 128 ready (submitted frame 132, current frame 135)
Checking readback 129: submitted frame 133, current frame 135, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (2 minichunks, 4096 bytes)
Minichunk 225/512 completed
Minichunk 226/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 227/512 completed
Minichunk 228/512 completed
Minichunk 229/512 completed
Minichunk 230/512 completed
Minichunk 231/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 135
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 135, frames_in_flight: 3
Checking readback 129: submitted frame 133, current frame 135, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 36 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 1
Overall bounds: [0, -8, 32] to [48, 0, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90728, alignment: 0
Returning buffer pointer: 0x21fe6b90728 (aligned: true)
Created staging buffer at: 0x21fe6b90728
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9408970699134994328), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90a28, alignment: 0
Returning buffer pointer: 0x21fe6b90a28 (aligned: true)
Created staging buffer at: 0x21fe6b90a28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2961647819112318874), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fda8, alignment: 0
Returning buffer pointer: 0x21fe6b8fda8 (aligned: true)
Created staging buffer at: 0x21fe6b8fda8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcf000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3485896062747543452), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90868, alignment: 0
Returning buffer pointer: 0x21fe6b90868 (aligned: true)
Created staging buffer at: 0x21fe6b90868
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc03000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13418165027471361950), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.0e0,3.2e1] to [4.8e1,0.0e0,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90768, alignment: 0
Returning buffer pointer: 0x21fe6b90768 (aligned: true)
Submitting readback 130 at frame 135 (will be ready at frame 138)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [48, -8, 32] to [64, 0, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b907e8, alignment: 0
Returning buffer pointer: 0x21fe6b907e8 (aligned: true)
Created staging buffer at: 0x21fe6b907e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4228733815054403491), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b908e8, alignment: 0
Returning buffer pointer: 0x21fe6b908e8 (aligned: true)
Created staging buffer at: 0x21fe6b908e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5171809127453689765), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90a68, alignment: 0
Returning buffer pointer: 0x21fe6b90a68 (aligned: true)
Created staging buffer at: 0x21fe6b90a68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11833796259636840359), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90828, alignment: 0
Returning buffer pointer: 0x21fe6b90828 (aligned: true)
Created staging buffer at: 0x21fe6b90828
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbea000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1040561311852791721), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.8e1,-8.0e0,3.2e1] to [6.4e1,0.0e0,4.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fae8, alignment: 0
Returning buffer pointer: 0x21fe6b8fae8 (aligned: true)
Submitting readback 131 at frame 135 (will be ready at frame 138)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.1ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 136
Processing readbacks: 3 pending, completed_frame: 136, frames_in_flight: 3
Checking readback 129: submitted frame 133, current frame 136, 3 frames elapsed (need 3)
Readback 129 ready (submitted frame 133, current frame 136)
Checking readback 130: submitted frame 135, current frame 136, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 232/512 completed
Minichunk 233/512 completed
Minichunk 234/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 136

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: 0.0°, Pitch: 0.0°, Roll: -45.6°]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 136, frames_in_flight: 3
Checking readback 130: submitted frame 135, current frame 136, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 35 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 3 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 0
Overall bounds: [40, -56, 40] to [64, -48, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b908a8, alignment: 0
Returning buffer pointer: 0x21fe6b908a8 (aligned: true)
Created staging buffer at: 0x21fe6b908a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6158802232801232814), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b909a8, alignment: 0
Returning buffer pointer: 0x21fe6b909a8 (aligned: true)
Created staging buffer at: 0x21fe6b909a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc04000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5873265660137572272), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b900a8, alignment: 0
Returning buffer pointer: 0x21fe6b900a8 (aligned: true)
Created staging buffer at: 0x21fe6b900a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbca000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1735110712490985394), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fc28, alignment: 0
Returning buffer pointer: 0x21fe6b8fc28 (aligned: true)
Created staging buffer at: 0x21fe6b8fc28
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1c000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11519798828488198068), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.0e1,-5.6e1,4.0e1] to [6.4e1,-4.8e1,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fbe8, alignment: 0
Returning buffer pointer: 0x21fe6b8fbe8 (aligned: true)
Submitting readback 132 at frame 136 (will be ready at frame 139)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.0ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 8)
DeferredReadbackManager: advanced to frame 137
Processing readbacks: 3 pending, completed_frame: 137, frames_in_flight: 3
Checking readback 130: submitted frame 135, current frame 137, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 137
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 137, frames_in_flight: 3
Checking readback 130: submitted frame 135, current frame 137, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 34 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.1ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 138
Processing readbacks: 3 pending, completed_frame: 138, frames_in_flight: 3
Checking readback 130: submitted frame 135, current frame 138, 3 frames elapsed (need 3)
Readback 130 ready (submitted frame 135, current frame 138)
Checking readback 131: submitted frame 135, current frame 138, 3 frames elapsed (need 3)
Readback 131 ready (submitted frame 135, current frame 138)
Checking readback 132: submitted frame 136, current frame 138, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 235/512 completed
Minichunk 236/512 completed
Minichunk 237/512 completed
Minichunk 238/512 completed
Minichunk 239/512 completed
Minichunk 240/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 241/512 completed
Minichunk 242/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 138
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 138, frames_in_flight: 3
Checking readback 132: submitted frame 136, current frame 138, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 34 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [0, -16, 32] to [56, -8, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fe68, alignment: 0
Returning buffer pointer: 0x21fe6b8fe68 (aligned: true)
Created staging buffer at: 0x21fe6b8fe68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc00000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5126897375993923513), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90768, alignment: 0
Returning buffer pointer: 0x21fe6b90768 (aligned: true)
Created staging buffer at: 0x21fe6b90768
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7663336560854566843), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fca8, alignment: 0
Returning buffer pointer: 0x21fe6b8fca8 (aligned: true)
Created staging buffer at: 0x21fe6b8fca8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10111331030376908733), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fae8, alignment: 0
Returning buffer pointer: 0x21fe6b8fae8 (aligned: true)
Created staging buffer at: 0x21fe6b8fae8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe2000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5560599737570166719), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,3.2e1] to [5.6e1,-8.0e0,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b900e8, alignment: 0
Returning buffer pointer: 0x21fe6b900e8 (aligned: true)
Submitting readback 133 at frame 138 (will be ready at frame 141)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [56, -16, 32] to [64, -8, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fb28, alignment: 0
Returning buffer pointer: 0x21fe6b8fb28 (aligned: true)
Created staging buffer at: 0x21fe6b8fb28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8476780551850690500), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90128, alignment: 0
Returning buffer pointer: 0x21fe6b90128 (aligned: true)
Created staging buffer at: 0x21fe6b90128
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe8000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8860182455479437254), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fb68, alignment: 0
Returning buffer pointer: 0x21fe6b8fb68 (aligned: true)
Created staging buffer at: 0x21fe6b8fb68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf9000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9205145432601135048), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90168, alignment: 0
Returning buffer pointer: 0x21fe6b90168 (aligned: true)
Created staging buffer at: 0x21fe6b90168
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd3000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8892125467289585610), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-1.6e1,3.2e1] to [6.4e1,-8.0e0,4.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b901e8, alignment: 0
Returning buffer pointer: 0x21fe6b901e8 (aligned: true)
Submitting readback 134 at frame 138 (will be ready at frame 141)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.0ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 139
Processing readbacks: 3 pending, completed_frame: 139, frames_in_flight: 3
Checking readback 132: submitted frame 136, current frame 139, 3 frames elapsed (need 3)
Readback 132 ready (submitted frame 136, current frame 139)
Checking readback 133: submitted frame 138, current frame 139, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 243/512 completed
Minichunk 244/512 completed
Minichunk 245/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 139
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 139, frames_in_flight: 3
Checking readback 133: submitted frame 138, current frame 139, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 33 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -24, 32] to [64, -16, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91a28, alignment: 0
Returning buffer pointer: 0x21fe6b91a28 (aligned: true)
Created staging buffer at: 0x21fe6b91a28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc18000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7529816266823960527), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91a68, alignment: 0
Returning buffer pointer: 0x21fe6b91a68 (aligned: true)
Created staging buffer at: 0x21fe6b91a68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc09000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1023792660017579985), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ea8, alignment: 0
Returning buffer pointer: 0x21fe6b90ea8 (aligned: true)
Created staging buffer at: 0x21fe6b90ea8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5606081036053120979), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ee8, alignment: 0
Returning buffer pointer: 0x21fe6b90ee8 (aligned: true)
Created staging buffer at: 0x21fe6b90ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdf000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7267264984738957269), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-2.4e1,3.2e1] to [6.4e1,-1.6e1,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b912a8, alignment: 0
Returning buffer pointer: 0x21fe6b912a8 (aligned: true)
Submitting readback 135 at frame 139 (will be ready at frame 142)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.0ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 8)
DeferredReadbackManager: advanced to frame 140
Processing readbacks: 3 pending, completed_frame: 140, frames_in_flight: 3
Checking readback 133: submitted frame 138, current frame 140, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 140
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 140, frames_in_flight: 3
Checking readback 133: submitted frame 138, current frame 140, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 32 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.2ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 141
Processing readbacks: 3 pending, completed_frame: 141, frames_in_flight: 3
Checking readback 133: submitted frame 138, current frame 141, 3 frames elapsed (need 3)
Readback 133 ready (submitted frame 138, current frame 141)
Checking readback 134: submitted frame 138, current frame 141, 3 frames elapsed (need 3)
Readback 134 ready (submitted frame 138, current frame 141)
Checking readback 135: submitted frame 139, current frame 141, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 246/512 completed
Minichunk 247/512 completed
Minichunk 248/512 completed
Minichunk 249/512 completed
Minichunk 250/512 completed
Minichunk 251/512 completed
Minichunk 252/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 253/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 141
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 141, frames_in_flight: 3
Checking readback 135: submitted frame 139, current frame 141, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 32 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 3 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 3 minichunks in workspace 1
Overall bounds: [40, -64, 40] to [64, -56, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b902e8, alignment: 0
Returning buffer pointer: 0x21fe6b902e8 (aligned: true)
Created staging buffer at: 0x21fe6b902e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2077069823845599194), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fbe8, alignment: 0
Returning buffer pointer: 0x21fe6b8fbe8 (aligned: true)
Created staging buffer at: 0x21fe6b8fbe8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6888724022016608220), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fde8, alignment: 0
Returning buffer pointer: 0x21fe6b8fde8 (aligned: true)
Created staging buffer at: 0x21fe6b8fde8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecce000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6559097033079130078), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b900e8, alignment: 0
Returning buffer pointer: 0x21fe6b900e8 (aligned: true)
Created staging buffer at: 0x21fe6b900e8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe0000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1201429758601070560), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.0e1,-6.4e1,4.0e1] to [6.4e1,-5.6e1,4.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b901e8, alignment: 0
Returning buffer pointer: 0x21fe6b901e8 (aligned: true)
Submitting readback 136 at frame 141 (will be ready at frame 144)
Successfully queued 3 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [0, -32, 32] to [56, -24, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91128, alignment: 0
Returning buffer pointer: 0x21fe6b91128 (aligned: true)
Created staging buffer at: 0x21fe6b91128
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10382964278507341797), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91628, alignment: 0
Returning buffer pointer: 0x21fe6b91628 (aligned: true)
Created staging buffer at: 0x21fe6b91628
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5327284469667727335), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90e68, alignment: 0
Returning buffer pointer: 0x21fe6b90e68 (aligned: true)
Created staging buffer at: 0x21fe6b90e68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfe000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2681918866866571241), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b913e8, alignment: 0
Returning buffer pointer: 0x21fe6b913e8 (aligned: true)
Created staging buffer at: 0x21fe6b913e8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd1000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9543819203211954155), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,3.2e1] to [5.6e1,-2.4e1,4.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90fa8, alignment: 0
Returning buffer pointer: 0x21fe6b90fa8 (aligned: true)
Submitting readback 137 at frame 141 (will be ready at frame 144)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.2ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 142
Processing readbacks: 3 pending, completed_frame: 142, frames_in_flight: 3
Checking readback 135: submitted frame 139, current frame 142, 3 frames elapsed (need 3)
Readback 135 ready (submitted frame 139, current frame 142)
Checking readback 136: submitted frame 141, current frame 142, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 254/512 completed
Minichunk 255/512 completed
Minichunk 256/512 completed
Minichunk 257/512 completed
Minichunk 258/512 completed
Minichunk 259/512 completed
Minichunk 260/512 completed
Minichunk 261/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 142
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 142, frames_in_flight: 3
Checking readback 136: submitted frame 141, current frame 142, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 31 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -40, 32] to [64, -32, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92368, alignment: 0
Returning buffer pointer: 0x21fe6b92368 (aligned: true)
Created staging buffer at: 0x21fe6b92368
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4358293668201760752), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ba8, alignment: 0
Returning buffer pointer: 0x21fe6b91ba8 (aligned: true)
Created staging buffer at: 0x21fe6b91ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4261538843980728306), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91da8, alignment: 0
Returning buffer pointer: 0x21fe6b91da8 (aligned: true)
Created staging buffer at: 0x21fe6b91da8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbff000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13154663767339960308), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92928, alignment: 0
Returning buffer pointer: 0x21fe6b92928 (aligned: true)
Created staging buffer at: 0x21fe6b92928
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab0000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2888921722004703222), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.0e1,3.2e1] to [6.4e1,-3.2e1,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91e68, alignment: 0
Returning buffer pointer: 0x21fe6b91e68 (aligned: true)
Submitting readback 138 at frame 142 (will be ready at frame 145)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.9ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 6)
DeferredReadbackManager: advanced to frame 143
Processing readbacks: 3 pending, completed_frame: 143, frames_in_flight: 3
Checking readback 136: submitted frame 141, current frame 143, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 143
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 143, frames_in_flight: 3
Checking readback 136: submitted frame 141, current frame 143, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 30 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.1ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 144
Processing readbacks: 3 pending, completed_frame: 144, frames_in_flight: 3
Checking readback 136: submitted frame 141, current frame 144, 3 frames elapsed (need 3)
Readback 136 ready (submitted frame 141, current frame 144)
Checking readback 137: submitted frame 141, current frame 144, 3 frames elapsed (need 3)
Readback 137 ready (submitted frame 141, current frame 144)
Checking readback 138: submitted frame 142, current frame 144, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (3 minichunks, 6144 bytes)
Minichunk 262/512 completed
Minichunk 263/512 completed
Minichunk 264/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 265/512 completed
Minichunk 266/512 completed
Minichunk 267/512 completed
Minichunk 268/512 completed
Minichunk 269/512 completed
Minichunk 270/512 completed
Minichunk 271/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 144
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 144, frames_in_flight: 3
Checking readback 138: submitted frame 142, current frame 144, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 30 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 1
Overall bounds: [0, -48, 32] to [48, -40, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b917e8, alignment: 0
Returning buffer pointer: 0x21fe6b917e8 (aligned: true)
Created staging buffer at: 0x21fe6b917e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14524080210967529467), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91aa8, alignment: 0
Returning buffer pointer: 0x21fe6b91aa8 (aligned: true)
Created staging buffer at: 0x21fe6b91aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11607579438803322877), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b912a8, alignment: 0
Returning buffer pointer: 0x21fe6b912a8 (aligned: true)
Created staging buffer at: 0x21fe6b912a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(458516139991894015), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90fe8, alignment: 0
Returning buffer pointer: 0x21fe6b90fe8 (aligned: true)
Created staging buffer at: 0x21fe6b90fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccf000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15259158709717174273), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,3.2e1] to [4.8e1,-4.0e1,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91168, alignment: 0
Returning buffer pointer: 0x21fe6b91168 (aligned: true)
Submitting readback 139 at frame 144 (will be ready at frame 147)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [48, -48, 32] to [64, -40, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90fa8, alignment: 0
Returning buffer pointer: 0x21fe6b90fa8 (aligned: true)
Created staging buffer at: 0x21fe6b90fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc21000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15266062543227979782), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91668, alignment: 0
Returning buffer pointer: 0x21fe6b91668 (aligned: true)
Created staging buffer at: 0x21fe6b91668
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc22000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1500117589844559880), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b916a8, alignment: 0
Returning buffer pointer: 0x21fe6b916a8 (aligned: true)
Created staging buffer at: 0x21fe6b916a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0b000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16872434737757554698), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ae8, alignment: 0
Returning buffer pointer: 0x21fe6b90ae8 (aligned: true)
Created staging buffer at: 0x21fe6b90ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0c000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13870902134347663372), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.8e1,-4.8e1,3.2e1] to [6.4e1,-4.0e1,4.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91428, alignment: 0
Returning buffer pointer: 0x21fe6b91428 (aligned: true)
Submitting readback 140 at frame 144 (will be ready at frame 147)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.8ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 145
Processing readbacks: 3 pending, completed_frame: 145, frames_in_flight: 3
Checking readback 138: submitted frame 142, current frame 145, 3 frames elapsed (need 3)
Readback 138 ready (submitted frame 142, current frame 145)
Checking readback 139: submitted frame 144, current frame 145, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 272/512 completed
Minichunk 273/512 completed
Minichunk 274/512 completed
Minichunk 275/512 completed
Minichunk 276/512 completed
Minichunk 277/512 completed
Minichunk 278/512 completed
Minichunk 279/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 145
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 145, frames_in_flight: 3
Checking readback 139: submitted frame 144, current frame 145, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 0
Overall bounds: [0, -56, 32] to [56, -48, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920a8, alignment: 0
Returning buffer pointer: 0x21fe6b920a8 (aligned: true)
Created staging buffer at: 0x21fe6b920a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16246732357204183057), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91be8, alignment: 0
Returning buffer pointer: 0x21fe6b91be8 (aligned: true)
Created staging buffer at: 0x21fe6b91be8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17923498584678860819), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91f68, alignment: 0
Returning buffer pointer: 0x21fe6b91f68 (aligned: true)
Created staging buffer at: 0x21fe6b91f68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecda000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17573820901697259541), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91b68, alignment: 0
Returning buffer pointer: 0x21fe6b91b68 (aligned: true)
Created staging buffer at: 0x21fe6b91b68
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab6000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18215797153853343767), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-5.6e1,3.2e1] to [5.6e1,-4.8e1,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b925e8, alignment: 0
Returning buffer pointer: 0x21fe6b925e8 (aligned: true)
Submitting readback 141 at frame 145 (will be ready at frame 148)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.0ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 10)
DeferredReadbackManager: advanced to frame 146
Processing readbacks: 3 pending, completed_frame: 146, frames_in_flight: 3
Checking readback 139: submitted frame 144, current frame 146, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 146
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 146, frames_in_flight: 3
Checking readback 139: submitted frame 144, current frame 146, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.2ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 147
Processing readbacks: 3 pending, completed_frame: 147, frames_in_flight: 3
Checking readback 139: submitted frame 144, current frame 147, 3 frames elapsed (need 3)
Readback 139 ready (submitted frame 144, current frame 147)
Checking readback 140: submitted frame 144, current frame 147, 3 frames elapsed (need 3)
Readback 140 ready (submitted frame 144, current frame 147)
Checking readback 141: submitted frame 145, current frame 147, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 280/512 completed
Minichunk 281/512 completed
Minichunk 282/512 completed
Minichunk 283/512 completed
Minichunk 284/512 completed
Minichunk 285/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 286/512 completed
Minichunk 287/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 147
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 147, frames_in_flight: 3
Checking readback 141: submitted frame 145, current frame 147, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [0, -16, 24] to [56, -8, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b914a8, alignment: 0
Returning buffer pointer: 0x21fe6b914a8 (aligned: true)
Created staging buffer at: 0x21fe6b914a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbda000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17812836037878089756), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ca8, alignment: 0
Returning buffer pointer: 0x21fe6b90ca8 (aligned: true)
Created staging buffer at: 0x21fe6b90ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc20000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16448652170087106590), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91428, alignment: 0
Returning buffer pointer: 0x21fe6b91428 (aligned: true)
Created staging buffer at: 0x21fe6b91428
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14005231668936312864), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91528, alignment: 0
Returning buffer pointer: 0x21fe6b91528 (aligned: true)
Created staging buffer at: 0x21fe6b91528
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcc000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17228016798180313122), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,2.4e1] to [5.6e1,-8.0e0,3.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b918a8, alignment: 0
Returning buffer pointer: 0x21fe6b918a8 (aligned: true)
Submitting readback 142 at frame 147 (will be ready at frame 150)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [56, -16, 24] to [64, -8, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b919a8, alignment: 0
Returning buffer pointer: 0x21fe6b919a8 (aligned: true)
Created staging buffer at: 0x21fe6b919a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc05000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1630193113945344039), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ba8, alignment: 0
Returning buffer pointer: 0x21fe6b90ba8 (aligned: true)
Created staging buffer at: 0x21fe6b90ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14988166476865734697), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90d68, alignment: 0
Returning buffer pointer: 0x21fe6b90d68 (aligned: true)
Created staging buffer at: 0x21fe6b90d68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc13000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16044698195111970859), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90de8, alignment: 0
Returning buffer pointer: 0x21fe6b90de8 (aligned: true)
Created staging buffer at: 0x21fe6b90de8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc15000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2124614905653889069), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-1.6e1,2.4e1] to [6.4e1,-8.0e0,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91f28, alignment: 0
Returning buffer pointer: 0x21fe6b91f28 (aligned: true)
Submitting readback 143 at frame 147 (will be ready at frame 150)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.7ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 148
Processing readbacks: 3 pending, completed_frame: 148, frames_in_flight: 3
Checking readback 141: submitted frame 145, current frame 148, 3 frames elapsed (need 3)
Readback 141 ready (submitted frame 145, current frame 148)
Checking readback 142: submitted frame 147, current frame 148, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 288/512 completed
Minichunk 289/512 completed
Minichunk 290/512 completed
Minichunk 291/512 completed
Minichunk 292/512 completed
Minichunk 293/512 completed
Minichunk 294/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 148
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 148, frames_in_flight: 3
Checking readback 142: submitted frame 147, current frame 148, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 28 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -64, 32] to [64, -56, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b924e8, alignment: 0
Returning buffer pointer: 0x21fe6b924e8 (aligned: true)
Created staging buffer at: 0x21fe6b924e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbec000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11701408462582843442), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c28, alignment: 0
Returning buffer pointer: 0x21fe6b91c28 (aligned: true)
Created staging buffer at: 0x21fe6b91c28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14716082428967913524), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91fa8, alignment: 0
Returning buffer pointer: 0x21fe6b91fa8 (aligned: true)
Created staging buffer at: 0x21fe6b91fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3382279186457561142), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91e68, alignment: 0
Returning buffer pointer: 0x21fe6b91e68 (aligned: true)
Created staging buffer at: 0x21fe6b91e68
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcd000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12947720285829728312), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,3.2e1] to [6.4e1,-5.6e1,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b921e8, alignment: 0
Returning buffer pointer: 0x21fe6b921e8 (aligned: true)
Submitting readback 144 at frame 148 (will be ready at frame 151)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.3ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 5)
DeferredReadbackManager: advanced to frame 149
Processing readbacks: 3 pending, completed_frame: 149, frames_in_flight: 3
Checking readback 142: submitted frame 147, current frame 149, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 149
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 149, frames_in_flight: 3
Checking readback 142: submitted frame 147, current frame 149, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 21.5ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 150
Processing readbacks: 3 pending, completed_frame: 150, frames_in_flight: 3
Checking readback 142: submitted frame 147, current frame 150, 3 frames elapsed (need 3)
Readback 142 ready (submitted frame 147, current frame 150)
Checking readback 143: submitted frame 147, current frame 150, 3 frames elapsed (need 3)
Readback 143 ready (submitted frame 147, current frame 150)
Checking readback 144: submitted frame 148, current frame 150, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 295/512 completed
Minichunk 296/512 completed
Minichunk 297/512 completed
Minichunk 298/512 completed
Minichunk 299/512 completed
Minichunk 300/512 completed
Minichunk 301/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 302/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 150
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 150, frames_in_flight: 3
Checking readback 144: submitted frame 148, current frame 150, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 1 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 1 minichunks in workspace 1
Overall bounds: [56, -32, 32] to [64, -24, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92468, alignment: 0
Returning buffer pointer: 0x21fe6b92468 (aligned: true)
Created staging buffer at: 0x21fe6b92468
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3613635124639303741), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92968, alignment: 0
Returning buffer pointer: 0x21fe6b92968 (aligned: true)
Created staging buffer at: 0x21fe6b92968
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4074829674956458047), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b922e8, alignment: 0
Returning buffer pointer: 0x21fe6b922e8 (aligned: true)
Created staging buffer at: 0x21fe6b922e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc16000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9302909608496465985), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ca8, alignment: 0
Returning buffer pointer: 0x21fe6b91ca8 (aligned: true)
Created staging buffer at: 0x21fe6b91ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1d000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2712241198537377859), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-3.2e1,3.2e1] to [6.4e1,-2.4e1,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91ce8, alignment: 0
Returning buffer pointer: 0x21fe6b91ce8 (aligned: true)
Submitting readback 145 at frame 150 (will be ready at frame 153)
Successfully queued 1 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 2
Overall bounds: [0, -24, 24] to [48, -16, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d28, alignment: 0
Returning buffer pointer: 0x21fe6b91d28 (aligned: true)
Created staging buffer at: 0x21fe6b91d28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5340066292340623432), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b925e8, alignment: 0
Returning buffer pointer: 0x21fe6b925e8 (aligned: true)
Created staging buffer at: 0x21fe6b925e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12453200637586311242), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91e28, alignment: 0
Returning buffer pointer: 0x21fe6b91e28 (aligned: true)
Created staging buffer at: 0x21fe6b91e28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc06000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1390800845276186700), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ea8, alignment: 0
Returning buffer pointer: 0x21fe6b91ea8 (aligned: true)
Created staging buffer at: 0x21fe6b91ea8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc07000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5073282990000310350), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-2.4e1,2.4e1] to [4.8e1,-1.6e1,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92a28, alignment: 0
Returning buffer pointer: 0x21fe6b92a28 (aligned: true)
Submitting readback 146 at frame 150 (will be ready at frame 153)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 2 remaining minichunks from batch
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.4ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 151
Processing readbacks: 3 pending, completed_frame: 151, frames_in_flight: 3
Checking readback 144: submitted frame 148, current frame 151, 3 frames elapsed (need 3)
Readback 144 ready (submitted frame 148, current frame 151)
Checking readback 145: submitted frame 150, current frame 151, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 303/512 completed
Minichunk 304/512 completed
Minichunk 305/512 completed
Minichunk 306/512 completed
Minichunk 307/512 completed
Minichunk 308/512 completed
Minichunk 309/512 completed
Minichunk 310/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 151
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 151, frames_in_flight: 3
Checking readback 145: submitted frame 150, current frame 151, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 26 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 1 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 0
Overall bounds: [56, -56, 32] to [64, -48, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d68, alignment: 0
Returning buffer pointer: 0x21fe6b91d68 (aligned: true)
Created staging buffer at: 0x21fe6b91d68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6804729030235916371), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ee8, alignment: 0
Returning buffer pointer: 0x21fe6b91ee8 (aligned: true)
Created staging buffer at: 0x21fe6b91ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(88135752570898517), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92768, alignment: 0
Returning buffer pointer: 0x21fe6b92768 (aligned: true)
Created staging buffer at: 0x21fe6b92768
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc14000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6449520803766601815), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92528, alignment: 0
Returning buffer pointer: 0x21fe6b92528 (aligned: true)
Created staging buffer at: 0x21fe6b92528
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab4000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6209332488678934617), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-5.6e1,3.2e1] to [6.4e1,-4.8e1,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91f28, alignment: 0
Returning buffer pointer: 0x21fe6b91f28 (aligned: true)
Submitting readback 147 at frame 151 (will be ready at frame 154)
Successfully queued 1 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.6ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 9)
DeferredReadbackManager: advanced to frame 152
Processing readbacks: 3 pending, completed_frame: 152, frames_in_flight: 3
Checking readback 145: submitted frame 150, current frame 152, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 152
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 152, frames_in_flight: 3
Checking readback 145: submitted frame 150, current frame 152, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 25 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 21.8ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 153
Processing readbacks: 3 pending, completed_frame: 153, frames_in_flight: 3
Checking readback 145: submitted frame 150, current frame 153, 3 frames elapsed (need 3)
Readback 145 ready (submitted frame 150, current frame 153)
Checking readback 146: submitted frame 150, current frame 153, 3 frames elapsed (need 3)
Readback 146 ready (submitted frame 150, current frame 153)
Checking readback 147: submitted frame 151, current frame 153, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (1 minichunks, 2048 bytes)
Minichunk 311/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (6 minichunks, 12288 bytes)
Minichunk 312/512 completed
Minichunk 313/512 completed
Minichunk 314/512 completed
Minichunk 315/512 completed
Minichunk 316/512 completed
Minichunk 317/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 153
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 153, frames_in_flight: 3
Checking readback 147: submitted frame 151, current frame 153, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 25 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [0, -32, 24] to [56, -24, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91fe8, alignment: 0
Returning buffer pointer: 0x21fe6b91fe8 (aligned: true)
Created staging buffer at: 0x21fe6b91fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc08000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7976753449863743582), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c68, alignment: 0
Returning buffer pointer: 0x21fe6b91c68 (aligned: true)
Created staging buffer at: 0x21fe6b91c68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc17000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7740791657473247328), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92028, alignment: 0
Returning buffer pointer: 0x21fe6b92028 (aligned: true)
Created staging buffer at: 0x21fe6b92028
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4919746086786041954), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92268, alignment: 0
Returning buffer pointer: 0x21fe6b92268 (aligned: true)
Created staging buffer at: 0x21fe6b92268
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd5000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7124682515872221284), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,2.4e1] to [5.6e1,-2.4e1,3.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b927a8, alignment: 0
Returning buffer pointer: 0x21fe6b927a8 (aligned: true)
Submitting readback 148 at frame 153 (will be ready at frame 156)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [56, -32, 24] to [64, -24, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92a28, alignment: 0
Returning buffer pointer: 0x21fe6b92a28 (aligned: true)
Created staging buffer at: 0x21fe6b92a28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9423615094505343081), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b921e8, alignment: 0
Returning buffer pointer: 0x21fe6b921e8 (aligned: true)
Created staging buffer at: 0x21fe6b921e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8781731201325992043), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b928a8, alignment: 0
Returning buffer pointer: 0x21fe6b928a8 (aligned: true)
Created staging buffer at: 0x21fe6b928a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8076189982944921709), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b922a8, alignment: 0
Returning buffer pointer: 0x21fe6b922a8 (aligned: true)
Created staging buffer at: 0x21fe6b922a8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1e000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9983325886671226991), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-3.2e1,2.4e1] to [6.4e1,-2.4e1,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92068, alignment: 0
Returning buffer pointer: 0x21fe6b92068 (aligned: true)
Submitting readback 149 at frame 153 (will be ready at frame 156)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.7ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 154
Processing readbacks: 3 pending, completed_frame: 154, frames_in_flight: 3
Checking readback 147: submitted frame 151, current frame 154, 3 frames elapsed (need 3)
Readback 147 ready (submitted frame 151, current frame 154)
Checking readback 148: submitted frame 153, current frame 154, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (1 minichunks, 2048 bytes)
Minichunk 318/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 154
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 154, frames_in_flight: 3
Checking readback 148: submitted frame 153, current frame 154, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -40, 24] to [64, -32, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b901e8, alignment: 0
Returning buffer pointer: 0x21fe6b901e8 (aligned: true)
Created staging buffer at: 0x21fe6b901e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7710801378314029172), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90228, alignment: 0
Returning buffer pointer: 0x21fe6b90228 (aligned: true)
Created staging buffer at: 0x21fe6b90228
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbed000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5163384669361670262), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90528, alignment: 0
Returning buffer pointer: 0x21fe6b90528 (aligned: true)
Created staging buffer at: 0x21fe6b90528
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbee000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7277333212714502264), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91168, alignment: 0
Returning buffer pointer: 0x21fe6b91168 (aligned: true)
Created staging buffer at: 0x21fe6b91168
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0e000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2145853072256010362), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.0e1,2.4e1] to [6.4e1,-3.2e1,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b918a8, alignment: 0
Returning buffer pointer: 0x21fe6b918a8 (aligned: true)
Submitting readback 150 at frame 154 (will be ready at frame 157)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.4ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 6)
DeferredReadbackManager: advanced to frame 155
Processing readbacks: 3 pending, completed_frame: 155, frames_in_flight: 3
Checking readback 148: submitted frame 153, current frame 155, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 155
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 155, frames_in_flight: 3
Checking readback 148: submitted frame 153, current frame 155, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 23 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 21.7ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 156
Processing readbacks: 3 pending, completed_frame: 156, frames_in_flight: 3
Checking readback 148: submitted frame 153, current frame 156, 3 frames elapsed (need 3)
Readback 148 ready (submitted frame 153, current frame 156)
Checking readback 149: submitted frame 153, current frame 156, 3 frames elapsed (need 3)
Readback 149 ready (submitted frame 153, current frame 156)
Checking readback 150: submitted frame 154, current frame 156, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 319/512 completed
Minichunk 320/512 completed
Minichunk 321/512 completed
Minichunk 322/512 completed
Minichunk 323/512 completed
Minichunk 324/512 completed
Minichunk 325/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 326/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 156
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 156, frames_in_flight: 3
Checking readback 150: submitted frame 154, current frame 156, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 23 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 1
Overall bounds: [0, -48, 24] to [48, -40, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92628, alignment: 0
Returning buffer pointer: 0x21fe6b92628 (aligned: true)
Created staging buffer at: 0x21fe6b92628
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6141914833710221439), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92068, alignment: 0
Returning buffer pointer: 0x21fe6b92068 (aligned: true)
Created staging buffer at: 0x21fe6b92068
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc19000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6230396932443867265), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ce8, alignment: 0
Returning buffer pointer: 0x21fe6b91ce8 (aligned: true)
Created staging buffer at: 0x21fe6b91ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(624191651576809603), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b926a8, alignment: 0
Returning buffer pointer: 0x21fe6b926a8 (aligned: true)
Created staging buffer at: 0x21fe6b926a8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf8000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12611148781451217029), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,2.4e1] to [4.8e1,-4.0e1,3.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b920e8, alignment: 0
Returning buffer pointer: 0x21fe6b920e8 (aligned: true)
Submitting readback 151 at frame 156 (will be ready at frame 159)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [48, -48, 24] to [64, -40, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b923a8, alignment: 0
Returning buffer pointer: 0x21fe6b923a8 (aligned: true)
Created staging buffer at: 0x21fe6b923a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc11000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5155049271711500426), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92568, alignment: 0
Returning buffer pointer: 0x21fe6b92568 (aligned: true)
Created staging buffer at: 0x21fe6b92568
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4187463646105831564), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92328, alignment: 0
Returning buffer pointer: 0x21fe6b92328 (aligned: true)
Created staging buffer at: 0x21fe6b92328
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbeb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13665379221860518030), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91f28, alignment: 0
Returning buffer pointer: 0x21fe6b91f28 (aligned: true)
Created staging buffer at: 0x21fe6b91f28
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0f000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4417784943845836944), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.8e1,-4.8e1,2.4e1] to [6.4e1,-4.0e1,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b925a8, alignment: 0
Returning buffer pointer: 0x21fe6b925a8 (aligned: true)
Submitting readback 152 at frame 156 (will be ready at frame 159)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.6ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 157
Processing readbacks: 3 pending, completed_frame: 157, frames_in_flight: 3
Checking readback 150: submitted frame 154, current frame 157, 3 frames elapsed (need 3)
Readback 150 ready (submitted frame 154, current frame 157)
Checking readback 151: submitted frame 156, current frame 157, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 327/512 completed
Minichunk 328/512 completed
Minichunk 329/512 completed
Minichunk 330/512 completed
Minichunk 331/512 completed
Minichunk 332/512 completed
Minichunk 333/512 completed
Minichunk 334/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 157
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 157, frames_in_flight: 3
Checking readback 151: submitted frame 156, current frame 157, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 22 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 2 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 0
Overall bounds: [48, -24, 24] to [64, -16, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b906a8, alignment: 0
Returning buffer pointer: 0x21fe6b906a8 (aligned: true)
Created staging buffer at: 0x21fe6b906a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc10000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3771582168992581781), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90428, alignment: 0
Returning buffer pointer: 0x21fe6b90428 (aligned: true)
Created staging buffer at: 0x21fe6b90428
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10002222093506185367), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b904e8, alignment: 0
Returning buffer pointer: 0x21fe6b904e8 (aligned: true)
Created staging buffer at: 0x21fe6b904e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3451232859170277529), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fc68, alignment: 0
Returning buffer pointer: 0x21fe6b8fc68 (aligned: true)
Created staging buffer at: 0x21fe6b8fc68
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf6000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14462056760044685467), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.8e1,-2.4e1,2.4e1] to [6.4e1,-1.6e1,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90928, alignment: 0
Returning buffer pointer: 0x21fe6b90928 (aligned: true)
Submitting readback 153 at frame 157 (will be ready at frame 160)
Successfully queued 2 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.8ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 10)
DeferredReadbackManager: advanced to frame 158
Processing readbacks: 3 pending, completed_frame: 158, frames_in_flight: 3
Checking readback 151: submitted frame 156, current frame 158, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 158
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 158, frames_in_flight: 3
Checking readback 151: submitted frame 156, current frame 158, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.1ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 159
Processing readbacks: 3 pending, completed_frame: 159, frames_in_flight: 3
Checking readback 151: submitted frame 156, current frame 159, 3 frames elapsed (need 3)
Readback 151 ready (submitted frame 156, current frame 159)
Checking readback 152: submitted frame 156, current frame 159, 3 frames elapsed (need 3)
Readback 152 ready (submitted frame 156, current frame 159)
Checking readback 153: submitted frame 157, current frame 159, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 335/512 completed
Minichunk 336/512 completed
Minichunk 337/512 completed
Minichunk 338/512 completed
Minichunk 339/512 completed
Minichunk 340/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 341/512 completed
Minichunk 342/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 159
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 159, frames_in_flight: 3
Checking readback 153: submitted frame 157, current frame 159, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [0, -56, 24] to [56, -48, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b929e8, alignment: 0
Returning buffer pointer: 0x21fe6b929e8 (aligned: true)
Created staging buffer at: 0x21fe6b929e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc01000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10969377810065393824), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b928e8, alignment: 0
Returning buffer pointer: 0x21fe6b928e8 (aligned: true)
Created staging buffer at: 0x21fe6b928e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfa000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1261778653314812066), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b923e8, alignment: 0
Returning buffer pointer: 0x21fe6b923e8 (aligned: true)
Created staging buffer at: 0x21fe6b923e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbce000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15936421588543473828), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920e8, alignment: 0
Returning buffer pointer: 0x21fe6b920e8 (aligned: true)
Created staging buffer at: 0x21fe6b920e8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc02000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16489464942198524070), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-5.6e1,2.4e1] to [5.6e1,-4.8e1,3.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92128, alignment: 0
Returning buffer pointer: 0x21fe6b92128 (aligned: true)
Submitting readback 154 at frame 159 (will be ready at frame 162)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [56, -56, 24] to [64, -48, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92168, alignment: 0
Returning buffer pointer: 0x21fe6b92168 (aligned: true)
Created staging buffer at: 0x21fe6b92168
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc12000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(931888881098295467), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b921a8, alignment: 0
Returning buffer pointer: 0x21fe6b921a8 (aligned: true)
Created staging buffer at: 0x21fe6b921a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17277112191383767213), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b929a8, alignment: 0
Returning buffer pointer: 0x21fe6b929a8 (aligned: true)
Created staging buffer at: 0x21fe6b929a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14650808821673363631), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92228, alignment: 0
Returning buffer pointer: 0x21fe6b92228 (aligned: true)
Created staging buffer at: 0x21fe6b92228
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd8000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17323209216378276017), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-5.6e1,2.4e1] to [6.4e1,-4.8e1,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92428, alignment: 0
Returning buffer pointer: 0x21fe6b92428 (aligned: true)
Submitting readback 155 at frame 159 (will be ready at frame 162)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.1ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 160
Processing readbacks: 3 pending, completed_frame: 160, frames_in_flight: 3
Checking readback 153: submitted frame 157, current frame 160, 3 frames elapsed (need 3)
Readback 153 ready (submitted frame 157, current frame 160)
Checking readback 154: submitted frame 159, current frame 160, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (2 minichunks, 4096 bytes)
Minichunk 343/512 completed
Minichunk 344/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 160
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 160, frames_in_flight: 3
Checking readback 154: submitted frame 159, current frame 160, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -64, 24] to [64, -56, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8ffe8, alignment: 0
Returning buffer pointer: 0x21fe6b8ffe8 (aligned: true)
Created staging buffer at: 0x21fe6b8ffe8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17321064069192485046), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90268, alignment: 0
Returning buffer pointer: 0x21fe6b90268 (aligned: true)
Created staging buffer at: 0x21fe6b90268
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17945179854466975928), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90028, alignment: 0
Returning buffer pointer: 0x21fe6b90028 (aligned: true)
Created staging buffer at: 0x21fe6b90028
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16354210718330915002), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90468, alignment: 0
Returning buffer pointer: 0x21fe6b90468 (aligned: true)
Created staging buffer at: 0x21fe6b90468
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd2000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9529179205888116924), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,2.4e1] to [6.4e1,-5.6e1,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fd68, alignment: 0
Returning buffer pointer: 0x21fe6b8fd68 (aligned: true)
Submitting readback 156 at frame 160 (will be ready at frame 163)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.1ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 8)
DeferredReadbackManager: advanced to frame 161
Processing readbacks: 3 pending, completed_frame: 161, frames_in_flight: 3
Checking readback 154: submitted frame 159, current frame 161, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 161
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 161, frames_in_flight: 3
Checking readback 154: submitted frame 159, current frame 161, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 19 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.3ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 162
Processing readbacks: 3 pending, completed_frame: 162, frames_in_flight: 3
Checking readback 154: submitted frame 159, current frame 162, 3 frames elapsed (need 3)
Readback 154 ready (submitted frame 159, current frame 162)
Checking readback 155: submitted frame 159, current frame 162, 3 frames elapsed (need 3)
Readback 155 ready (submitted frame 159, current frame 162)
Checking readback 156: submitted frame 160, current frame 162, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 345/512 completed
Minichunk 346/512 completed
Minichunk 347/512 completed
Minichunk 348/512 completed
Minichunk 349/512 completed
Minichunk 350/512 completed
Minichunk 351/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 352/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 162
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 162, frames_in_flight: 3
Checking readback 156: submitted frame 160, current frame 162, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 19 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [0, -8, 16] to [56, 0, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92868, alignment: 0
Returning buffer pointer: 0x21fe6b92868 (aligned: true)
Created staging buffer at: 0x21fe6b92868
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17268515109966186689), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b924a8, alignment: 0
Returning buffer pointer: 0x21fe6b924a8 (aligned: true)
Created staging buffer at: 0x21fe6b924a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14659310245579327683), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91de8, alignment: 0
Returning buffer pointer: 0x21fe6b91de8 (aligned: true)
Created staging buffer at: 0x21fe6b91de8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbde000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10829339611105331397), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92728, alignment: 0
Returning buffer pointer: 0x21fe6b92728 (aligned: true)
Created staging buffer at: 0x21fe6b92728
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbea000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1865467711568480455), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.0e0,1.6e1] to [5.6e1,0.0e0,2.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92428, alignment: 0
Returning buffer pointer: 0x21fe6b92428 (aligned: true)
Submitting readback 157 at frame 162 (will be ready at frame 165)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [56, -8, 16] to [64, 0, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b927a8, alignment: 0
Returning buffer pointer: 0x21fe6b927a8 (aligned: true)
Created staging buffer at: 0x21fe6b927a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15705425190664014028), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b925a8, alignment: 0
Returning buffer pointer: 0x21fe6b925a8 (aligned: true)
Created staging buffer at: 0x21fe6b925a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcf000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11577456118737144014), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b927e8, alignment: 0
Returning buffer pointer: 0x21fe6b927e8 (aligned: true)
Created staging buffer at: 0x21fe6b927e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc03000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(432905215646107856), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92828, alignment: 0
Returning buffer pointer: 0x21fe6b92828 (aligned: true)
Created staging buffer at: 0x21fe6b92828
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfb000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15246777109276788946), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-8.0e0,1.6e1] to [6.4e1,0.0e0,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b95ce8, alignment: 0
Returning buffer pointer: 0x21fe6b95ce8 (aligned: true)
Submitting readback 158 at frame 162 (will be ready at frame 165)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.5ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 163
Processing readbacks: 3 pending, completed_frame: 163, frames_in_flight: 3
Checking readback 156: submitted frame 160, current frame 163, 3 frames elapsed (need 3)
Readback 156 ready (submitted frame 160, current frame 163)
Checking readback 157: submitted frame 162, current frame 163, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 353/512 completed
Minichunk 354/512 completed
Minichunk 355/512 completed
Minichunk 356/512 completed
Minichunk 357/512 completed
Minichunk 358/512 completed
Minichunk 359/512 completed
Minichunk 360/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 163
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 163, frames_in_flight: 3
Checking readback 157: submitted frame 162, current frame 163, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -16, 16] to [64, -8, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90068, alignment: 0
Returning buffer pointer: 0x21fe6b90068 (aligned: true)
Created staging buffer at: 0x21fe6b90068
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12906975683439233239), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90568, alignment: 0
Returning buffer pointer: 0x21fe6b90568 (aligned: true)
Created staging buffer at: 0x21fe6b90568
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc00000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3794137550524778713), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90aa8, alignment: 0
Returning buffer pointer: 0x21fe6b90aa8 (aligned: true)
Created staging buffer at: 0x21fe6b90aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11947431885879118043), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fca8, alignment: 0
Returning buffer pointer: 0x21fe6b8fca8 (aligned: true)
Created staging buffer at: 0x21fe6b8fca8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe2000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13921347727830026461), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,1.6e1] to [6.4e1,-8.0e0,2.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b908e8, alignment: 0
Returning buffer pointer: 0x21fe6b908e8 (aligned: true)
Submitting readback 159 at frame 163 (will be ready at frame 166)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.1ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 6)
DeferredReadbackManager: advanced to frame 164
Processing readbacks: 3 pending, completed_frame: 164, frames_in_flight: 3
Checking readback 157: submitted frame 162, current frame 164, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 164
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 164, frames_in_flight: 3
Checking readback 157: submitted frame 162, current frame 164, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 17 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.2ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 165
Processing readbacks: 3 pending, completed_frame: 165, frames_in_flight: 3
Checking readback 157: submitted frame 162, current frame 165, 3 frames elapsed (need 3)
Readback 157 ready (submitted frame 162, current frame 165)
Checking readback 158: submitted frame 162, current frame 165, 3 frames elapsed (need 3)
Readback 158 ready (submitted frame 162, current frame 165)
Checking readback 159: submitted frame 163, current frame 165, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 361/512 completed
Minichunk 362/512 completed
Minichunk 363/512 completed
Minichunk 364/512 completed
Minichunk 365/512 completed
Minichunk 366/512 completed
Minichunk 367/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 368/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 165
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 165, frames_in_flight: 3
Checking readback 159: submitted frame 163, current frame 165, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 17 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 1
Overall bounds: [0, -24, 16] to [48, -16, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96b28, alignment: 0
Returning buffer pointer: 0x21fe6b96b28 (aligned: true)
Created staging buffer at: 0x21fe6b96b28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2399010126993295586), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96c28, alignment: 0
Returning buffer pointer: 0x21fe6b96c28 (aligned: true)
Created staging buffer at: 0x21fe6b96c28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9827779076201384164), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96b68, alignment: 0
Returning buffer pointer: 0x21fe6b96b68 (aligned: true)
Created staging buffer at: 0x21fe6b96b68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc04000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3726053591509633254), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96ca8, alignment: 0
Returning buffer pointer: 0x21fe6b96ca8 (aligned: true)
Created staging buffer at: 0x21fe6b96ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd6000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3246044198217976040), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-2.4e1,1.6e1] to [4.8e1,-1.6e1,2.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b905e8, alignment: 0
Returning buffer pointer: 0x21fe6b905e8 (aligned: true)
Submitting readback 160 at frame 165 (will be ready at frame 168)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [48, -24, 16] to [64, -16, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90628, alignment: 0
Returning buffer pointer: 0x21fe6b90628 (aligned: true)
Created staging buffer at: 0x21fe6b90628
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10846041192731248877), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b900a8, alignment: 0
Returning buffer pointer: 0x21fe6b900a8 (aligned: true)
Created staging buffer at: 0x21fe6b900a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2607130085945247983), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b906e8, alignment: 0
Returning buffer pointer: 0x21fe6b906e8 (aligned: true)
Created staging buffer at: 0x21fe6b906e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6723914925594380529), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90128, alignment: 0
Returning buffer pointer: 0x21fe6b90128 (aligned: true)
Created staging buffer at: 0x21fe6b90128
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf9000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11482533080887986419), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.8e1,-2.4e1,1.6e1] to [6.4e1,-1.6e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fd68, alignment: 0
Returning buffer pointer: 0x21fe6b8fd68 (aligned: true)
Submitting readback 161 at frame 165 (will be ready at frame 168)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.9ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 166
Processing readbacks: 3 pending, completed_frame: 166, frames_in_flight: 3
Checking readback 159: submitted frame 163, current frame 166, 3 frames elapsed (need 3)
Readback 159 ready (submitted frame 163, current frame 166)
Checking readback 160: submitted frame 165, current frame 166, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 369/512 completed
Minichunk 370/512 completed
Minichunk 371/512 completed
Minichunk 372/512 completed
Minichunk 373/512 completed
Minichunk 374/512 completed
Minichunk 375/512 completed
Minichunk 376/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 166
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 166, frames_in_flight: 3
Checking readback 160: submitted frame 165, current frame 166, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 0
Overall bounds: [0, -32, 16] to [56, -24, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fda8, alignment: 0
Returning buffer pointer: 0x21fe6b8fda8 (aligned: true)
Created staging buffer at: 0x21fe6b8fda8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc18000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1604077513762408696), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90768, alignment: 0
Returning buffer pointer: 0x21fe6b90768 (aligned: true)
Created staging buffer at: 0x21fe6b90768
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdf000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6040477189466491130), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fae8, alignment: 0
Returning buffer pointer: 0x21fe6b8fae8 (aligned: true)
Created staging buffer at: 0x21fe6b8fae8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7992253265280502012), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b909a8, alignment: 0
Returning buffer pointer: 0x21fe6b909a8 (aligned: true)
Created staging buffer at: 0x21fe6b909a8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccd000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(972973232581773566), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,1.6e1] to [5.6e1,-2.4e1,2.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90928, alignment: 0
Returning buffer pointer: 0x21fe6b90928 (aligned: true)
Submitting readback 162 at frame 166 (will be ready at frame 169)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.9ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 9)
DeferredReadbackManager: advanced to frame 167
Processing readbacks: 3 pending, completed_frame: 167, frames_in_flight: 3
Checking readback 160: submitted frame 165, current frame 167, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 167
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 167, frames_in_flight: 3
Checking readback 160: submitted frame 165, current frame 167, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.1ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 168
Processing readbacks: 3 pending, completed_frame: 168, frames_in_flight: 3
Checking readback 160: submitted frame 165, current frame 168, 3 frames elapsed (need 3)
Readback 160 ready (submitted frame 165, current frame 168)
Checking readback 161: submitted frame 165, current frame 168, 3 frames elapsed (need 3)
Readback 161 ready (submitted frame 165, current frame 168)
Checking readback 162: submitted frame 166, current frame 168, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 377/512 completed
Minichunk 378/512 completed
Minichunk 379/512 completed
Minichunk 380/512 completed
Minichunk 381/512 completed
Minichunk 382/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 383/512 completed
Minichunk 384/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 168
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 168, frames_in_flight: 3
Checking readback 162: submitted frame 166, current frame 168, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [0, -40, 16] to [56, -32, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b900e8, alignment: 0
Returning buffer pointer: 0x21fe6b900e8 (aligned: true)
Created staging buffer at: 0x21fe6b900e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecce000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7063904811623647491), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90728, alignment: 0
Returning buffer pointer: 0x21fe6b90728 (aligned: true)
Created staging buffer at: 0x21fe6b90728
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9040490267806796037), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fe28, alignment: 0
Returning buffer pointer: 0x21fe6b8fe28 (aligned: true)
Created staging buffer at: 0x21fe6b8fe28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9168629551931066631), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90868, alignment: 0
Returning buffer pointer: 0x21fe6b90868 (aligned: true)
Created staging buffer at: 0x21fe6b90868
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd8000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8343694564913056009), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.0e1,1.6e1] to [5.6e1,-3.2e1,2.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fba8, alignment: 0
Returning buffer pointer: 0x21fe6b8fba8 (aligned: true)
Submitting readback 163 at frame 168 (will be ready at frame 171)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [56, -40, 16] to [64, -32, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b905e8, alignment: 0
Returning buffer pointer: 0x21fe6b905e8 (aligned: true)
Created staging buffer at: 0x21fe6b905e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc09000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8354921678144276750), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b902e8, alignment: 0
Returning buffer pointer: 0x21fe6b902e8 (aligned: true)
Created staging buffer at: 0x21fe6b902e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7551334808891164944), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fd68, alignment: 0
Returning buffer pointer: 0x21fe6b8fd68 (aligned: true)
Created staging buffer at: 0x21fe6b8fd68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfe000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9322777783610378514), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fbe8, alignment: 0
Returning buffer pointer: 0x21fe6b8fbe8 (aligned: true)
Created staging buffer at: 0x21fe6b8fbe8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd3000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7646864777158854932), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-4.0e1,1.6e1] to [6.4e1,-3.2e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fe68, alignment: 0
Returning buffer pointer: 0x21fe6b8fe68 (aligned: true)
Submitting readback 164 at frame 168 (will be ready at frame 171)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.1ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 169
Processing readbacks: 3 pending, completed_frame: 169, frames_in_flight: 3
Checking readback 162: submitted frame 166, current frame 169, 3 frames elapsed (need 3)
Readback 162 ready (submitted frame 166, current frame 169)
Checking readback 163: submitted frame 168, current frame 169, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 385/512 completed
Minichunk 386/512 completed
Minichunk 387/512 completed
Minichunk 388/512 completed
Minichunk 389/512 completed
Minichunk 390/512 completed
Minichunk 391/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 169
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 169, frames_in_flight: 3
Checking readback 163: submitted frame 168, current frame 169, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -48, 16] to [64, -40, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b917e8, alignment: 0
Returning buffer pointer: 0x21fe6b917e8 (aligned: true)
Created staging buffer at: 0x21fe6b917e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6454979878998509849), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91a28, alignment: 0
Returning buffer pointer: 0x21fe6b91a28 (aligned: true)
Created staging buffer at: 0x21fe6b91a28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11465900768494618907), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b918a8, alignment: 0
Returning buffer pointer: 0x21fe6b918a8 (aligned: true)
Created staging buffer at: 0x21fe6b918a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1434782409898854685), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91628, alignment: 0
Returning buffer pointer: 0x21fe6b91628 (aligned: true)
Created staging buffer at: 0x21fe6b91628
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd2000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5057802965792852255), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,1.6e1] to [6.4e1,-4.0e1,2.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91a68, alignment: 0
Returning buffer pointer: 0x21fe6b91a68 (aligned: true)
Submitting readback 165 at frame 169 (will be ready at frame 172)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.2ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 9)
DeferredReadbackManager: advanced to frame 170
Processing readbacks: 3 pending, completed_frame: 170, frames_in_flight: 3
Checking readback 163: submitted frame 168, current frame 170, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 170
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 170, frames_in_flight: 3
Checking readback 163: submitted frame 168, current frame 170, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.4ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 171
Processing readbacks: 3 pending, completed_frame: 171, frames_in_flight: 3
Checking readback 163: submitted frame 168, current frame 171, 3 frames elapsed (need 3)
Readback 163 ready (submitted frame 168, current frame 171)
Checking readback 164: submitted frame 168, current frame 171, 3 frames elapsed (need 3)
Readback 164 ready (submitted frame 168, current frame 171)
Checking readback 165: submitted frame 169, current frame 171, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 392/512 completed
Minichunk 393/512 completed
Minichunk 394/512 completed
Minichunk 395/512 completed
Minichunk 396/512 completed
Minichunk 397/512 completed
Minichunk 398/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 399/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 171
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 171, frames_in_flight: 3
Checking readback 165: submitted frame 169, current frame 171, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [0, -56, 16] to [64, -48, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fde8, alignment: 0
Returning buffer pointer: 0x21fe6b8fde8 (aligned: true)
Created staging buffer at: 0x21fe6b8fde8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbff000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12585606026826352932), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fba8, alignment: 0
Returning buffer pointer: 0x21fe6b8fba8 (aligned: true)
Created staging buffer at: 0x21fe6b8fba8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccf000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(91158310035654950), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b907a8, alignment: 0
Returning buffer pointer: 0x21fe6b907a8 (aligned: true)
Created staging buffer at: 0x21fe6b907a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12122988708462856488), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fc28, alignment: 0
Returning buffer pointer: 0x21fe6b8fc28 (aligned: true)
Created staging buffer at: 0x21fe6b8fc28
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0b000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13183936065406241066), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-5.6e1,1.6e1] to [6.4e1,-4.8e1,2.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fe68, alignment: 0
Returning buffer pointer: 0x21fe6b8fe68 (aligned: true)
Submitting readback 166 at frame 171 (will be ready at frame 174)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [0, -64, 16] to [64, -56, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b907e8, alignment: 0
Returning buffer pointer: 0x21fe6b907e8 (aligned: true)
Created staging buffer at: 0x21fe6b907e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4531004954692815151), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90828, alignment: 0
Returning buffer pointer: 0x21fe6b90828 (aligned: true)
Created staging buffer at: 0x21fe6b90828
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc8000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13526538391063103793), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b908a8, alignment: 0
Returning buffer pointer: 0x21fe6b908a8 (aligned: true)
Created staging buffer at: 0x21fe6b908a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc9000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14127362122014787891), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b908e8, alignment: 0
Returning buffer pointer: 0x21fe6b908e8 (aligned: true)
Created staging buffer at: 0x21fe6b908e8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbca000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2496391672842160437), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,1.6e1] to [6.4e1,-5.6e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90928, alignment: 0
Returning buffer pointer: 0x21fe6b90928 (aligned: true)
Submitting readback 167 at frame 171 (will be ready at frame 174)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.5ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 172
Processing readbacks: 3 pending, completed_frame: 172, frames_in_flight: 3
Checking readback 165: submitted frame 169, current frame 172, 3 frames elapsed (need 3)
Readback 165 ready (submitted frame 169, current frame 172)
Checking readback 166: submitted frame 171, current frame 172, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 400/512 completed
Minichunk 401/512 completed
Minichunk 402/512 completed
Minichunk 403/512 completed
Minichunk 404/512 completed
Minichunk 405/512 completed
Minichunk 406/512 completed
Minichunk 407/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 172
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 172, frames_in_flight: 3
Checking readback 166: submitted frame 171, current frame 172, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -16, 8] to [64, -8, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90e68, alignment: 0
Returning buffer pointer: 0x21fe6b90e68 (aligned: true)
Created staging buffer at: 0x21fe6b90e68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10172596917788215610), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90fa8, alignment: 0
Returning buffer pointer: 0x21fe6b90fa8 (aligned: true)
Created staging buffer at: 0x21fe6b90fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3014021955989801276), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b912a8, alignment: 0
Returning buffer pointer: 0x21fe6b912a8 (aligned: true)
Created staging buffer at: 0x21fe6b912a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15048908996742220094), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b913e8, alignment: 0
Returning buffer pointer: 0x21fe6b913e8 (aligned: true)
Created staging buffer at: 0x21fe6b913e8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab6000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11182131111016794432), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,8.0e0] to [6.4e1,-8.0e0,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91128, alignment: 0
Returning buffer pointer: 0x21fe6b91128 (aligned: true)
Submitting readback 168 at frame 172 (will be ready at frame 175)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.7ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 11)
DeferredReadbackManager: advanced to frame 173
Processing readbacks: 3 pending, completed_frame: 173, frames_in_flight: 3
Checking readback 166: submitted frame 171, current frame 173, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 173
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 173, frames_in_flight: 3
Checking readback 166: submitted frame 171, current frame 173, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 11 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 174
Processing readbacks: 3 pending, completed_frame: 174, frames_in_flight: 3
Checking readback 166: submitted frame 171, current frame 174, 3 frames elapsed (need 3)
Readback 166 ready (submitted frame 171, current frame 174)
Checking readback 167: submitted frame 171, current frame 174, 3 frames elapsed (need 3)
Readback 167 ready (submitted frame 171, current frame 174)
Checking readback 168: submitted frame 172, current frame 174, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 408/512 completed
Minichunk 409/512 completed
Minichunk 410/512 completed
Minichunk 411/512 completed
Minichunk 412/512 completed
Minichunk 413/512 completed
Minichunk 414/512 completed
Minichunk 415/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 416/512 completed
Minichunk 417/512 completed
Minichunk 418/512 completed
Minichunk 419/512 completed
Minichunk 420/512 completed
Minichunk 421/512 completed
Minichunk 422/512 completed
Minichunk 423/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 174
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 174, frames_in_flight: 3
Checking readback 168: submitted frame 172, current frame 174, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 11 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 1 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 1 minichunks in workspace 1
Overall bounds: [56, -32, 16] to [64, -24, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90928, alignment: 0
Returning buffer pointer: 0x21fe6b90928 (aligned: true)
Created staging buffer at: 0x21fe6b90928
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc05000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1969766285067684165), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fe68, alignment: 0
Returning buffer pointer: 0x21fe6b8fe68 (aligned: true)
Created staging buffer at: 0x21fe6b8fe68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbef000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14298865045226916167), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90168, alignment: 0
Returning buffer pointer: 0x21fe6b90168 (aligned: true)
Created staging buffer at: 0x21fe6b90168
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbda000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16466989825015155017), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b901a8, alignment: 0
Returning buffer pointer: 0x21fe6b901a8 (aligned: true)
Created staging buffer at: 0x21fe6b901a8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1b000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1006767821973096779), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-3.2e1,1.6e1] to [6.4e1,-2.4e1,2.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90a28, alignment: 0
Returning buffer pointer: 0x21fe6b90a28 (aligned: true)
Submitting readback 169 at frame 174 (will be ready at frame 177)
Successfully queued 1 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [0, -24, 8] to [64, -16, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90a68, alignment: 0
Returning buffer pointer: 0x21fe6b90a68 (aligned: true)
Created staging buffer at: 0x21fe6b90a68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecda000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17721797574609865040), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fb28, alignment: 0
Returning buffer pointer: 0x21fe6b8fb28 (aligned: true)
Created staging buffer at: 0x21fe6b8fb28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17743033542188730706), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fb68, alignment: 0
Returning buffer pointer: 0x21fe6b8fb68 (aligned: true)
Created staging buffer at: 0x21fe6b8fb68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc15000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18108230831796390228), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91528, alignment: 0
Returning buffer pointer: 0x21fe6b91528 (aligned: true)
Created staging buffer at: 0x21fe6b91528
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc20000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18398662430226909526), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-2.4e1,8.0e0] to [6.4e1,-1.6e1,1.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b919a8, alignment: 0
Returning buffer pointer: 0x21fe6b919a8 (aligned: true)
Submitting readback 170 at frame 174 (will be ready at frame 177)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 175
Processing readbacks: 3 pending, completed_frame: 175, frames_in_flight: 3
Checking readback 168: submitted frame 172, current frame 175, 3 frames elapsed (need 3)
Readback 168 ready (submitted frame 172, current frame 175)
Checking readback 169: submitted frame 174, current frame 175, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 424/512 completed
Minichunk 425/512 completed
Minichunk 426/512 completed
Minichunk 427/512 completed
Minichunk 428/512 completed
Minichunk 429/512 completed
Minichunk 430/512 completed
Minichunk 431/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 175
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 175, frames_in_flight: 3
Checking readback 169: submitted frame 174, current frame 175, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -32, 8] to [64, -24, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b924e8, alignment: 0
Returning buffer pointer: 0x21fe6b924e8 (aligned: true)
Created staging buffer at: 0x21fe6b924e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdb000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13856822887953992027), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920a8, alignment: 0
Returning buffer pointer: 0x21fe6b920a8 (aligned: true)
Created staging buffer at: 0x21fe6b920a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16926529610332506461), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91b68, alignment: 0
Returning buffer pointer: 0x21fe6b91b68 (aligned: true)
Created staging buffer at: 0x21fe6b91b68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbec000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10167209310812113247), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91da8, alignment: 0
Returning buffer pointer: 0x21fe6b91da8 (aligned: true)
Created staging buffer at: 0x21fe6b91da8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd4000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14741047939988195681), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,8.0e0] to [6.4e1,-2.4e1,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92928, alignment: 0
Returning buffer pointer: 0x21fe6b92928 (aligned: true)
Submitting readback 171 at frame 175 (will be ready at frame 178)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.5ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 7)
DeferredReadbackManager: advanced to frame 176
Processing readbacks: 3 pending, completed_frame: 176, frames_in_flight: 3
Checking readback 169: submitted frame 174, current frame 176, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 176
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 176, frames_in_flight: 3
Checking readback 169: submitted frame 174, current frame 176, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 8 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.7ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 177
Processing readbacks: 3 pending, completed_frame: 177, frames_in_flight: 3
Checking readback 169: submitted frame 174, current frame 177, 3 frames elapsed (need 3)
Readback 169 ready (submitted frame 174, current frame 177)
Checking readback 170: submitted frame 174, current frame 177, 3 frames elapsed (need 3)
Readback 170 ready (submitted frame 174, current frame 177)
Checking readback 171: submitted frame 175, current frame 177, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (1 minichunks, 2048 bytes)
Minichunk 432/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 433/512 completed
Minichunk 434/512 completed
Minichunk 435/512 completed
Minichunk 436/512 completed
Minichunk 437/512 completed
Minichunk 438/512 completed
Minichunk 439/512 completed
Minichunk 440/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 177
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 177, frames_in_flight: 3
Checking readback 171: submitted frame 175, current frame 177, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 8 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [0, -40, 8] to [64, -32, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90d68, alignment: 0
Returning buffer pointer: 0x21fe6b90d68 (aligned: true)
Created staging buffer at: 0x21fe6b90d68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc16000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15284405695714167142), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ca8, alignment: 0
Returning buffer pointer: 0x21fe6b90ca8 (aligned: true)
Created staging buffer at: 0x21fe6b90ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11199256004619405672), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ee8, alignment: 0
Returning buffer pointer: 0x21fe6b90ee8 (aligned: true)
Created staging buffer at: 0x21fe6b90ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16083060155805075818), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b919a8, alignment: 0
Returning buffer pointer: 0x21fe6b919a8 (aligned: true)
Created staging buffer at: 0x21fe6b919a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0d000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15634320873207368044), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.0e1,8.0e0] to [6.4e1,-3.2e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91a68, alignment: 0
Returning buffer pointer: 0x21fe6b91a68 (aligned: true)
Submitting readback 172 at frame 177 (will be ready at frame 180)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [0, -48, 8] to [64, -40, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b914a8, alignment: 0
Returning buffer pointer: 0x21fe6b914a8 (aligned: true)
Created staging buffer at: 0x21fe6b914a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc06000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12160191783900285297), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90de8, alignment: 0
Returning buffer pointer: 0x21fe6b90de8 (aligned: true)
Created staging buffer at: 0x21fe6b90de8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1242918730363570547), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91668, alignment: 0
Returning buffer pointer: 0x21fe6b91668 (aligned: true)
Created staging buffer at: 0x21fe6b91668
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc13000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14804512850655054197), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90fe8, alignment: 0
Returning buffer pointer: 0x21fe6b90fe8 (aligned: true)
Created staging buffer at: 0x21fe6b90fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdc000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11818025964359649655), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,8.0e0] to [6.4e1,-4.0e1,1.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90ea8, alignment: 0
Returning buffer pointer: 0x21fe6b90ea8 (aligned: true)
Submitting readback 173 at frame 177 (will be ready at frame 180)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 178
Processing readbacks: 3 pending, completed_frame: 178, frames_in_flight: 3
Checking readback 171: submitted frame 175, current frame 178, 3 frames elapsed (need 3)
Readback 171 ready (submitted frame 175, current frame 178)
Checking readback 172: submitted frame 177, current frame 178, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 441/512 completed
Minichunk 442/512 completed
Minichunk 443/512 completed
Minichunk 444/512 completed
Minichunk 445/512 completed
Minichunk 446/512 completed
Minichunk 447/512 completed
Minichunk 448/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 178

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: 0.0°, Pitch: 0.0°, Roll: -45.6°]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 178, frames_in_flight: 3
Checking readback 172: submitted frame 177, current frame 178, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -56, 8] to [64, -48, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92768, alignment: 0
Returning buffer pointer: 0x21fe6b92768 (aligned: true)
Created staging buffer at: 0x21fe6b92768
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4362223322759432572), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b925e8, alignment: 0
Returning buffer pointer: 0x21fe6b925e8 (aligned: true)
Created staging buffer at: 0x21fe6b925e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13767549140848347518), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92128, alignment: 0
Returning buffer pointer: 0x21fe6b92128 (aligned: true)
Created staging buffer at: 0x21fe6b92128
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13464116916931004800), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d68, alignment: 0
Returning buffer pointer: 0x21fe6b91d68 (aligned: true)
Created staging buffer at: 0x21fe6b91d68
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc14000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3478015862911273346), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-5.6e1,8.0e0] to [6.4e1,-4.8e1,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92968, alignment: 0
Returning buffer pointer: 0x21fe6b92968 (aligned: true)
Submitting readback 174 at frame 178 (will be ready at frame 181)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.8ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 8)
DeferredReadbackManager: advanced to frame 179
Processing readbacks: 3 pending, completed_frame: 179, frames_in_flight: 3
Checking readback 172: submitted frame 177, current frame 179, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 179

Region Loading Status:
  Camera region: RegionId(0, -1, 0)
  View distance: 1 regions
  Loaded regions: 1
  Pending generations: 2
  Active chunks: 1
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 179, frames_in_flight: 3
Checking readback 172: submitted frame 177, current frame 179, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 5 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.9ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 180
Processing readbacks: 3 pending, completed_frame: 180, frames_in_flight: 3
Checking readback 172: submitted frame 177, current frame 180, 3 frames elapsed (need 3)
Readback 172 ready (submitted frame 177, current frame 180)
Checking readback 173: submitted frame 177, current frame 180, 3 frames elapsed (need 3)
Readback 173 ready (submitted frame 177, current frame 180)
Checking readback 174: submitted frame 178, current frame 180, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 449/512 completed
Minichunk 450/512 completed
Minichunk 451/512 completed
Minichunk 452/512 completed
Minichunk 453/512 completed
Minichunk 454/512 completed
Minichunk 455/512 completed
Minichunk 456/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 457/512 completed
Minichunk 458/512 completed
Minichunk 459/512 completed
Minichunk 460/512 completed
Minichunk 461/512 completed
Minichunk 462/512 completed
Minichunk 463/512 completed
Minichunk 464/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 180
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 180, frames_in_flight: 3
Checking readback 174: submitted frame 178, current frame 180, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 5 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [0, -16, 0] to [56, -8, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91428, alignment: 0
Returning buffer pointer: 0x21fe6b91428 (aligned: true)
Created staging buffer at: 0x21fe6b91428
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12780089842570627463), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b916a8, alignment: 0
Returning buffer pointer: 0x21fe6b916a8 (aligned: true)
Created staging buffer at: 0x21fe6b916a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1e000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5284488178579802505), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91a68, alignment: 0
Returning buffer pointer: 0x21fe6b91a68 (aligned: true)
Created staging buffer at: 0x21fe6b91a68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc17000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2459111631590787467), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91aa8, alignment: 0
Returning buffer pointer: 0x21fe6b91aa8 (aligned: true)
Created staging buffer at: 0x21fe6b91aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdd000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9797944927693310349), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.6e1,0.0e0] to [5.6e1,-8.0e0,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90ae8, alignment: 0
Returning buffer pointer: 0x21fe6b90ae8 (aligned: true)
Submitting readback 175 at frame 180 (will be ready at frame 183)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [56, -16, 0] to [64, -8, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ba8, alignment: 0
Returning buffer pointer: 0x21fe6b90ba8 (aligned: true)
Created staging buffer at: 0x21fe6b90ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6913539999455512978), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ea8, alignment: 0
Returning buffer pointer: 0x21fe6b90ea8 (aligned: true)
Created staging buffer at: 0x21fe6b90ea8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6682095000831920532), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91e68, alignment: 0
Returning buffer pointer: 0x21fe6b91e68 (aligned: true)
Created staging buffer at: 0x21fe6b91e68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc07000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10843242935638559126), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92928, alignment: 0
Returning buffer pointer: 0x21fe6b92928 (aligned: true)
Created staging buffer at: 0x21fe6b92928
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc08000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7616006983325321624), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-1.6e1,0.0e0] to [6.4e1,-8.0e0,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91ea8, alignment: 0
Returning buffer pointer: 0x21fe6b91ea8 (aligned: true)
Submitting readback 176 at frame 180 (will be ready at frame 183)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.5ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 181
Processing readbacks: 3 pending, completed_frame: 181, frames_in_flight: 3
Checking readback 174: submitted frame 178, current frame 181, 3 frames elapsed (need 3)
Readback 174 ready (submitted frame 178, current frame 181)
Checking readback 175: submitted frame 180, current frame 181, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 465/512 completed
Minichunk 466/512 completed
Minichunk 467/512 completed
Minichunk 468/512 completed
Minichunk 469/512 completed
Minichunk 470/512 completed
Minichunk 471/512 completed
Minichunk 472/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 181
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 181, frames_in_flight: 3
Checking readback 175: submitted frame 180, current frame 181, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -64, 8] to [64, -56, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ba8, alignment: 0
Returning buffer pointer: 0x21fe6b91ba8 (aligned: true)
Created staging buffer at: 0x21fe6b91ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5276489231487732125), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92628, alignment: 0
Returning buffer pointer: 0x21fe6b92628 (aligned: true)
Created staging buffer at: 0x21fe6b92628
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6975909796541106591), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91be8, alignment: 0
Returning buffer pointer: 0x21fe6b91be8 (aligned: true)
Created staging buffer at: 0x21fe6b91be8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(564919178746661281), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92268, alignment: 0
Returning buffer pointer: 0x21fe6b92268 (aligned: true)
Created staging buffer at: 0x21fe6b92268
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0e000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8294905935453751715), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-6.4e1,8.0e0] to [6.4e1,-5.6e1,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b922a8, alignment: 0
Returning buffer pointer: 0x21fe6b922a8 (aligned: true)
Submitting readback 177 at frame 181 (will be ready at frame 184)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.1ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 5)
DeferredReadbackManager: advanced to frame 182
Processing readbacks: 3 pending, completed_frame: 182, frames_in_flight: 3
Checking readback 175: submitted frame 180, current frame 182, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 182
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 182, frames_in_flight: 3
Checking readback 175: submitted frame 180, current frame 182, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.2ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 183
Processing readbacks: 3 pending, completed_frame: 183, frames_in_flight: 3
Checking readback 175: submitted frame 180, current frame 183, 3 frames elapsed (need 3)
Readback 175 ready (submitted frame 180, current frame 183)
Checking readback 176: submitted frame 180, current frame 183, 3 frames elapsed (need 3)
Readback 176 ready (submitted frame 180, current frame 183)
Checking readback 177: submitted frame 181, current frame 183, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 473/512 completed
Minichunk 474/512 completed
Minichunk 475/512 completed
Minichunk 476/512 completed
Minichunk 477/512 completed
Minichunk 478/512 completed
Minichunk 479/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 480/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 183
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 183, frames_in_flight: 3
Checking readback 177: submitted frame 181, current frame 183, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 1
Overall bounds: [0, -24, 0] to [48, -16, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c68, alignment: 0
Returning buffer pointer: 0x21fe6b91c68 (aligned: true)
Created staging buffer at: 0x21fe6b91c68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc11000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8315066580660652456), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d28, alignment: 0
Returning buffer pointer: 0x21fe6b91d28 (aligned: true)
Created staging buffer at: 0x21fe6b91d28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8366420370747558314), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b923a8, alignment: 0
Returning buffer pointer: 0x21fe6b923a8 (aligned: true)
Created staging buffer at: 0x21fe6b923a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc19000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7318500027570063788), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91e28, alignment: 0
Returning buffer pointer: 0x21fe6b91e28 (aligned: true)
Created staging buffer at: 0x21fe6b91e28
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbeb000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4820640506704824750), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-2.4e1,0.0e0] to [4.8e1,-1.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92428, alignment: 0
Returning buffer pointer: 0x21fe6b92428 (aligned: true)
Submitting readback 178 at frame 183 (will be ready at frame 186)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [48, -24, 0] to [64, -16, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ca8, alignment: 0
Returning buffer pointer: 0x21fe6b91ca8 (aligned: true)
Created staging buffer at: 0x21fe6b91ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbed000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7128633061150820787), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b928a8, alignment: 0
Returning buffer pointer: 0x21fe6b928a8 (aligned: true)
Created staging buffer at: 0x21fe6b928a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10967514137856313781), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91fe8, alignment: 0
Returning buffer pointer: 0x21fe6b91fe8 (aligned: true)
Created staging buffer at: 0x21fe6b91fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0f000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6016477049655396791), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ea8, alignment: 0
Returning buffer pointer: 0x21fe6b91ea8 (aligned: true)
Created staging buffer at: 0x21fe6b91ea8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbee000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6818471826071488953), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.8e1,-2.4e1,0.0e0] to [6.4e1,-1.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b922e8, alignment: 0
Returning buffer pointer: 0x21fe6b922e8 (aligned: true)
Submitting readback 179 at frame 183 (will be ready at frame 186)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.0ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 184
Processing readbacks: 3 pending, completed_frame: 184, frames_in_flight: 3
Checking readback 177: submitted frame 181, current frame 184, 3 frames elapsed (need 3)
Readback 177 ready (submitted frame 181, current frame 184)
Checking readback 178: submitted frame 183, current frame 184, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 481/512 completed
Minichunk 482/512 completed
Minichunk 483/512 completed
Minichunk 484/512 completed
Minichunk 485/512 completed
Minichunk 486/512 completed
Minichunk 487/512 completed
Minichunk 488/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 184
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 184, frames_in_flight: 3
Checking readback 178: submitted frame 183, current frame 184, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 0
Overall bounds: [0, -48, 0] to [56, -40, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91fa8, alignment: 0
Returning buffer pointer: 0x21fe6b91fa8 (aligned: true)
Created staging buffer at: 0x21fe6b91fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10824941564594227646), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92528, alignment: 0
Returning buffer pointer: 0x21fe6b92528 (aligned: true)
Created staging buffer at: 0x21fe6b92528
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2734358974441720256), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c28, alignment: 0
Returning buffer pointer: 0x21fe6b91c28 (aligned: true)
Created staging buffer at: 0x21fe6b91c28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc10000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5549602422269151682), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b921e8, alignment: 0
Returning buffer pointer: 0x21fe6b921e8 (aligned: true)
Created staging buffer at: 0x21fe6b921e8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf6000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12654446449841408452), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-4.8e1,0.0e0] to [5.6e1,-4.0e1,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b922a8, alignment: 0
Returning buffer pointer: 0x21fe6b922a8 (aligned: true)
Submitting readback 180 at frame 184 (will be ready at frame 187)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.2ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 10)
DeferredReadbackManager: advanced to frame 185
Processing readbacks: 3 pending, completed_frame: 185, frames_in_flight: 3
Checking readback 178: submitted frame 183, current frame 185, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 185
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 185, frames_in_flight: 3
Checking readback 178: submitted frame 183, current frame 185, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.3ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 186
Processing readbacks: 3 pending, completed_frame: 186, frames_in_flight: 3
Checking readback 178: submitted frame 183, current frame 186, 3 frames elapsed (need 3)
Readback 178 ready (submitted frame 183, current frame 186)
Checking readback 179: submitted frame 183, current frame 186, 3 frames elapsed (need 3)
Readback 179 ready (submitted frame 183, current frame 186)
Checking readback 180: submitted frame 184, current frame 186, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 489/512 completed
Minichunk 490/512 completed
Minichunk 491/512 completed
Minichunk 492/512 completed
Minichunk 493/512 completed
Minichunk 494/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 495/512 completed
Minichunk 496/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 186
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 186, frames_in_flight: 3
Checking readback 180: submitted frame 184, current frame 186, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [0, -32, 0] to [56, -24, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92968, alignment: 0
Returning buffer pointer: 0x21fe6b92968 (aligned: true)
Created staging buffer at: 0x21fe6b92968
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfa000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3896182125187041737), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b926a8, alignment: 0
Returning buffer pointer: 0x21fe6b926a8 (aligned: true)
Created staging buffer at: 0x21fe6b926a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbce000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12923157196065212875), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ee8, alignment: 0
Returning buffer pointer: 0x21fe6b91ee8 (aligned: true)
Created staging buffer at: 0x21fe6b91ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc12000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13314479981460457933), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92468, alignment: 0
Returning buffer pointer: 0x21fe6b92468 (aligned: true)
Created staging buffer at: 0x21fe6b92468
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe3000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4462428414468426191), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-3.2e1,0.0e0] to [5.6e1,-2.4e1,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91ce8, alignment: 0
Returning buffer pointer: 0x21fe6b91ce8 (aligned: true)
Submitting readback 181 at frame 186 (will be ready at frame 189)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [56, -32, 0] to [64, -24, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92568, alignment: 0
Returning buffer pointer: 0x21fe6b92568 (aligned: true)
Created staging buffer at: 0x21fe6b92568
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11661455508564347348), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91f28, alignment: 0
Returning buffer pointer: 0x21fe6b91f28 (aligned: true)
Created staging buffer at: 0x21fe6b91f28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd8000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14781572640053135830), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92368, alignment: 0
Returning buffer pointer: 0x21fe6b92368 (aligned: true)
Created staging buffer at: 0x21fe6b92368
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc01000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3421394312615692760), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b929a8, alignment: 0
Returning buffer pointer: 0x21fe6b929a8 (aligned: true)
Created staging buffer at: 0x21fe6b929a8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc02000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10534216396559092186), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-3.2e1,0.0e0] to [6.4e1,-2.4e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91f68, alignment: 0
Returning buffer pointer: 0x21fe6b91f68 (aligned: true)
Submitting readback 182 at frame 186 (will be ready at frame 189)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.0ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 187
Processing readbacks: 3 pending, completed_frame: 187, frames_in_flight: 3
Checking readback 180: submitted frame 184, current frame 187, 3 frames elapsed (need 3)
Readback 180 ready (submitted frame 184, current frame 187)
Checking readback 181: submitted frame 186, current frame 187, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 497/512 completed
Minichunk 498/512 completed
Minichunk 499/512 completed
Minichunk 500/512 completed
Minichunk 501/512 completed
Minichunk 502/512 completed
Minichunk 503/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 187
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 187, frames_in_flight: 3
Checking readback 181: submitted frame 186, current frame 187, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -1, 0) with 1 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 0
Overall bounds: [56, -48, 0] to [64, -40, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b929e8, alignment: 0
Returning buffer pointer: 0x21fe6b929e8 (aligned: true)
Created staging buffer at: 0x21fe6b929e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15256405532601223647), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920e8, alignment: 0
Returning buffer pointer: 0x21fe6b920e8 (aligned: true)
Created staging buffer at: 0x21fe6b920e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16061843979435510241), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92028, alignment: 0
Returning buffer pointer: 0x21fe6b92028 (aligned: true)
Created staging buffer at: 0x21fe6b92028
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe9000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9353730135443900899), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92168, alignment: 0
Returning buffer pointer: 0x21fe6b92168 (aligned: true)
Created staging buffer at: 0x21fe6b92168
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbea000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15733850864776907237), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [5.6e1,-4.8e1,0.0e0] to [6.4e1,-4.0e1,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91de8, alignment: 0
Returning buffer pointer: 0x21fe6b91de8 (aligned: true)
Submitting readback 183 at frame 187 (will be ready at frame 190)
Successfully queued 1 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.8ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 7)
DeferredReadbackManager: advanced to frame 188
Processing readbacks: 3 pending, completed_frame: 188, frames_in_flight: 3
Checking readback 181: submitted frame 186, current frame 188, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 188
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 188, frames_in_flight: 3
Checking readback 181: submitted frame 186, current frame 188, 2 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.0ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 189
Processing readbacks: 3 pending, completed_frame: 189, frames_in_flight: 3
Checking readback 181: submitted frame 186, current frame 189, 3 frames elapsed (need 3)
Readback 181 ready (submitted frame 186, current frame 189)
Checking readback 182: submitted frame 186, current frame 189, 3 frames elapsed (need 3)
Readback 182 ready (submitted frame 186, current frame 189)
Checking readback 183: submitted frame 187, current frame 189, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 504/512 completed
Minichunk 505/512 completed
Minichunk 506/512 completed
Minichunk 507/512 completed
Minichunk 508/512 completed
Minichunk 509/512 completed
Minichunk 510/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 511/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 189
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 189, frames_in_flight: 3
Checking readback 183: submitted frame 187, current frame 189, 2 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 18.7ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 4)
DeferredReadbackManager: advanced to frame 190
Processing readbacks: 1 pending, completed_frame: 190, frames_in_flight: 3
Checking readback 183: submitted frame 187, current frame 190, 3 frames elapsed (need 3)
Readback 183 ready (submitted frame 187, current frame 190)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (1 minichunks, 2048 bytes)
Minichunk 512/512 completed
Chunk ChunkId(0, -1, 0) complete! All 512 minichunks processed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 3/3
GPU generation completed successfully
GPU generation completed successfully. Voxel count: 262144
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 15.8ms (target: 10.0ms), Workgroups: 4 -> 4 (PID: 4)
DeferredReadbackManager: advanced to frame 191
Processing 0 completed readbacks
Begin frame called - current_frame: 1, image_acquired: false
Non-empty voxels: 0
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 12.9ms (target: 10.0ms), Workgroups: 4 -> 4 (PID: 4)
DeferredReadbackManager: advanced to frame 192
Processing 0 completed readbacks
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
GPU pipeline worker: Processing request 17 with priority 19
GPU generation thread spawned for bounds: [-64.0,-64.0,0.0] to [0.0,0.0,64.0]
GPU generation: starting for 262144 voxels
GPU generation: waiting for result...
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing 0 completed readbacks
Main thread: Execute GPU worldgen for bounds [-64.0,-64.0,0.0] to [0.0,0.0,64.0]
Processing chunk ChunkId(-1, -1, 0) as minichunks
Creating ChunkAccumulator: 262144 voxels, 512 minichunks (8 per axis)
Queuing 512 minichunks for chunk ChunkId(-1, -1, 0)
Processing 512 minichunks in 64 batches of up to 8 each (frames_in_flight: 3)
PID controller: Processing 4 minichunks per workspace (workgroup budget: 4)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 2/3
Processing 4 minichunks in workspace 1
Overall bounds: [-64, -64, 0] to [-32, -56, 8]
renderer_buffer_write called - buffer: anyopaquequeue_generation_blocking returned: true
@21fe6b973a8, size: Async generation completed for chunk ChunkId(0, -1, 0)
48, offset: Sending result for chunk ChunkId(0, -1, 0) through channel
0
Buffer pointer is not null, casting to GpuBuffer
Result sent successfully for chunk ChunkId(0, -1, 0)
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b968a8, alignment: 0
Returning buffer pointer: 0x21fe6b968a8 (aligned: true)
Created staging buffer at: 0x21fe6b968a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfd000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14501934947272493546), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96a68, alignment: 0
Returning buffer pointer: 0x21fe6b96a68 (aligned: true)
Created staging buffer at: 0x21fe6b96a68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcf000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17246762371922266604), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b95ce8, alignment: 0
Returning buffer pointer: 0x21fe6b95ce8 (aligned: true)
Created staging buffer at: 0x21fe6b95ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc03000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17010831365857348078), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90428, alignment: 0
Returning buffer pointer: 0x21fe6b90428 (aligned: true)
Created staging buffer at: 0x21fe6b90428
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd4000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14307323588179397104), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,0.0e0] to [-3.2e1,-5.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fc68, alignment: 0
Returning buffer pointer: 0x21fe6b8fc68 (aligned: true)
Submitting readback 184 at frame 192 (will be ready at frame 195)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 4 minichunks in workspace 2
Overall bounds: [-32, -64, 0] to [0, -56, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90a28, alignment: 0
Returning buffer pointer: 0x21fe6b90a28 (aligned: true)
Created staging buffer at: 0x21fe6b90a28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfb000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18376179616462146037), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8ffe8, alignment: 0
Returning buffer pointer: 0x21fe6b8ffe8 (aligned: true)
Created staging buffer at: 0x21fe6b8ffe8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(121206863311145463), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90028, alignment: 0
Returning buffer pointer: 0x21fe6b90028 (aligned: true)
Created staging buffer at: 0x21fe6b90028
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17904142781983492601), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b901e8, alignment: 0
Returning buffer pointer: 0x21fe6b901e8 (aligned: true)
Created staging buffer at: 0x21fe6b901e8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbde000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17816795379249711611), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-3.2e1,-6.4e1,0.0e0] to [0.0e0,-5.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90468, alignment: 0
Returning buffer pointer: 0x21fe6b90468 (aligned: true)
Submitting readback 185 at frame 192 (will be ready at frame 195)
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 19.0ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 16)
DeferredReadbackManager: advanced to frame 193
Processing readbacks: 2 pending, completed_frame: 193, frames_in_flight: 3
Checking readback 184: submitted frame 192, current frame 193, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 193
Received generation result for region RegionId(0, -1, 0)
Processing single chunk workspace for chunk ChunkId(0, -1, 0)
Chunk ChunkId(0, -1, 0) has 0 non-empty voxels out of 262144
Extracted 1 chunks from region RegionId(0, -1, 0)
  Chunk ChunkId(0, -1, 0): palette size 1, 32768 bytes compressed
Creating generation params for region RegionId(0, -1, 0)
Region RegionId(0, -1, 0) world bounds: min=[0,-256,0] max=[256,0,256]
Creating plane SDF with normal [0, 0, 1] and distance 0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 193, frames_in_flight: 3
Checking readback 184: submitted frame 192, current frame 193, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 63 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 0
Overall bounds: [-64, -56, 0] to [-24, -48, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96b68, alignment: 0
Returning buffer pointer: 0x21fe6b96b68 (aligned: true)
Created staging buffer at: 0x21fe6b96b68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17236861269714143744), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96c28, alignment: 0
Returning buffer pointer: 0x21fe6b96c28 (aligned: true)
Created staging buffer at: 0x21fe6b96c28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc00000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17004712583648774658), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96ca8, alignment: 0
Returning buffer pointer: 0x21fe6b96ca8 (aligned: true)
Created staging buffer at: 0x21fe6b96ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc04000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14168999527847037444), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90aa8, alignment: 0
Returning buffer pointer: 0x21fe6b90aa8 (aligned: true)
Created staging buffer at: 0x21fe6b90aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf3000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16503972998127028742), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-5.6e1,0.0e0] to [-2.4e1,-4.8e1,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b904e8, alignment: 0
Returning buffer pointer: 0x21fe6b904e8 (aligned: true)
Submitting readback 186 at frame 193 (will be ready at frame 196)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 42.0ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 16)
DeferredReadbackManager: advanced to frame 194
Processing readbacks: 3 pending, completed_frame: 194, frames_in_flight: 3
Checking readback 184: submitted frame 192, current frame 194, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 194
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 194, frames_in_flight: 3
Checking readback 184: submitted frame 192, current frame 194, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 63 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 37.0ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 4)
DeferredReadbackManager: advanced to frame 195
Processing readbacks: 3 pending, completed_frame: 195, frames_in_flight: 3
Checking readback 184: submitted frame 192, current frame 195, 3 frames elapsed (need 3)
Readback 184 ready (submitted frame 192, current frame 195)
Checking readback 185: submitted frame 192, current frame 195, 3 frames elapsed (need 3)
Readback 185 ready (submitted frame 192, current frame 195)
Checking readback 186: submitted frame 193, current frame 195, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (4 minichunks, 8192 bytes)
Minichunk 1/512 completed
Minichunk 2/512 completed
Minichunk 3/512 completed
Minichunk 4/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (4 minichunks, 8192 bytes)
Minichunk 5/512 completed
Minichunk 6/512 completed
Minichunk 7/512 completed
Minichunk 8/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 195
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 195, frames_in_flight: 3
Checking readback 186: submitted frame 193, current frame 195, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 63 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 5 minichunks in workspace 1
Overall bounds: [-64, -40, 0] to [-24, -32, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fca8, alignment: 0
Returning buffer pointer: 0x21fe6b8fca8 (aligned: true)
Created staging buffer at: 0x21fe6b8fca8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11344577356950931979), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90228, alignment: 0
Returning buffer pointer: 0x21fe6b90228 (aligned: true)
Created staging buffer at: 0x21fe6b90228
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe8000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15710515929500617229), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90068, alignment: 0
Returning buffer pointer: 0x21fe6b90068 (aligned: true)
Created staging buffer at: 0x21fe6b90068
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15032018299116325391), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b906a8, alignment: 0
Returning buffer pointer: 0x21fe6b906a8 (aligned: true)
Created staging buffer at: 0x21fe6b906a8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd6000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10076191738264816145), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.0e1,0.0e0] to [-2.4e1,-3.2e1,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b900a8, alignment: 0
Returning buffer pointer: 0x21fe6b900a8 (aligned: true)
Submitting readback 187 at frame 195 (will be ready at frame 198)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 2
Overall bounds: [-24, -40, 0] to [0, -32, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90128, alignment: 0
Returning buffer pointer: 0x21fe6b90128 (aligned: true)
Created staging buffer at: 0x21fe6b90128
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3161094830344374806), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90268, alignment: 0
Returning buffer pointer: 0x21fe6b90268 (aligned: true)
Created staging buffer at: 0x21fe6b90268
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14285691796414532120), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90468, alignment: 0
Returning buffer pointer: 0x21fe6b90468 (aligned: true)
Created staging buffer at: 0x21fe6b90468
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf9000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11919703302138235418), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90528, alignment: 0
Returning buffer pointer: 0x21fe6b90528 (aligned: true)
Created staging buffer at: 0x21fe6b90528
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe1000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4448743892749126172), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-4.0e1,0.0e0] to [0.0e0,-3.2e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90568, alignment: 0
Returning buffer pointer: 0x21fe6b90568 (aligned: true)
Submitting readback 188 at frame 195 (will be ready at frame 198)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 39.5ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 16)
DeferredReadbackManager: advanced to frame 196
Processing readbacks: 3 pending, completed_frame: 196, frames_in_flight: 3
Checking readback 186: submitted frame 193, current frame 196, 3 frames elapsed (need 3)
Readback 186 ready (submitted frame 193, current frame 196)
Checking readback 187: submitted frame 195, current frame 196, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 9/512 completed
Minichunk 10/512 completed
Minichunk 11/512 completed
Minichunk 12/512 completed
Minichunk 13/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 196
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 196, frames_in_flight: 3
Checking readback 187: submitted frame 195, current frame 196, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 62 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 0
Overall bounds: [-64, -8, 0] to [-16, 0, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b900e8, alignment: 0
Returning buffer pointer: 0x21fe6b900e8 (aligned: true)
Created staging buffer at: 0x21fe6b900e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc18000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12980887054081591841), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90628, alignment: 0
Returning buffer pointer: 0x21fe6b90628 (aligned: true)
Created staging buffer at: 0x21fe6b90628
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13186225248615270947), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b906e8, alignment: 0
Returning buffer pointer: 0x21fe6b906e8 (aligned: true)
Created staging buffer at: 0x21fe6b906e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(808145444461873701), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fe28, alignment: 0
Returning buffer pointer: 0x21fe6b8fe28 (aligned: true)
Created staging buffer at: 0x21fe6b8fe28
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccd000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11558961233646324263), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e0,0.0e0] to [-1.6e1,0.0e0,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b904e8, alignment: 0
Returning buffer pointer: 0x21fe6b904e8 (aligned: true)
Submitting readback 189 at frame 196 (will be ready at frame 199)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 2 remaining minichunks from batch
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 38.2ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 5)
DeferredReadbackManager: advanced to frame 197
Processing readbacks: 3 pending, completed_frame: 197, frames_in_flight: 3
Checking readback 187: submitted frame 195, current frame 197, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 197
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 197, frames_in_flight: 3
Checking readback 187: submitted frame 195, current frame 197, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 62 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.2ms (target: 10.0ms), Workgroups: 4 -> 4 (PID: 4)
DeferredReadbackManager: advanced to frame 198
Processing readbacks: 3 pending, completed_frame: 198, frames_in_flight: 3
Checking readback 187: submitted frame 195, current frame 198, 3 frames elapsed (need 3)
Readback 187 ready (submitted frame 195, current frame 198)
Checking readback 188: submitted frame 195, current frame 198, 3 frames elapsed (need 3)
Readback 188 ready (submitted frame 195, current frame 198)
Checking readback 189: submitted frame 196, current frame 198, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (5 minichunks, 10240 bytes)
Minichunk 14/512 completed
Minichunk 15/512 completed
Minichunk 16/512 completed
Minichunk 17/512 completed
Minichunk 18/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (3 minichunks, 6144 bytes)
Minichunk 19/512 completed
Minichunk 20/512 completed
Minichunk 21/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 198
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 198, frames_in_flight: 3
Checking readback 189: submitted frame 196, current frame 198, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 62 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 4 minichunks in workspace 1
Overall bounds: [-64, -8, 8] to [-32, 0, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90568, alignment: 0
Returning buffer pointer: 0x21fe6b90568 (aligned: true)
Created staging buffer at: 0x21fe6b90568
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecce000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4639003384819485228), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fd68, alignment: 0
Returning buffer pointer: 0x21fe6b8fd68 (aligned: true)
Created staging buffer at: 0x21fe6b8fd68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1822513090806155822), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b905e8, alignment: 0
Returning buffer pointer: 0x21fe6b905e8 (aligned: true)
Created staging buffer at: 0x21fe6b905e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc09000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11374843613528721968), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b902e8, alignment: 0
Returning buffer pointer: 0x21fe6b902e8 (aligned: true)
Created staging buffer at: 0x21fe6b902e8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0a000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6692826234319014450), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e0,8.0e0] to [-3.2e1,0.0e0,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90728, alignment: 0
Returning buffer pointer: 0x21fe6b90728 (aligned: true)
Submitting readback 190 at frame 198 (will be ready at frame 201)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 2
Overall bounds: [-32, -8, 8] to [0, 0, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fbe8, alignment: 0
Returning buffer pointer: 0x21fe6b8fbe8 (aligned: true)
Created staging buffer at: 0x21fe6b8fbe8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6114022422736800311), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fda8, alignment: 0
Returning buffer pointer: 0x21fe6b8fda8 (aligned: true)
Created staging buffer at: 0x21fe6b8fda8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfe000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10020659803992361529), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90768, alignment: 0
Returning buffer pointer: 0x21fe6b90768 (aligned: true)
Created staging buffer at: 0x21fe6b90768
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdf000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8038427256088955451), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90868, alignment: 0
Returning buffer pointer: 0x21fe6b90868 (aligned: true)
Created staging buffer at: 0x21fe6b90868
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe0000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5198285367450536509), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-3.2e1,-8.0e0,8.0e0] to [0.0e0,0.0e0,1.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b909a8, alignment: 0
Returning buffer pointer: 0x21fe6b909a8 (aligned: true)
Submitting readback 191 at frame 198 (will be ready at frame 201)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.8ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 16)
DeferredReadbackManager: advanced to frame 199
Processing readbacks: 3 pending, completed_frame: 199, frames_in_flight: 3
Checking readback 189: submitted frame 196, current frame 199, 3 frames elapsed (need 3)
Readback 189 ready (submitted frame 196, current frame 199)
Checking readback 190: submitted frame 198, current frame 199, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 22/512 completed
Minichunk 23/512 completed
Minichunk 24/512 completed
Minichunk 25/512 completed
Minichunk 26/512 completed
Minichunk 27/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 199
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 199, frames_in_flight: 3
Checking readback 190: submitted frame 198, current frame 199, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 61 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 0
Overall bounds: [-64, -8, 24] to [-24, 0, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b907a8, alignment: 0
Returning buffer pointer: 0x21fe6b907a8 (aligned: true)
Created staging buffer at: 0x21fe6b907a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8695503101429287490), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fba8, alignment: 0
Returning buffer pointer: 0x21fe6b8fba8 (aligned: true)
Created staging buffer at: 0x21fe6b8fba8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8212916452882123332), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fc28, alignment: 0
Returning buffer pointer: 0x21fe6b8fc28 (aligned: true)
Created staging buffer at: 0x21fe6b8fc28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbff000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9133341825749224006), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b900a8, alignment: 0
Returning buffer pointer: 0x21fe6b900a8 (aligned: true)
Created staging buffer at: 0x21fe6b900a8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccf000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7235498994300881480), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e0,2.4e1] to [-2.4e1,0.0e0,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b904e8, alignment: 0
Returning buffer pointer: 0x21fe6b904e8 (aligned: true)
Submitting readback 192 at frame 199 (will be ready at frame 202)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.2ms (target: 10.0ms), Workgroups: 4 -> 4 (PID: 4)
DeferredReadbackManager: advanced to frame 200
Processing readbacks: 3 pending, completed_frame: 200, frames_in_flight: 3
Checking readback 190: submitted frame 198, current frame 200, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 200
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 200, frames_in_flight: 3
Checking readback 190: submitted frame 198, current frame 200, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 61 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.5ms (target: 10.0ms), Workgroups: 4 -> 4 (PID: 4)
DeferredReadbackManager: advanced to frame 201
Processing readbacks: 3 pending, completed_frame: 201, frames_in_flight: 3
Checking readback 190: submitted frame 198, current frame 201, 3 frames elapsed (need 3)
Readback 190 ready (submitted frame 198, current frame 201)
Checking readback 191: submitted frame 198, current frame 201, 3 frames elapsed (need 3)
Readback 191 ready (submitted frame 198, current frame 201)
Checking readback 192: submitted frame 199, current frame 201, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (4 minichunks, 8192 bytes)
Minichunk 28/512 completed
Minichunk 29/512 completed
Minichunk 30/512 completed
Minichunk 31/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (4 minichunks, 8192 bytes)
Minichunk 32/512 completed
Minichunk 33/512 completed
Minichunk 34/512 completed
Minichunk 35/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 201
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 201, frames_in_flight: 3
Checking readback 192: submitted frame 199, current frame 201, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 61 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 4 minichunks in workspace 1
Overall bounds: [-64, -16, 56] to [-32, -8, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b908a8, alignment: 0
Returning buffer pointer: 0x21fe6b908a8 (aligned: true)
Created staging buffer at: 0x21fe6b908a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(248315905040190029), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90728, alignment: 0
Returning buffer pointer: 0x21fe6b90728 (aligned: true)
Created staging buffer at: 0x21fe6b90728
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8046859410762369615), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fde8, alignment: 0
Returning buffer pointer: 0x21fe6b8fde8 (aligned: true)
Created staging buffer at: 0x21fe6b8fde8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5334397210387810897), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b907e8, alignment: 0
Returning buffer pointer: 0x21fe6b907e8 (aligned: true)
Created staging buffer at: 0x21fe6b907e8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0b000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1265885329244555859), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.6e1,5.6e1] to [-3.2e1,-8.0e0,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90828, alignment: 0
Returning buffer pointer: 0x21fe6b90828 (aligned: true)
Submitting readback 193 at frame 201 (will be ready at frame 204)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 2
Overall bounds: [-32, -16, 56] to [0, -8, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b908e8, alignment: 0
Returning buffer pointer: 0x21fe6b908e8 (aligned: true)
Created staging buffer at: 0x21fe6b908e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10455325337754536536), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b909a8, alignment: 0
Returning buffer pointer: 0x21fe6b909a8 (aligned: true)
Created staging buffer at: 0x21fe6b909a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbca000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6386813456611281498), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fae8, alignment: 0
Returning buffer pointer: 0x21fe6b8fae8 (aligned: true)
Created staging buffer at: 0x21fe6b8fae8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2471283225310267996), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91a28, alignment: 0
Returning buffer pointer: 0x21fe6b91a28 (aligned: true)
Created staging buffer at: 0x21fe6b91a28
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab1000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9742694468397566558), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-3.2e1,-1.6e1,5.6e1] to [0.0e0,-8.0e0,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90f28, alignment: 0
Returning buffer pointer: 0x21fe6b90f28 (aligned: true)
Submitting readback 194 at frame 201 (will be ready at frame 204)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 30.3ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 16)
DeferredReadbackManager: advanced to frame 202
Processing readbacks: 3 pending, completed_frame: 202, frames_in_flight: 3
Checking readback 192: submitted frame 199, current frame 202, 3 frames elapsed (need 3)
Readback 192 ready (submitted frame 199, current frame 202)
Checking readback 193: submitted frame 201, current frame 202, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 36/512 completed
Minichunk 37/512 completed
Minichunk 38/512 completed
Minichunk 39/512 completed
Minichunk 40/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 202
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 202, frames_in_flight: 3
Checking readback 193: submitted frame 201, current frame 202, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 60 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 0
Overall bounds: [-64, -8, 56] to [-24, 0, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90168, alignment: 0
Returning buffer pointer: 0x21fe6b90168 (aligned: true)
Created staging buffer at: 0x21fe6b90168
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3441493385171438179), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b904e8, alignment: 0
Returning buffer pointer: 0x21fe6b904e8 (aligned: true)
Created staging buffer at: 0x21fe6b904e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5542060872014236261), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90928, alignment: 0
Returning buffer pointer: 0x21fe6b90928 (aligned: true)
Created staging buffer at: 0x21fe6b90928
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13096442427625966183), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fc68, alignment: 0
Returning buffer pointer: 0x21fe6b8fc68 (aligned: true)
Created staging buffer at: 0x21fe6b8fc68
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc05000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4108829873022175849), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e0,5.6e1] to [-2.4e1,0.0e0,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b901a8, alignment: 0
Returning buffer pointer: 0x21fe6b901a8 (aligned: true)
Submitting readback 195 at frame 202 (will be ready at frame 205)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.7ms (target: 10.0ms), Workgroups: 4 -> 4 (PID: 4)
DeferredReadbackManager: advanced to frame 203
Processing readbacks: 3 pending, completed_frame: 203, frames_in_flight: 3
Checking readback 193: submitted frame 201, current frame 203, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 203
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 203, frames_in_flight: 3
Checking readback 193: submitted frame 201, current frame 203, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 60 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 21.8ms (target: 10.0ms), Workgroups: 4 -> 4 (PID: 4)
DeferredReadbackManager: advanced to frame 204
Processing readbacks: 3 pending, completed_frame: 204, frames_in_flight: 3
Checking readback 193: submitted frame 201, current frame 204, 3 frames elapsed (need 3)
Readback 193 ready (submitted frame 201, current frame 204)
Checking readback 194: submitted frame 201, current frame 204, 3 frames elapsed (need 3)
Readback 194 ready (submitted frame 201, current frame 204)
Checking readback 195: submitted frame 202, current frame 204, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (4 minichunks, 8192 bytes)
Minichunk 41/512 completed
Minichunk 42/512 completed
Minichunk 43/512 completed
Minichunk 44/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (4 minichunks, 8192 bytes)
Minichunk 45/512 completed
Minichunk 46/512 completed
Minichunk 47/512 completed
Minichunk 48/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 204
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 204, frames_in_flight: 3
Checking readback 195: submitted frame 202, current frame 204, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 60 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 3 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 3 minichunks in workspace 1
Overall bounds: [-24, -56, 0] to [0, -48, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ae8, alignment: 0
Returning buffer pointer: 0x21fe6b90ae8 (aligned: true)
Created staging buffer at: 0x21fe6b90ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbda000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13365856861291547246), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90e68, alignment: 0
Returning buffer pointer: 0x21fe6b90e68 (aligned: true)
Created staging buffer at: 0x21fe6b90e68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecda000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11544254166113192560), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91128, alignment: 0
Returning buffer pointer: 0x21fe6b91128 (aligned: true)
Created staging buffer at: 0x21fe6b91128
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(570826854722701938), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b918a8, alignment: 0
Returning buffer pointer: 0x21fe6b918a8 (aligned: true)
Created staging buffer at: 0x21fe6b918a8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc20000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12880411482512165492), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-5.6e1,0.0e0] to [0.0e0,-4.8e1,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b917e8, alignment: 0
Returning buffer pointer: 0x21fe6b917e8 (aligned: true)
Submitting readback 196 at frame 204 (will be ready at frame 207)
Successfully queued 3 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 2 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [-16, -8, 0] to [0, 0, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91168, alignment: 0
Returning buffer pointer: 0x21fe6b91168 (aligned: true)
Created staging buffer at: 0x21fe6b91168
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbef000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15188617342213950073), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90f28, alignment: 0
Returning buffer pointer: 0x21fe6b90f28 (aligned: true)
Created staging buffer at: 0x21fe6b90f28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1467747967522835067), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90fa8, alignment: 0
Returning buffer pointer: 0x21fe6b90fa8 (aligned: true)
Created staging buffer at: 0x21fe6b90fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11918709343626726013), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b912a8, alignment: 0
Returning buffer pointer: 0x21fe6b912a8 (aligned: true)
Created staging buffer at: 0x21fe6b912a8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc15000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14019143789562563199), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.6e1,-8.0e0,0.0e0] to [0.0e0,0.0e0,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91528, alignment: 0
Returning buffer pointer: 0x21fe6b91528 (aligned: true)
Submitting readback 197 at frame 204 (will be ready at frame 207)
Successfully queued 2 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.4ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 16)
DeferredReadbackManager: advanced to frame 205
Processing readbacks: 3 pending, completed_frame: 205, frames_in_flight: 3
Checking readback 195: submitted frame 202, current frame 205, 3 frames elapsed (need 3)
Readback 195 ready (submitted frame 202, current frame 205)
Checking readback 196: submitted frame 204, current frame 205, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 49/512 completed
Minichunk 50/512 completed
Minichunk 51/512 completed
Minichunk 52/512 completed
Minichunk 53/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 205
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 205, frames_in_flight: 3
Checking readback 196: submitted frame 204, current frame 205, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 58 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 0
Overall bounds: [-64, -24, 56] to [-24, -16, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91628, alignment: 0
Returning buffer pointer: 0x21fe6b91628 (aligned: true)
Created staging buffer at: 0x21fe6b91628
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16291482480454666884), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b919a8, alignment: 0
Returning buffer pointer: 0x21fe6b919a8 (aligned: true)
Created staging buffer at: 0x21fe6b919a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10919094944303942278), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90d68, alignment: 0
Returning buffer pointer: 0x21fe6b90d68 (aligned: true)
Created staging buffer at: 0x21fe6b90d68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15213745580955142792), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ca8, alignment: 0
Returning buffer pointer: 0x21fe6b90ca8 (aligned: true)
Created staging buffer at: 0x21fe6b90ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc16000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17182454135836904074), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-2.4e1,5.6e1] to [-2.4e1,-1.6e1,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90ee8, alignment: 0
Returning buffer pointer: 0x21fe6b90ee8 (aligned: true)
Submitting readback 198 at frame 205 (will be ready at frame 208)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.1ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 6)
DeferredReadbackManager: advanced to frame 206
Processing readbacks: 3 pending, completed_frame: 206, frames_in_flight: 3
Checking readback 196: submitted frame 204, current frame 206, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 206
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 206, frames_in_flight: 3
Checking readback 196: submitted frame 204, current frame 206, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 58 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 21.4ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 4)
DeferredReadbackManager: advanced to frame 207
Processing readbacks: 3 pending, completed_frame: 207, frames_in_flight: 3
Checking readback 196: submitted frame 204, current frame 207, 3 frames elapsed (need 3)
Readback 196 ready (submitted frame 204, current frame 207)
Checking readback 197: submitted frame 204, current frame 207, 3 frames elapsed (need 3)
Readback 197 ready (submitted frame 204, current frame 207)
Checking readback 198: submitted frame 205, current frame 207, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (3 minichunks, 6144 bytes)
Minichunk 54/512 completed
Minichunk 55/512 completed
Minichunk 56/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 57/512 completed
Minichunk 58/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 207
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 207, frames_in_flight: 3
Checking readback 198: submitted frame 205, current frame 207, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 58 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 3 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 3 minichunks in workspace 1
Overall bounds: [-24, -8, 24] to [0, 0, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91528, alignment: 0
Returning buffer pointer: 0x21fe6b91528 (aligned: true)
Created staging buffer at: 0x21fe6b91528
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbec000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17761337112256318095), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b913e8, alignment: 0
Returning buffer pointer: 0x21fe6b913e8 (aligned: true)
Created staging buffer at: 0x21fe6b913e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16520984642031979153), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b914a8, alignment: 0
Returning buffer pointer: 0x21fe6b914a8 (aligned: true)
Created staging buffer at: 0x21fe6b914a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc06000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18225951143735855763), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91668, alignment: 0
Returning buffer pointer: 0x21fe6b91668 (aligned: true)
Created staging buffer at: 0x21fe6b91668
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcd000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18309006053074799253), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-8.0e0,2.4e1] to [0.0e0,0.0e0,3.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90de8, alignment: 0
Returning buffer pointer: 0x21fe6b90de8 (aligned: true)
Submitting readback 199 at frame 207 (will be ready at frame 210)
Successfully queued 3 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [-64, -32, 56] to [-24, -24, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b917e8, alignment: 0
Returning buffer pointer: 0x21fe6b917e8 (aligned: true)
Created staging buffer at: 0x21fe6b917e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17847421176129784474), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91b68, alignment: 0
Returning buffer pointer: 0x21fe6b91b68 (aligned: true)
Created staging buffer at: 0x21fe6b91b68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17511543463588399772), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91de8, alignment: 0
Returning buffer pointer: 0x21fe6b91de8 (aligned: true)
Created staging buffer at: 0x21fe6b91de8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16758951943631538846), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b927a8, alignment: 0
Returning buffer pointer: 0x21fe6b927a8 (aligned: true)
Created staging buffer at: 0x21fe6b927a8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc13000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1020412761273797280), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-3.2e1,5.6e1] to [-2.4e1,-2.4e1,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91ce8, alignment: 0
Returning buffer pointer: 0x21fe6b91ce8 (aligned: true)
Submitting readback 200 at frame 207 (will be ready at frame 210)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.1ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 16)
DeferredReadbackManager: advanced to frame 208
Processing readbacks: 3 pending, completed_frame: 208, frames_in_flight: 3
Checking readback 198: submitted frame 205, current frame 208, 3 frames elapsed (need 3)
Readback 198 ready (submitted frame 205, current frame 208)
Checking readback 199: submitted frame 207, current frame 208, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 59/512 completed
Minichunk 60/512 completed
Minichunk 61/512 completed
Minichunk 62/512 completed
Minichunk 63/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 208
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 208, frames_in_flight: 3
Checking readback 199: submitted frame 207, current frame 208, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 57 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 3 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 0
Overall bounds: [-24, -8, 56] to [0, 0, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ee8, alignment: 0
Returning buffer pointer: 0x21fe6b90ee8 (aligned: true)
Created staging buffer at: 0x21fe6b90ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16258162880086543013), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90fe8, alignment: 0
Returning buffer pointer: 0x21fe6b90fe8 (aligned: true)
Created staging buffer at: 0x21fe6b90fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc14000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15765179249587128999), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91428, alignment: 0
Returning buffer pointer: 0x21fe6b91428 (aligned: true)
Created staging buffer at: 0x21fe6b91428
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2033160826990365353), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b916a8, alignment: 0
Returning buffer pointer: 0x21fe6b916a8 (aligned: true)
Created staging buffer at: 0x21fe6b916a8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1e000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10555504041184463531), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-8.0e0,5.6e1] to [0.0e0,0.0e0,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91a68, alignment: 0
Returning buffer pointer: 0x21fe6b91a68 (aligned: true)
Submitting readback 201 at frame 208 (will be ready at frame 211)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.1ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 8)
DeferredReadbackManager: advanced to frame 209
Processing readbacks: 3 pending, completed_frame: 209, frames_in_flight: 3
Checking readback 199: submitted frame 207, current frame 209, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 209
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 209, frames_in_flight: 3
Checking readback 199: submitted frame 207, current frame 209, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 56 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 21.5ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 210
Processing readbacks: 3 pending, completed_frame: 210, frames_in_flight: 3
Checking readback 199: submitted frame 207, current frame 210, 3 frames elapsed (need 3)
Readback 199 ready (submitted frame 207, current frame 210)
Checking readback 200: submitted frame 207, current frame 210, 3 frames elapsed (need 3)
Readback 200 ready (submitted frame 207, current frame 210)
Checking readback 201: submitted frame 208, current frame 210, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (3 minichunks, 6144 bytes)
Minichunk 64/512 completed
Minichunk 65/512 completed
Minichunk 66/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 67/512 completed
Minichunk 68/512 completed
Minichunk 69/512 completed
Minichunk 70/512 completed
Minichunk 71/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 210
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 210, frames_in_flight: 3
Checking readback 201: submitted frame 208, current frame 210, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 56 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 1
Overall bounds: [-64, -40, 56] to [-16, -32, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b922a8, alignment: 0
Returning buffer pointer: 0x21fe6b922a8 (aligned: true)
Created staging buffer at: 0x21fe6b922a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15233192643115616944), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92a28, alignment: 0
Returning buffer pointer: 0x21fe6b92a28 (aligned: true)
Created staging buffer at: 0x21fe6b92a28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd0000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3364538566343396018), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ce8, alignment: 0
Returning buffer pointer: 0x21fe6b91ce8 (aligned: true)
Created staging buffer at: 0x21fe6b91ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc07000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9226652979552062132), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d68, alignment: 0
Returning buffer pointer: 0x21fe6b91d68 (aligned: true)
Created staging buffer at: 0x21fe6b91d68
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc08000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3072257589354957494), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.0e1,5.6e1] to [-1.6e1,-3.2e1,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92428, alignment: 0
Returning buffer pointer: 0x21fe6b92428 (aligned: true)
Submitting readback 202 at frame 210 (will be ready at frame 213)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [-16, -40, 56] to [0, -32, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b927e8, alignment: 0
Returning buffer pointer: 0x21fe6b927e8 (aligned: true)
Created staging buffer at: 0x21fe6b927e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc17000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4119456652904630971), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91f68, alignment: 0
Returning buffer pointer: 0x21fe6b91f68 (aligned: true)
Created staging buffer at: 0x21fe6b91f68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13715024370877860541), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92828, alignment: 0
Returning buffer pointer: 0x21fe6b92828 (aligned: true)
Created staging buffer at: 0x21fe6b92828
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4350015445156235967), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92868, alignment: 0
Returning buffer pointer: 0x21fe6b92868 (aligned: true)
Created staging buffer at: 0x21fe6b92868
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdd000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4983243982801734337), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.6e1,-4.0e1,5.6e1] to [0.0e0,-3.2e1,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b928e8, alignment: 0
Returning buffer pointer: 0x21fe6b928e8 (aligned: true)
Submitting readback 203 at frame 210 (will be ready at frame 213)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.2ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 211
Processing readbacks: 3 pending, completed_frame: 211, frames_in_flight: 3
Checking readback 201: submitted frame 208, current frame 211, 3 frames elapsed (need 3)
Readback 201 ready (submitted frame 208, current frame 211)
Checking readback 202: submitted frame 210, current frame 211, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 72/512 completed
Minichunk 73/512 completed
Minichunk 74/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 211
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 211, frames_in_flight: 3
Checking readback 202: submitted frame 210, current frame 211, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 55 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 0
Overall bounds: [-64, -48, 56] to [-8, -40, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92128, alignment: 0
Returning buffer pointer: 0x21fe6b92128 (aligned: true)
Created staging buffer at: 0x21fe6b92128
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12452643185191029446), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92228, alignment: 0
Returning buffer pointer: 0x21fe6b92228 (aligned: true)
Created staging buffer at: 0x21fe6b92228
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0e000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(136747360658131656), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ba8, alignment: 0
Returning buffer pointer: 0x21fe6b91ba8 (aligned: true)
Created staging buffer at: 0x21fe6b91ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc11000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12145100986809060042), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92928, alignment: 0
Returning buffer pointer: 0x21fe6b92928 (aligned: true)
Created staging buffer at: 0x21fe6b92928
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe5000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6301370408016808652), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.8e1,5.6e1] to [-8.0e0,-4.0e1,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92068, alignment: 0
Returning buffer pointer: 0x21fe6b92068 (aligned: true)
Submitting readback 204 at frame 211 (will be ready at frame 214)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.4ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 9)
DeferredReadbackManager: advanced to frame 212
Processing readbacks: 3 pending, completed_frame: 212, frames_in_flight: 3
Checking readback 202: submitted frame 210, current frame 212, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 212
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 212, frames_in_flight: 3
Checking readback 202: submitted frame 210, current frame 212, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 55 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 21.8ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 213
Processing readbacks: 3 pending, completed_frame: 213, frames_in_flight: 3
Checking readback 202: submitted frame 210, current frame 213, 3 frames elapsed (need 3)
Readback 202 ready (submitted frame 210, current frame 213)
Checking readback 203: submitted frame 210, current frame 213, 3 frames elapsed (need 3)
Readback 203 ready (submitted frame 210, current frame 213)
Checking readback 204: submitted frame 211, current frame 213, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 75/512 completed
Minichunk 76/512 completed
Minichunk 77/512 completed
Minichunk 78/512 completed
Minichunk 79/512 completed
Minichunk 80/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 81/512 completed
Minichunk 82/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 213
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 213, frames_in_flight: 3
Checking readback 204: submitted frame 211, current frame 213, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 55 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 3 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 3 minichunks in workspace 1
Overall bounds: [-24, -24, 56] to [0, -16, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92328, alignment: 0
Returning buffer pointer: 0x21fe6b92328 (aligned: true)
Created staging buffer at: 0x21fe6b92328
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc19000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1191793638695242449), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91fe8, alignment: 0
Returning buffer pointer: 0x21fe6b91fe8 (aligned: true)
Created staging buffer at: 0x21fe6b91fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbeb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11106414342281628371), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91be8, alignment: 0
Returning buffer pointer: 0x21fe6b91be8 (aligned: true)
Created staging buffer at: 0x21fe6b91be8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbed000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4969272488547584725), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92628, alignment: 0
Returning buffer pointer: 0x21fe6b92628 (aligned: true)
Created staging buffer at: 0x21fe6b92628
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbee000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7335489681242458839), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-2.4e1,5.6e1] to [0.0e0,-1.6e1,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92268, alignment: 0
Returning buffer pointer: 0x21fe6b92268 (aligned: true)
Submitting readback 205 at frame 213 (will be ready at frame 216)
Successfully queued 3 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [-64, -56, 56] to [-8, -48, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c68, alignment: 0
Returning buffer pointer: 0x21fe6b91c68 (aligned: true)
Created staging buffer at: 0x21fe6b91c68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10215366820597074652), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b928a8, alignment: 0
Returning buffer pointer: 0x21fe6b928a8 (aligned: true)
Created staging buffer at: 0x21fe6b928a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7668930876016691934), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ca8, alignment: 0
Returning buffer pointer: 0x21fe6b91ca8 (aligned: true)
Created staging buffer at: 0x21fe6b91ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8580335855489518304), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b921a8, alignment: 0
Returning buffer pointer: 0x21fe6b921a8 (aligned: true)
Created staging buffer at: 0x21fe6b921a8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd4000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8906721484148312802), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-5.6e1,5.6e1] to [-8.0e0,-4.8e1,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b922e8, alignment: 0
Returning buffer pointer: 0x21fe6b922e8 (aligned: true)
Submitting readback 206 at frame 213 (will be ready at frame 216)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.9ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 214
Processing readbacks: 3 pending, completed_frame: 214, frames_in_flight: 3
Checking readback 204: submitted frame 211, current frame 214, 3 frames elapsed (need 3)
Readback 204 ready (submitted frame 211, current frame 214)
Checking readback 205: submitted frame 213, current frame 214, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 83/512 completed
Minichunk 84/512 completed
Minichunk 85/512 completed
Minichunk 86/512 completed
Minichunk 87/512 completed
Minichunk 88/512 completed
Minichunk 89/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 214
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 214, frames_in_flight: 3
Checking readback 205: submitted frame 213, current frame 214, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 54 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 3 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 0
Overall bounds: [-24, -32, 56] to [0, -24, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b921e8, alignment: 0
Returning buffer pointer: 0x21fe6b921e8 (aligned: true)
Created staging buffer at: 0x21fe6b921e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8647884352341936871), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b926a8, alignment: 0
Returning buffer pointer: 0x21fe6b926a8 (aligned: true)
Created staging buffer at: 0x21fe6b926a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfa000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5086238535510395625), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ea8, alignment: 0
Returning buffer pointer: 0x21fe6b91ea8 (aligned: true)
Created staging buffer at: 0x21fe6b91ea8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7291065013433797355), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d28, alignment: 0
Returning buffer pointer: 0x21fe6b91d28 (aligned: true)
Created staging buffer at: 0x21fe6b91d28
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdc000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(884639567917877997), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-3.2e1,5.6e1] to [0.0e0,-2.4e1,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b923a8, alignment: 0
Returning buffer pointer: 0x21fe6b923a8 (aligned: true)
Submitting readback 207 at frame 214 (will be ready at frame 217)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.8ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 8)
DeferredReadbackManager: advanced to frame 215
Processing readbacks: 3 pending, completed_frame: 215, frames_in_flight: 3
Checking readback 205: submitted frame 213, current frame 215, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 215
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 215, frames_in_flight: 3
Checking readback 205: submitted frame 213, current frame 215, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 53 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.0ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 216
Processing readbacks: 3 pending, completed_frame: 216, frames_in_flight: 3
Checking readback 205: submitted frame 213, current frame 216, 3 frames elapsed (need 3)
Readback 205 ready (submitted frame 213, current frame 216)
Checking readback 206: submitted frame 213, current frame 216, 3 frames elapsed (need 3)
Readback 206 ready (submitted frame 213, current frame 216)
Checking readback 207: submitted frame 214, current frame 216, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (3 minichunks, 6144 bytes)
Minichunk 90/512 completed
Minichunk 91/512 completed
Minichunk 92/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 93/512 completed
Minichunk 94/512 completed
Minichunk 95/512 completed
Minichunk 96/512 completed
Minichunk 97/512 completed
Minichunk 98/512 completed
Minichunk 99/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 216
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 216, frames_in_flight: 3
Checking readback 207: submitted frame 214, current frame 216, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 53 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [-64, -64, 56] to [-8, -56, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ee8, alignment: 0
Returning buffer pointer: 0x21fe6b91ee8 (aligned: true)
Created staging buffer at: 0x21fe6b91ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc10000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6075209662276307698), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92768, alignment: 0
Returning buffer pointer: 0x21fe6b92768 (aligned: true)
Created staging buffer at: 0x21fe6b92768
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6283063539414338292), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91f28, alignment: 0
Returning buffer pointer: 0x21fe6b91f28 (aligned: true)
Created staging buffer at: 0x21fe6b91f28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2016098605550537462), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b928e8, alignment: 0
Returning buffer pointer: 0x21fe6b928e8 (aligned: true)
Created staging buffer at: 0x21fe6b928e8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc01000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6921083748733684472), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,5.6e1] to [-8.0e0,-5.6e1,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91da8, alignment: 0
Returning buffer pointer: 0x21fe6b91da8 (aligned: true)
Submitting readback 208 at frame 216 (will be ready at frame 219)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [-8, -64, 56] to [0, -56, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92068, alignment: 0
Returning buffer pointer: 0x21fe6b92068 (aligned: true)
Created staging buffer at: 0x21fe6b92068
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc02000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4662153602142309117), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c28, alignment: 0
Returning buffer pointer: 0x21fe6b91c28 (aligned: true)
Created staging buffer at: 0x21fe6b91c28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbce000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2957068353182632703), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92268, alignment: 0
Returning buffer pointer: 0x21fe6b92268 (aligned: true)
Created staging buffer at: 0x21fe6b92268
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc12000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10205235920458746625), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91e68, alignment: 0
Returning buffer pointer: 0x21fe6b91e68 (aligned: true)
Created staging buffer at: 0x21fe6b91e68
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd7000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5538928363386702595), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-6.4e1,5.6e1] to [0.0e0,-5.6e1,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91e28, alignment: 0
Returning buffer pointer: 0x21fe6b91e28 (aligned: true)
Submitting readback 209 at frame 216 (will be ready at frame 219)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.0ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 217
Processing readbacks: 3 pending, completed_frame: 217, frames_in_flight: 3
Checking readback 207: submitted frame 214, current frame 217, 3 frames elapsed (need 3)
Readback 207 ready (submitted frame 214, current frame 217)
Checking readback 208: submitted frame 216, current frame 217, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 100/512 completed
Minichunk 101/512 completed
Minichunk 102/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 217

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: 0.0°, Pitch: 0.0°, Roll: -45.6°]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 217, frames_in_flight: 3
Checking readback 208: submitted frame 216, current frame 217, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 52 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -8, 48] to [0, 0, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90a68, alignment: 0
Returning buffer pointer: 0x21fe6b90a68 (aligned: true)
Created staging buffer at: 0x21fe6b90a68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3807671439151074056), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90828, alignment: 0
Returning buffer pointer: 0x21fe6b90828 (aligned: true)
Created staging buffer at: 0x21fe6b90828
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13537206952387414794), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fb28, alignment: 0
Returning buffer pointer: 0x21fe6b8fb28 (aligned: true)
Created staging buffer at: 0x21fe6b8fb28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4479449953978026764), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fb68, alignment: 0
Returning buffer pointer: 0x21fe6b8fb68 (aligned: true)
Created staging buffer at: 0x21fe6b8fb68
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd4000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4066950574631815950), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e0,4.8e1] to [0.0e0,0.0e0,5.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fe68, alignment: 0
Returning buffer pointer: 0x21fe6b8fe68 (aligned: true)
Submitting readback 210 at frame 217 (will be ready at frame 220)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.1ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 10)
DeferredReadbackManager: advanced to frame 218
Processing readbacks: 3 pending, completed_frame: 218, frames_in_flight: 3
Checking readback 208: submitted frame 216, current frame 218, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 218
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 218, frames_in_flight: 3
Checking readback 208: submitted frame 216, current frame 218, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 51 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.4ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 219
Processing readbacks: 3 pending, completed_frame: 219, frames_in_flight: 3
Checking readback 208: submitted frame 216, current frame 219, 3 frames elapsed (need 3)
Readback 208 ready (submitted frame 216, current frame 219)
Checking readback 209: submitted frame 216, current frame 219, 3 frames elapsed (need 3)
Readback 209 ready (submitted frame 216, current frame 219)
Checking readback 210: submitted frame 217, current frame 219, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 103/512 completed
Minichunk 104/512 completed
Minichunk 105/512 completed
Minichunk 106/512 completed
Minichunk 107/512 completed
Minichunk 108/512 completed
Minichunk 109/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 110/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 219
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 219, frames_in_flight: 3
Checking readback 210: submitted frame 217, current frame 219, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 51 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 1 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 1 minichunks in workspace 1
Overall bounds: [-8, -48, 56] to [0, -40, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91da8, alignment: 0
Returning buffer pointer: 0x21fe6b91da8 (aligned: true)
Created staging buffer at: 0x21fe6b91da8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12207054068987726611), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91fa8, alignment: 0
Returning buffer pointer: 0x21fe6b91fa8 (aligned: true)
Created staging buffer at: 0x21fe6b91fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3567454536761084693), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92568, alignment: 0
Returning buffer pointer: 0x21fe6b92568 (aligned: true)
Created staging buffer at: 0x21fe6b92568
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14914979684386081559), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91e28, alignment: 0
Returning buffer pointer: 0x21fe6b91e28 (aligned: true)
Created staging buffer at: 0x21fe6b91e28
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfd000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11796793295315667737), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-4.8e1,5.6e1] to [0.0e0,-4.0e1,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b922e8, alignment: 0
Returning buffer pointer: 0x21fe6b922e8 (aligned: true)
Submitting readback 211 at frame 219 (will be ready at frame 222)
Successfully queued 1 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -16, 48] to [0, -8, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92968, alignment: 0
Returning buffer pointer: 0x21fe6b92968 (aligned: true)
Created staging buffer at: 0x21fe6b92968
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbde000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(233701196483791646), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b929e8, alignment: 0
Returning buffer pointer: 0x21fe6b929e8 (aligned: true)
Created staging buffer at: 0x21fe6b929e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbea000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15873420671783537440), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92368, alignment: 0
Returning buffer pointer: 0x21fe6b92368 (aligned: true)
Created staging buffer at: 0x21fe6b92368
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc03000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15731858549707377442), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b925e8, alignment: 0
Returning buffer pointer: 0x21fe6b925e8 (aligned: true)
Created staging buffer at: 0x21fe6b925e8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfb000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1232609709341543204), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.6e1,4.8e1] to [0.0e0,-8.0e0,5.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b923a8, alignment: 0
Returning buffer pointer: 0x21fe6b923a8 (aligned: true)
Submitting readback 212 at frame 219 (will be ready at frame 222)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.4ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 220
Processing readbacks: 3 pending, completed_frame: 220, frames_in_flight: 3
Checking readback 210: submitted frame 217, current frame 220, 3 frames elapsed (need 3)
Readback 210 ready (submitted frame 217, current frame 220)
Checking readback 211: submitted frame 219, current frame 220, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 111/512 completed
Minichunk 112/512 completed
Minichunk 113/512 completed
Minichunk 114/512 completed
Minichunk 115/512 completed
Minichunk 116/512 completed
Minichunk 117/512 completed
Minichunk 118/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 220
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 220, frames_in_flight: 3
Checking readback 211: submitted frame 219, current frame 220, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 49 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 1 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 0
Overall bounds: [-8, -56, 56] to [0, -48, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90a28, alignment: 0
Returning buffer pointer: 0x21fe6b90a28 (aligned: true)
Created staging buffer at: 0x21fe6b90a28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10512446066329127721), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90aa8, alignment: 0
Returning buffer pointer: 0x21fe6b90aa8 (aligned: true)
Created staging buffer at: 0x21fe6b90aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc00000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14419773940886932267), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fca8, alignment: 0
Returning buffer pointer: 0x21fe6b8fca8 (aligned: true)
Created staging buffer at: 0x21fe6b8fca8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16399605155395275565), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fe68, alignment: 0
Returning buffer pointer: 0x21fe6b8fe68 (aligned: true)
Created staging buffer at: 0x21fe6b8fe68
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd6000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9759098082372356911), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-5.6e1,5.6e1] to [0.0e0,-4.8e1,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8ffe8, alignment: 0
Returning buffer pointer: 0x21fe6b8ffe8 (aligned: true)
Submitting readback 213 at frame 220 (will be ready at frame 223)
Successfully queued 1 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 12)
DeferredReadbackManager: advanced to frame 221
Processing readbacks: 3 pending, completed_frame: 221, frames_in_flight: 3
Checking readback 211: submitted frame 219, current frame 221, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 221
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 221, frames_in_flight: 3
Checking readback 211: submitted frame 219, current frame 221, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 48 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 222
Processing readbacks: 3 pending, completed_frame: 222, frames_in_flight: 3
Checking readback 211: submitted frame 219, current frame 222, 3 frames elapsed (need 3)
Readback 211 ready (submitted frame 219, current frame 222)
Checking readback 212: submitted frame 219, current frame 222, 3 frames elapsed (need 3)
Readback 212 ready (submitted frame 219, current frame 222)
Checking readback 213: submitted frame 220, current frame 222, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (1 minichunks, 2048 bytes)
Minichunk 119/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 120/512 completed
Minichunk 121/512 completed
Minichunk 122/512 completed
Minichunk 123/512 completed
Minichunk 124/512 completed
Minichunk 125/512 completed
Minichunk 126/512 completed
Minichunk 127/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 222
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 222, frames_in_flight: 3
Checking readback 213: submitted frame 220, current frame 222, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 48 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [-64, -24, 48] to [0, -16, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92028, alignment: 0
Returning buffer pointer: 0x21fe6b92028 (aligned: true)
Created staging buffer at: 0x21fe6b92028
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18417227684061907764), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920a8, alignment: 0
Returning buffer pointer: 0x21fe6b920a8 (aligned: true)
Created staging buffer at: 0x21fe6b920a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18171286724137716534), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920e8, alignment: 0
Returning buffer pointer: 0x21fe6b920e8 (aligned: true)
Created staging buffer at: 0x21fe6b920e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17709542418006674232), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92168, alignment: 0
Returning buffer pointer: 0x21fe6b92168 (aligned: true)
Created staging buffer at: 0x21fe6b92168
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe8000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16625738413345082170), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-2.4e1,4.8e1] to [0.0e0,-1.6e1,5.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b922e8, alignment: 0
Returning buffer pointer: 0x21fe6b922e8 (aligned: true)
Submitting readback 214 at frame 222 (will be ready at frame 225)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -32, 48] to [0, -24, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b923a8, alignment: 0
Returning buffer pointer: 0x21fe6b923a8 (aligned: true)
Created staging buffer at: 0x21fe6b923a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14858457090137000767), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92428, alignment: 0
Returning buffer pointer: 0x21fe6b92428 (aligned: true)
Created staging buffer at: 0x21fe6b92428
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16175116766840621889), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92468, alignment: 0
Returning buffer pointer: 0x21fe6b92468 (aligned: true)
Created staging buffer at: 0x21fe6b92468
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(508621984381274947), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b924a8, alignment: 0
Returning buffer pointer: 0x21fe6b924a8 (aligned: true)
Created staging buffer at: 0x21fe6b924a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcf000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15173879488355240773), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-3.2e1,4.8e1] to [0.0e0,-2.4e1,5.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b924e8, alignment: 0
Returning buffer pointer: 0x21fe6b924e8 (aligned: true)
Submitting readback 215 at frame 222 (will be ready at frame 225)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.0ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 223
Processing readbacks: 3 pending, completed_frame: 223, frames_in_flight: 3
Checking readback 213: submitted frame 220, current frame 223, 3 frames elapsed (need 3)
Readback 213 ready (submitted frame 220, current frame 223)
Checking readback 214: submitted frame 222, current frame 223, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (1 minichunks, 2048 bytes)
Minichunk 128/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 223
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 223, frames_in_flight: 3
Checking readback 214: submitted frame 222, current frame 223, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 46 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -40, 48] to [0, -32, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90428, alignment: 0
Returning buffer pointer: 0x21fe6b90428 (aligned: true)
Created staging buffer at: 0x21fe6b90428
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc18000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15136470804243417930), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90528, alignment: 0
Returning buffer pointer: 0x21fe6b90528 (aligned: true)
Created staging buffer at: 0x21fe6b90528
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc09000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1560068461349047116), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b902e8, alignment: 0
Returning buffer pointer: 0x21fe6b902e8 (aligned: true)
Created staging buffer at: 0x21fe6b902e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11914281610301672270), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8ffe8, alignment: 0
Returning buffer pointer: 0x21fe6b8ffe8 (aligned: true)
Created staging buffer at: 0x21fe6b8ffe8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccd000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14002331157262240592), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.0e1,4.8e1] to [0.0e0,-3.2e1,5.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90128, alignment: 0
Returning buffer pointer: 0x21fe6b90128 (aligned: true)
Submitting readback 216 at frame 223 (will be ready at frame 226)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.8ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 7)
DeferredReadbackManager: advanced to frame 224
Processing readbacks: 3 pending, completed_frame: 224, frames_in_flight: 3
Checking readback 214: submitted frame 222, current frame 224, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 224
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 224, frames_in_flight: 3
Checking readback 214: submitted frame 222, current frame 224, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 45 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.8ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 225
Processing readbacks: 3 pending, completed_frame: 225, frames_in_flight: 3
Checking readback 214: submitted frame 222, current frame 225, 3 frames elapsed (need 3)
Readback 214 ready (submitted frame 222, current frame 225)
Checking readback 215: submitted frame 222, current frame 225, 3 frames elapsed (need 3)
Readback 215 ready (submitted frame 222, current frame 225)
Checking readback 216: submitted frame 223, current frame 225, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 129/512 completed
Minichunk 130/512 completed
Minichunk 131/512 completed
Minichunk 132/512 completed
Minichunk 133/512 completed
Minichunk 134/512 completed
Minichunk 135/512 completed
Minichunk 136/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 137/512 completed
Minichunk 138/512 completed
Minichunk 139/512 completed
Minichunk 140/512 completed
Minichunk 141/512 completed
Minichunk 142/512 completed
Minichunk 143/512 completed
Minichunk 144/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 225
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 225, frames_in_flight: 3
Checking readback 216: submitted frame 223, current frame 225, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 45 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [-64, -48, 48] to [0, -40, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b924e8, alignment: 0
Returning buffer pointer: 0x21fe6b924e8 (aligned: true)
Created staging buffer at: 0x21fe6b924e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecce000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2475822009309727573), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92528, alignment: 0
Returning buffer pointer: 0x21fe6b92528 (aligned: true)
Created staging buffer at: 0x21fe6b92528
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc04000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13199031260543978327), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b925a8, alignment: 0
Returning buffer pointer: 0x21fe6b925a8 (aligned: true)
Created staging buffer at: 0x21fe6b925a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3528261345277381465), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b929a8, alignment: 0
Returning buffer pointer: 0x21fe6b929a8 (aligned: true)
Created staging buffer at: 0x21fe6b929a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdf000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4485485173302889307), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.8e1,4.8e1] to [0.0e0,-4.0e1,5.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b922e8, alignment: 0
Returning buffer pointer: 0x21fe6b922e8 (aligned: true)
Submitting readback 217 at frame 225 (will be ready at frame 228)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -56, 48] to [0, -48, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96428, alignment: 0
Returning buffer pointer: 0x21fe6b96428 (aligned: true)
Created staging buffer at: 0x21fe6b96428
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13368923399221414752), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b968a8, alignment: 0
Returning buffer pointer: 0x21fe6b968a8 (aligned: true)
Created staging buffer at: 0x21fe6b968a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2701762852724673378), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96a68, alignment: 0
Returning buffer pointer: 0x21fe6b96a68 (aligned: true)
Created staging buffer at: 0x21fe6b96a68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5527272440620649316), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b95ce8, alignment: 0
Returning buffer pointer: 0x21fe6b95ce8 (aligned: true)
Created staging buffer at: 0x21fe6b95ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1a000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12665022652188986214), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-5.6e1,4.8e1] to [0.0e0,-4.8e1,5.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b96c28, alignment: 0
Returning buffer pointer: 0x21fe6b96c28 (aligned: true)
Submitting readback 218 at frame 225 (will be ready at frame 228)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.8ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 226
Processing readbacks: 3 pending, completed_frame: 226, frames_in_flight: 3
Checking readback 216: submitted frame 223, current frame 226, 3 frames elapsed (need 3)
Readback 216 ready (submitted frame 223, current frame 226)
Checking readback 217: submitted frame 225, current frame 226, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 145/512 completed
Minichunk 146/512 completed
Minichunk 147/512 completed
Minichunk 148/512 completed
Minichunk 149/512 completed
Minichunk 150/512 completed
Minichunk 151/512 completed
Minichunk 152/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 226
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 226, frames_in_flight: 3
Checking readback 217: submitted frame 225, current frame 226, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 43 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -64, 48] to [0, -56, 56]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90468, alignment: 0
Returning buffer pointer: 0x21fe6b90468 (aligned: true)
Created staging buffer at: 0x21fe6b90468
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1714629009888775019), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fd68, alignment: 0
Returning buffer pointer: 0x21fe6b8fd68 (aligned: true)
Created staging buffer at: 0x21fe6b8fd68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5967647738265865069), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90568, alignment: 0
Returning buffer pointer: 0x21fe6b90568 (aligned: true)
Created staging buffer at: 0x21fe6b90568
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6348116144871705455), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b905e8, alignment: 0
Returning buffer pointer: 0x21fe6b905e8 (aligned: true)
Created staging buffer at: 0x21fe6b905e8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd1000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(110263424079891313), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,4.8e1] to [0.0e0,-5.6e1,5.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90628, alignment: 0
Returning buffer pointer: 0x21fe6b90628 (aligned: true)
Submitting readback 219 at frame 226 (will be ready at frame 229)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.6ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 8)
DeferredReadbackManager: advanced to frame 227
Processing readbacks: 3 pending, completed_frame: 227, frames_in_flight: 3
Checking readback 217: submitted frame 225, current frame 227, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 227
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 227, frames_in_flight: 3
Checking readback 217: submitted frame 225, current frame 227, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 42 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.7ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 228
Processing readbacks: 3 pending, completed_frame: 228, frames_in_flight: 3
Checking readback 217: submitted frame 225, current frame 228, 3 frames elapsed (need 3)
Readback 217 ready (submitted frame 225, current frame 228)
Checking readback 218: submitted frame 225, current frame 228, 3 frames elapsed (need 3)
Readback 218 ready (submitted frame 225, current frame 228)
Checking readback 219: submitted frame 226, current frame 228, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 153/512 completed
Minichunk 154/512 completed
Minichunk 155/512 completed
Minichunk 156/512 completed
Minichunk 157/512 completed
Minichunk 158/512 completed
Minichunk 159/512 completed
Minichunk 160/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 161/512 completed
Minichunk 162/512 completed
Minichunk 163/512 completed
Minichunk 164/512 completed
Minichunk 165/512 completed
Minichunk 166/512 completed
Minichunk 167/512 completed
Minichunk 168/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 228
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 228, frames_in_flight: 3
Checking readback 219: submitted frame 226, current frame 228, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 42 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [-64, -8, 40] to [-8, 0, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96b28, alignment: 0
Returning buffer pointer: 0x21fe6b96b28 (aligned: true)
Created staging buffer at: 0x21fe6b96b28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6998350828864015222), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96b68, alignment: 0
Returning buffer pointer: 0x21fe6b96b68 (aligned: true)
Created staging buffer at: 0x21fe6b96b68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5374250108848180088), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96c28, alignment: 0
Returning buffer pointer: 0x21fe6b96c28 (aligned: true)
Created staging buffer at: 0x21fe6b96c28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8062215190155889530), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b906a8, alignment: 0
Returning buffer pointer: 0x21fe6b906a8 (aligned: true)
Created staging buffer at: 0x21fe6b906a8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfe000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8267386258922146684), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e0,4.0e1] to [-8.0e0,0.0e0,4.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b906e8, alignment: 0
Returning buffer pointer: 0x21fe6b906e8 (aligned: true)
Submitting readback 220 at frame 228 (will be ready at frame 231)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [-8, -8, 40] to [0, 0, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90728, alignment: 0
Returning buffer pointer: 0x21fe6b90728 (aligned: true)
Created staging buffer at: 0x21fe6b90728
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbca000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8301203938057653121), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fda8, alignment: 0
Returning buffer pointer: 0x21fe6b8fda8 (aligned: true)
Created staging buffer at: 0x21fe6b8fda8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab0000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9113806802658528131), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90768, alignment: 0
Returning buffer pointer: 0x21fe6b90768 (aligned: true)
Created staging buffer at: 0x21fe6b90768
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9341786140631370629), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fe28, alignment: 0
Returning buffer pointer: 0x21fe6b8fe28 (aligned: true)
Created staging buffer at: 0x21fe6b8fe28
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccf000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8867045607060016007), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-8.0e0,4.0e1] to [0.0e0,0.0e0,4.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90028, alignment: 0
Returning buffer pointer: 0x21fe6b90028 (aligned: true)
Submitting readback 221 at frame 228 (will be ready at frame 231)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.9ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 229
Processing readbacks: 3 pending, completed_frame: 229, frames_in_flight: 3
Checking readback 219: submitted frame 226, current frame 229, 3 frames elapsed (need 3)
Readback 219 ready (submitted frame 226, current frame 229)
Checking readback 220: submitted frame 228, current frame 229, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 169/512 completed
Minichunk 170/512 completed
Minichunk 171/512 completed
Minichunk 172/512 completed
Minichunk 173/512 completed
Minichunk 174/512 completed
Minichunk 175/512 completed
Minichunk 176/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 229
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 229, frames_in_flight: 3
Checking readback 220: submitted frame 228, current frame 229, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 41 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -16, 40] to [0, -8, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91128, alignment: 0
Returning buffer pointer: 0x21fe6b91128 (aligned: true)
Created staging buffer at: 0x21fe6b91128
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbda000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5257873400117857164), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b918a8, alignment: 0
Returning buffer pointer: 0x21fe6b918a8 (aligned: true)
Created staging buffer at: 0x21fe6b918a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7926557445520886670), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91a28, alignment: 0
Returning buffer pointer: 0x21fe6b91a28 (aligned: true)
Created staging buffer at: 0x21fe6b91a28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7825571700556172176), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91a68, alignment: 0
Returning buffer pointer: 0x21fe6b91a68 (aligned: true)
Created staging buffer at: 0x21fe6b91a68
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd9000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4995554114986314642), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.6e1,4.0e1] to [0.0e0,-8.0e0,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91aa8, alignment: 0
Returning buffer pointer: 0x21fe6b91aa8 (aligned: true)
Submitting readback 222 at frame 229 (will be ready at frame 232)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 9)
DeferredReadbackManager: advanced to frame 230
Processing readbacks: 3 pending, completed_frame: 230, frames_in_flight: 3
Checking readback 220: submitted frame 228, current frame 230, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 230
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 230, frames_in_flight: 3
Checking readback 220: submitted frame 228, current frame 230, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 40 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 23.0ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 231
Processing readbacks: 3 pending, completed_frame: 231, frames_in_flight: 3
Checking readback 220: submitted frame 228, current frame 231, 3 frames elapsed (need 3)
Readback 220 ready (submitted frame 228, current frame 231)
Checking readback 221: submitted frame 228, current frame 231, 3 frames elapsed (need 3)
Readback 221 ready (submitted frame 228, current frame 231)
Checking readback 222: submitted frame 229, current frame 231, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 177/512 completed
Minichunk 178/512 completed
Minichunk 179/512 completed
Minichunk 180/512 completed
Minichunk 181/512 completed
Minichunk 182/512 completed
Minichunk 183/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 184/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 231
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 231, frames_in_flight: 3
Checking readback 222: submitted frame 229, current frame 231, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 40 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [-64, -24, 40] to [0, -16, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b904e8, alignment: 0
Returning buffer pointer: 0x21fe6b904e8 (aligned: true)
Created staging buffer at: 0x21fe6b904e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecda000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6675508926181542807), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fc68, alignment: 0
Returning buffer pointer: 0x21fe6b8fc68 (aligned: true)
Created staging buffer at: 0x21fe6b8fc68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2151060359325158297), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fba8, alignment: 0
Returning buffer pointer: 0x21fe6b8fba8 (aligned: true)
Created staging buffer at: 0x21fe6b8fba8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc05000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6399729419702766491), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b901e8, alignment: 0
Returning buffer pointer: 0x21fe6b901e8 (aligned: true)
Created staging buffer at: 0x21fe6b901e8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbef000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6316287482270845853), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-2.4e1,4.0e1] to [0.0e0,-1.6e1,4.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90228, alignment: 0
Returning buffer pointer: 0x21fe6b90228 (aligned: true)
Submitting readback 223 at frame 231 (will be ready at frame 234)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -32, 40] to [0, -24, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90028, alignment: 0
Returning buffer pointer: 0x21fe6b90028 (aligned: true)
Created staging buffer at: 0x21fe6b90028
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3471801423191083938), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90168, alignment: 0
Returning buffer pointer: 0x21fe6b90168 (aligned: true)
Created staging buffer at: 0x21fe6b90168
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc15000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12282608110001982372), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90628, alignment: 0
Returning buffer pointer: 0x21fe6b90628 (aligned: true)
Created staging buffer at: 0x21fe6b90628
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4989272605056830374), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fde8, alignment: 0
Returning buffer pointer: 0x21fe6b8fde8 (aligned: true)
Created staging buffer at: 0x21fe6b8fde8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab2000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2730301776535227304), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-3.2e1,4.0e1] to [0.0e0,-2.4e1,4.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b906e8, alignment: 0
Returning buffer pointer: 0x21fe6b906e8 (aligned: true)
Submitting readback 224 at frame 231 (will be ready at frame 234)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 232
Processing readbacks: 3 pending, completed_frame: 232, frames_in_flight: 3
Checking readback 222: submitted frame 229, current frame 232, 3 frames elapsed (need 3)
Readback 222 ready (submitted frame 229, current frame 232)
Checking readback 223: submitted frame 231, current frame 232, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 185/512 completed
Minichunk 186/512 completed
Minichunk 187/512 completed
Minichunk 188/512 completed
Minichunk 189/512 completed
Minichunk 190/512 completed
Minichunk 191/512 completed
Minichunk 192/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 232
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 232, frames_in_flight: 3
Checking readback 223: submitted frame 231, current frame 232, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 38 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -40, 40] to [0, -32, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91628, alignment: 0
Returning buffer pointer: 0x21fe6b91628 (aligned: true)
Created staging buffer at: 0x21fe6b91628
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc16000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13689682826880879533), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91168, alignment: 0
Returning buffer pointer: 0x21fe6b91168 (aligned: true)
Created staging buffer at: 0x21fe6b91168
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc06000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4229659603844991919), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ca8, alignment: 0
Returning buffer pointer: 0x21fe6b90ca8 (aligned: true)
Created staging buffer at: 0x21fe6b90ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbff000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3982592744013958065), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90d68, alignment: 0
Returning buffer pointer: 0x21fe6b90d68 (aligned: true)
Created staging buffer at: 0x21fe6b90d68
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbec000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9826785117689875379), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.0e1,4.0e1] to [0.0e0,-3.2e1,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90f28, alignment: 0
Returning buffer pointer: 0x21fe6b90f28 (aligned: true)
Submitting readback 225 at frame 232 (will be ready at frame 235)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 9)
DeferredReadbackManager: advanced to frame 233
Processing readbacks: 3 pending, completed_frame: 233, frames_in_flight: 3
Checking readback 223: submitted frame 231, current frame 233, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 233
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 233, frames_in_flight: 3
Checking readback 223: submitted frame 231, current frame 233, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 37 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 23.0ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 234
Processing readbacks: 3 pending, completed_frame: 234, frames_in_flight: 3
Checking readback 223: submitted frame 231, current frame 234, 3 frames elapsed (need 3)
Readback 223 ready (submitted frame 231, current frame 234)
Checking readback 224: submitted frame 231, current frame 234, 3 frames elapsed (need 3)
Readback 224 ready (submitted frame 231, current frame 234)
Checking readback 225: submitted frame 232, current frame 234, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 193/512 completed
Minichunk 194/512 completed
Minichunk 195/512 completed
Minichunk 196/512 completed
Minichunk 197/512 completed
Minichunk 198/512 completed
Minichunk 199/512 completed
Minichunk 200/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 201/512 completed
Minichunk 202/512 completed
Minichunk 203/512 completed
Minichunk 204/512 completed
Minichunk 205/512 completed
Minichunk 206/512 completed
Minichunk 207/512 completed
Minichunk 208/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 234
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 234, frames_in_flight: 3
Checking readback 225: submitted frame 232, current frame 234, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 37 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [-64, -48, 40] to [0, -40, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b909a8, alignment: 0
Returning buffer pointer: 0x21fe6b909a8 (aligned: true)
Created staging buffer at: 0x21fe6b909a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdb000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2906908632723491768), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90268, alignment: 0
Returning buffer pointer: 0x21fe6b90268 (aligned: true)
Created staging buffer at: 0x21fe6b90268
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13915832577505102778), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b901a8, alignment: 0
Returning buffer pointer: 0x21fe6b901a8 (aligned: true)
Created staging buffer at: 0x21fe6b901a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11925934234532842428), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b900e8, alignment: 0
Returning buffer pointer: 0x21fe6b900e8 (aligned: true)
Created staging buffer at: 0x21fe6b900e8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdc000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2029887580874476478), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.8e1,4.0e1] to [0.0e0,-4.0e1,4.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b908a8, alignment: 0
Returning buffer pointer: 0x21fe6b908a8 (aligned: true)
Submitting readback 226 at frame 234 (will be ready at frame 237)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -56, 40] to [0, -48, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90228, alignment: 0
Returning buffer pointer: 0x21fe6b90228 (aligned: true)
Created staging buffer at: 0x21fe6b90228
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15317711002431130563), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fae8, alignment: 0
Returning buffer pointer: 0x21fe6b8fae8 (aligned: true)
Created staging buffer at: 0x21fe6b8fae8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15520792999104613317), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b906e8, alignment: 0
Returning buffer pointer: 0x21fe6b906e8 (aligned: true)
Created staging buffer at: 0x21fe6b906e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(846216034573618119), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b900a8, alignment: 0
Returning buffer pointer: 0x21fe6b900a8 (aligned: true)
Created staging buffer at: 0x21fe6b900a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc13000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16208502337906412489), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-5.6e1,4.0e1] to [0.0e0,-4.8e1,4.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b907a8, alignment: 0
Returning buffer pointer: 0x21fe6b907a8 (aligned: true)
Submitting readback 227 at frame 234 (will be ready at frame 237)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.0ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 235
Processing readbacks: 3 pending, completed_frame: 235, frames_in_flight: 3
Checking readback 225: submitted frame 232, current frame 235, 3 frames elapsed (need 3)
Readback 225 ready (submitted frame 232, current frame 235)
Checking readback 226: submitted frame 234, current frame 235, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 209/512 completed
Minichunk 210/512 completed
Minichunk 211/512 completed
Minichunk 212/512 completed
Minichunk 213/512 completed
Minichunk 214/512 completed
Minichunk 215/512 completed
Minichunk 216/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 235
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 235, frames_in_flight: 3
Checking readback 226: submitted frame 234, current frame 235, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 35 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -64, 40] to [0, -56, 48]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92a28, alignment: 0
Returning buffer pointer: 0x21fe6b92a28 (aligned: true)
Created staging buffer at: 0x21fe6b92a28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13905021079669181390), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b922a8, alignment: 0
Returning buffer pointer: 0x21fe6b922a8 (aligned: true)
Created staging buffer at: 0x21fe6b922a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc14000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17989277967322188752), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ce8, alignment: 0
Returning buffer pointer: 0x21fe6b91ce8 (aligned: true)
Created staging buffer at: 0x21fe6b91ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17441318755433974738), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91b68, alignment: 0
Returning buffer pointer: 0x21fe6b91b68 (aligned: true)
Created staging buffer at: 0x21fe6b91b68
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc07000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18202358922738666452), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,4.0e1] to [0.0e0,-5.6e1,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b922e8, alignment: 0
Returning buffer pointer: 0x21fe6b922e8 (aligned: true)
Submitting readback 228 at frame 235 (will be ready at frame 238)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.7ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 7)
DeferredReadbackManager: advanced to frame 236
Processing readbacks: 3 pending, completed_frame: 236, frames_in_flight: 3
Checking readback 226: submitted frame 234, current frame 236, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 236
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 236, frames_in_flight: 3
Checking readback 226: submitted frame 234, current frame 236, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 34 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.8ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 237
Processing readbacks: 3 pending, completed_frame: 237, frames_in_flight: 3
Checking readback 226: submitted frame 234, current frame 237, 3 frames elapsed (need 3)
Readback 226 ready (submitted frame 234, current frame 237)
Checking readback 227: submitted frame 234, current frame 237, 3 frames elapsed (need 3)
Readback 227 ready (submitted frame 234, current frame 237)
Checking readback 228: submitted frame 235, current frame 237, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 217/512 completed
Minichunk 218/512 completed
Minichunk 219/512 completed
Minichunk 220/512 completed
Minichunk 221/512 completed
Minichunk 222/512 completed
Minichunk 223/512 completed
Minichunk 224/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 225/512 completed
Minichunk 226/512 completed
Minichunk 227/512 completed
Minichunk 228/512 completed
Minichunk 229/512 completed
Minichunk 230/512 completed
Minichunk 231/512 completed
Minichunk 232/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 237
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 237, frames_in_flight: 3
Checking readback 228: submitted frame 235, current frame 237, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 34 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [-64, -8, 32] to [-8, 0, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b907a8, alignment: 0
Returning buffer pointer: 0x21fe6b907a8 (aligned: true)
Created staging buffer at: 0x21fe6b907a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc08000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17798885434344868825), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90128, alignment: 0
Returning buffer pointer: 0x21fe6b90128 (aligned: true)
Created staging buffer at: 0x21fe6b90128
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10058835947220372443), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b907e8, alignment: 0
Returning buffer pointer: 0x21fe6b907e8 (aligned: true)
Created staging buffer at: 0x21fe6b907e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17208733563252378589), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fbe8, alignment: 0
Returning buffer pointer: 0x21fe6b8fbe8 (aligned: true)
Created staging buffer at: 0x21fe6b8fbe8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc9000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14506013035899915231), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e0,3.2e1] to [-8.0e0,0.0e0,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90868, alignment: 0
Returning buffer pointer: 0x21fe6b90868 (aligned: true)
Submitting readback 229 at frame 237 (will be ready at frame 240)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [-8, -8, 32] to [0, 0, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b908a8, alignment: 0
Returning buffer pointer: 0x21fe6b908a8 (aligned: true)
Created staging buffer at: 0x21fe6b908a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc17000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11044045644707662820), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b908e8, alignment: 0
Returning buffer pointer: 0x21fe6b908e8 (aligned: true)
Created staging buffer at: 0x21fe6b908e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1184083863161277414), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fc28, alignment: 0
Returning buffer pointer: 0x21fe6b8fc28 (aligned: true)
Created staging buffer at: 0x21fe6b8fc28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16049061057250986984), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90928, alignment: 0
Returning buffer pointer: 0x21fe6b90928 (aligned: true)
Created staging buffer at: 0x21fe6b90928
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdd000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11746278432600755178), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-8.0e0,3.2e1] to [0.0e0,0.0e0,4.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b912a8, alignment: 0
Returning buffer pointer: 0x21fe6b912a8 (aligned: true)
Submitting readback 230 at frame 237 (will be ready at frame 240)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.9ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 238
Processing readbacks: 3 pending, completed_frame: 238, frames_in_flight: 3
Checking readback 228: submitted frame 235, current frame 238, 3 frames elapsed (need 3)
Readback 228 ready (submitted frame 235, current frame 238)
Checking readback 229: submitted frame 237, current frame 238, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 233/512 completed
Minichunk 234/512 completed
Minichunk 235/512 completed
Minichunk 236/512 completed
Minichunk 237/512 completed
Minichunk 238/512 completed
Minichunk 239/512 completed
Minichunk 240/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 238
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 238, frames_in_flight: 3
Checking readback 229: submitted frame 237, current frame 238, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 33 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -16, 32] to [0, -8, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92628, alignment: 0
Returning buffer pointer: 0x21fe6b92628 (aligned: true)
Created staging buffer at: 0x21fe6b92628
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(286689960361200623), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92328, alignment: 0
Returning buffer pointer: 0x21fe6b92328 (aligned: true)
Created staging buffer at: 0x21fe6b92328
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc11000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12408332866591656945), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92128, alignment: 0
Returning buffer pointer: 0x21fe6b92128 (aligned: true)
Created staging buffer at: 0x21fe6b92128
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14802490848771574771), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d68, alignment: 0
Returning buffer pointer: 0x21fe6b91d68 (aligned: true)
Created staging buffer at: 0x21fe6b91d68
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe5000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3550909085786311669), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.6e1,3.2e1] to [0.0e0,-8.0e0,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b927a8, alignment: 0
Returning buffer pointer: 0x21fe6b927a8 (aligned: true)
Submitting readback 231 at frame 238 (will be ready at frame 241)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.7ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 7)
DeferredReadbackManager: advanced to frame 239
Processing readbacks: 3 pending, completed_frame: 239, frames_in_flight: 3
Checking readback 229: submitted frame 237, current frame 239, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 239
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 239, frames_in_flight: 3
Checking readback 229: submitted frame 237, current frame 239, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 32 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.7ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 240
Processing readbacks: 3 pending, completed_frame: 240, frames_in_flight: 3
Checking readback 229: submitted frame 237, current frame 240, 3 frames elapsed (need 3)
Readback 229 ready (submitted frame 237, current frame 240)
Checking readback 230: submitted frame 237, current frame 240, 3 frames elapsed (need 3)
Readback 230 ready (submitted frame 237, current frame 240)
Checking readback 231: submitted frame 238, current frame 240, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 241/512 completed
Minichunk 242/512 completed
Minichunk 243/512 completed
Minichunk 244/512 completed
Minichunk 245/512 completed
Minichunk 246/512 completed
Minichunk 247/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 248/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 240
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 240, frames_in_flight: 3
Checking readback 231: submitted frame 238, current frame 240, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 32 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 1
Overall bounds: [-64, -24, 32] to [-16, -16, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91668, alignment: 0
Returning buffer pointer: 0x21fe6b91668 (aligned: true)
Created staging buffer at: 0x21fe6b91668
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc19000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12848552033585728506), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b916a8, alignment: 0
Returning buffer pointer: 0x21fe6b916a8 (aligned: true)
Created staging buffer at: 0x21fe6b916a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4091287165001010172), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b913e8, alignment: 0
Returning buffer pointer: 0x21fe6b913e8 (aligned: true)
Created staging buffer at: 0x21fe6b913e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2584465852761902078), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90de8, alignment: 0
Returning buffer pointer: 0x21fe6b90de8 (aligned: true)
Created staging buffer at: 0x21fe6b90de8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbeb000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9697252752333212672), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-2.4e1,3.2e1] to [-1.6e1,-1.6e1,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91428, alignment: 0
Returning buffer pointer: 0x21fe6b91428 (aligned: true)
Submitting readback 232 at frame 240 (will be ready at frame 243)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [-16, -24, 32] to [0, -16, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b919a8, alignment: 0
Returning buffer pointer: 0x21fe6b919a8 (aligned: true)
Created staging buffer at: 0x21fe6b919a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3322295329604242437), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90f28, alignment: 0
Returning buffer pointer: 0x21fe6b90f28 (aligned: true)
Created staging buffer at: 0x21fe6b90f28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5513136019622333447), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b914a8, alignment: 0
Returning buffer pointer: 0x21fe6b914a8 (aligned: true)
Created staging buffer at: 0x21fe6b914a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbed000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10748383669463813129), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91aa8, alignment: 0
Returning buffer pointer: 0x21fe6b91aa8 (aligned: true)
Created staging buffer at: 0x21fe6b91aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbee000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2809819556967615499), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.6e1,-2.4e1,3.2e1] to [0.0e0,-1.6e1,4.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91528, alignment: 0
Returning buffer pointer: 0x21fe6b91528 (aligned: true)
Submitting readback 233 at frame 240 (will be ready at frame 243)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.1ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 241
Processing readbacks: 3 pending, completed_frame: 241, frames_in_flight: 3
Checking readback 231: submitted frame 238, current frame 241, 3 frames elapsed (need 3)
Readback 231 ready (submitted frame 238, current frame 241)
Checking readback 232: submitted frame 240, current frame 241, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 249/512 completed
Minichunk 250/512 completed
Minichunk 251/512 completed
Minichunk 252/512 completed
Minichunk 253/512 completed
Minichunk 254/512 completed
Minichunk 255/512 completed
Minichunk 256/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 241
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 241, frames_in_flight: 3
Checking readback 232: submitted frame 240, current frame 241, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 31 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 0
Overall bounds: [-64, -32, 32] to [-8, -24, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b922e8, alignment: 0
Returning buffer pointer: 0x21fe6b922e8 (aligned: true)
Created staging buffer at: 0x21fe6b922e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6838327906557496336), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b927e8, alignment: 0
Returning buffer pointer: 0x21fe6b927e8 (aligned: true)
Created staging buffer at: 0x21fe6b927e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfa000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7186703767771810834), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91fe8, alignment: 0
Returning buffer pointer: 0x21fe6b91fe8 (aligned: true)
Created staging buffer at: 0x21fe6b91fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(536485808052374548), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b926a8, alignment: 0
Returning buffer pointer: 0x21fe6b926a8 (aligned: true)
Created staging buffer at: 0x21fe6b926a8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc10000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5920061974527347734), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-3.2e1,3.2e1] to [-8.0e0,-2.4e1,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91ba8, alignment: 0
Returning buffer pointer: 0x21fe6b91ba8 (aligned: true)
Submitting readback 234 at frame 241 (will be ready at frame 244)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.0ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 9)
DeferredReadbackManager: advanced to frame 242
Processing readbacks: 3 pending, completed_frame: 242, frames_in_flight: 3
Checking readback 232: submitted frame 240, current frame 242, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 242
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 242, frames_in_flight: 3
Checking readback 232: submitted frame 240, current frame 242, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 31 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 23.0ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 243
Processing readbacks: 3 pending, completed_frame: 243, frames_in_flight: 3
Checking readback 232: submitted frame 240, current frame 243, 3 frames elapsed (need 3)
Readback 232 ready (submitted frame 240, current frame 243)
Checking readback 233: submitted frame 240, current frame 243, 3 frames elapsed (need 3)
Readback 233 ready (submitted frame 240, current frame 243)
Checking readback 234: submitted frame 241, current frame 243, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 257/512 completed
Minichunk 258/512 completed
Minichunk 259/512 completed
Minichunk 260/512 completed
Minichunk 261/512 completed
Minichunk 262/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 263/512 completed
Minichunk 264/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 243
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 243, frames_in_flight: 3
Checking readback 234: submitted frame 241, current frame 243, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 31 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [-64, -40, 32] to [-8, -32, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ae8, alignment: 0
Returning buffer pointer: 0x21fe6b90ae8 (aligned: true)
Created staging buffer at: 0x21fe6b90ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbce000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8259861201341647899), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91428, alignment: 0
Returning buffer pointer: 0x21fe6b91428 (aligned: true)
Created staging buffer at: 0x21fe6b91428
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc01000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8433679696041872413), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90fa8, alignment: 0
Returning buffer pointer: 0x21fe6b90fa8 (aligned: true)
Created staging buffer at: 0x21fe6b90fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc02000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7250215957438663711), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b912a8, alignment: 0
Returning buffer pointer: 0x21fe6b912a8 (aligned: true)
Created staging buffer at: 0x21fe6b912a8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc12000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4766663281874045985), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.0e1,3.2e1] to [-8.0e0,-3.2e1,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91528, alignment: 0
Returning buffer pointer: 0x21fe6b91528 (aligned: true)
Submitting readback 235 at frame 243 (will be ready at frame 246)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [-8, -40, 32] to [0, -32, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ba8, alignment: 0
Returning buffer pointer: 0x21fe6b90ba8 (aligned: true)
Created staging buffer at: 0x21fe6b90ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7178447534958840870), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90e68, alignment: 0
Returning buffer pointer: 0x21fe6b90e68 (aligned: true)
Created staging buffer at: 0x21fe6b90e68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8597483838836313128), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ea8, alignment: 0
Returning buffer pointer: 0x21fe6b90ea8 (aligned: true)
Created staging buffer at: 0x21fe6b90ea8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8127277691217906730), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ee8, alignment: 0
Returning buffer pointer: 0x21fe6b90ee8 (aligned: true)
Created staging buffer at: 0x21fe6b90ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd7000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7629979577091099692), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-4.0e1,3.2e1] to [0.0e0,-3.2e1,4.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90fe8, alignment: 0
Returning buffer pointer: 0x21fe6b90fe8 (aligned: true)
Submitting readback 236 at frame 243 (will be ready at frame 246)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.8ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 244
Processing readbacks: 3 pending, completed_frame: 244, frames_in_flight: 3
Checking readback 234: submitted frame 241, current frame 244, 3 frames elapsed (need 3)
Readback 234 ready (submitted frame 241, current frame 244)
Checking readback 235: submitted frame 243, current frame 244, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 265/512 completed
Minichunk 266/512 completed
Minichunk 267/512 completed
Minichunk 268/512 completed
Minichunk 269/512 completed
Minichunk 270/512 completed
Minichunk 271/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 244
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 244, frames_in_flight: 3
Checking readback 235: submitted frame 243, current frame 244, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 30 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -48, 32] to [0, -40, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91e28, alignment: 0
Returning buffer pointer: 0x21fe6b91e28 (aligned: true)
Created staging buffer at: 0x21fe6b91e28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9938466911769594929), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92768, alignment: 0
Returning buffer pointer: 0x21fe6b92768 (aligned: true)
Created staging buffer at: 0x21fe6b92768
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7402586278815861811), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b927a8, alignment: 0
Returning buffer pointer: 0x21fe6b927a8 (aligned: true)
Created staging buffer at: 0x21fe6b927a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6629609813280033845), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91f28, alignment: 0
Returning buffer pointer: 0x21fe6b91f28 (aligned: true)
Created staging buffer at: 0x21fe6b91f28
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe9000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11506496936815365175), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.8e1,3.2e1] to [0.0e0,-4.0e1,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91da8, alignment: 0
Returning buffer pointer: 0x21fe6b91da8 (aligned: true)
Submitting readback 237 at frame 244 (will be ready at frame 247)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.0ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 10)
DeferredReadbackManager: advanced to frame 245
Processing readbacks: 3 pending, completed_frame: 245, frames_in_flight: 3
Checking readback 235: submitted frame 243, current frame 245, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 245
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 245, frames_in_flight: 3
Checking readback 235: submitted frame 243, current frame 245, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 23.0ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 246
Processing readbacks: 3 pending, completed_frame: 246, frames_in_flight: 3
Checking readback 235: submitted frame 243, current frame 246, 3 frames elapsed (need 3)
Readback 235 ready (submitted frame 243, current frame 246)
Checking readback 236: submitted frame 243, current frame 246, 3 frames elapsed (need 3)
Readback 236 ready (submitted frame 243, current frame 246)
Checking readback 237: submitted frame 244, current frame 246, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 272/512 completed
Minichunk 273/512 completed
Minichunk 274/512 completed
Minichunk 275/512 completed
Minichunk 276/512 completed
Minichunk 277/512 completed
Minichunk 278/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 279/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 246
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 246, frames_in_flight: 3
Checking readback 237: submitted frame 244, current frame 246, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [-64, -56, 32] to [0, -48, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91528, alignment: 0
Returning buffer pointer: 0x21fe6b91528 (aligned: true)
Created staging buffer at: 0x21fe6b91528
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbea000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1672754109544926268), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90fe8, alignment: 0
Returning buffer pointer: 0x21fe6b90fe8 (aligned: true)
Created staging buffer at: 0x21fe6b90fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5976016121264868414), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b917e8, alignment: 0
Returning buffer pointer: 0x21fe6b917e8 (aligned: true)
Created staging buffer at: 0x21fe6b917e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbde000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12233409362705517632), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92368, alignment: 0
Returning buffer pointer: 0x21fe6b92368 (aligned: true)
Created staging buffer at: 0x21fe6b92368
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfd000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(95348548849110082), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-5.6e1,3.2e1] to [0.0e0,-4.8e1,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92828, alignment: 0
Returning buffer pointer: 0x21fe6b92828 (aligned: true)
Submitting readback 238 at frame 246 (will be ready at frame 249)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -16, 24] to [0, -8, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92868, alignment: 0
Returning buffer pointer: 0x21fe6b92868 (aligned: true)
Created staging buffer at: 0x21fe6b92868
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc03000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11626845081545215047), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91e68, alignment: 0
Returning buffer pointer: 0x21fe6b91e68 (aligned: true)
Created staging buffer at: 0x21fe6b91e68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd8000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13430767629748931657), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92568, alignment: 0
Returning buffer pointer: 0x21fe6b92568 (aligned: true)
Created staging buffer at: 0x21fe6b92568
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4579525303314943051), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ea8, alignment: 0
Returning buffer pointer: 0x21fe6b91ea8 (aligned: true)
Created staging buffer at: 0x21fe6b91ea8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd9000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13615542757819944013), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.6e1,2.4e1] to [0.0e0,-8.0e0,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91ba8, alignment: 0
Returning buffer pointer: 0x21fe6b91ba8 (aligned: true)
Submitting readback 239 at frame 246 (will be ready at frame 249)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.3ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 247
Processing readbacks: 3 pending, completed_frame: 247, frames_in_flight: 3
Checking readback 237: submitted frame 244, current frame 247, 3 frames elapsed (need 3)
Readback 237 ready (submitted frame 244, current frame 247)
Checking readback 238: submitted frame 246, current frame 247, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 280/512 completed
Minichunk 281/512 completed
Minichunk 282/512 completed
Minichunk 283/512 completed
Minichunk 284/512 completed
Minichunk 285/512 completed
Minichunk 286/512 completed
Minichunk 287/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 247
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 247, frames_in_flight: 3
Checking readback 238: submitted frame 246, current frame 247, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -64, 32] to [0, -56, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920a8, alignment: 0
Returning buffer pointer: 0x21fe6b920a8 (aligned: true)
Created staging buffer at: 0x21fe6b920a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc00000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3786558616874519634), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91da8, alignment: 0
Returning buffer pointer: 0x21fe6b91da8 (aligned: true)
Created staging buffer at: 0x21fe6b91da8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3325829159975914580), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b925e8, alignment: 0
Returning buffer pointer: 0x21fe6b925e8 (aligned: true)
Created staging buffer at: 0x21fe6b925e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9326965823400578134), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b928a8, alignment: 0
Returning buffer pointer: 0x21fe6b928a8 (aligned: true)
Created staging buffer at: 0x21fe6b928a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccc000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3119538788372581464), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,3.2e1] to [0.0e0,-5.6e1,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b921a8, alignment: 0
Returning buffer pointer: 0x21fe6b921a8 (aligned: true)
Submitting readback 240 at frame 247 (will be ready at frame 250)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.3ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 9)
DeferredReadbackManager: advanced to frame 248
Processing readbacks: 3 pending, completed_frame: 248, frames_in_flight: 3
Checking readback 238: submitted frame 246, current frame 248, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 248
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 248, frames_in_flight: 3
Checking readback 238: submitted frame 246, current frame 248, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 26 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 23.2ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 249
Processing readbacks: 3 pending, completed_frame: 249, frames_in_flight: 3
Checking readback 238: submitted frame 246, current frame 249, 3 frames elapsed (need 3)
Readback 238 ready (submitted frame 246, current frame 249)
Checking readback 239: submitted frame 246, current frame 249, 3 frames elapsed (need 3)
Readback 239 ready (submitted frame 246, current frame 249)
Checking readback 240: submitted frame 247, current frame 249, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 288/512 completed
Minichunk 289/512 completed
Minichunk 290/512 completed
Minichunk 291/512 completed
Minichunk 292/512 completed
Minichunk 293/512 completed
Minichunk 294/512 completed
Minichunk 295/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 296/512 completed
Minichunk 297/512 completed
Minichunk 298/512 completed
Minichunk 299/512 completed
Minichunk 300/512 completed
Minichunk 301/512 completed
Minichunk 302/512 completed
Minichunk 303/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 249
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 249, frames_in_flight: 3
Checking readback 240: submitted frame 247, current frame 249, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 26 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 1 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 1 minichunks in workspace 1
Overall bounds: [-8, -32, 32] to [0, -24, 40]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b921e8, alignment: 0
Returning buffer pointer: 0x21fe6b921e8 (aligned: true)
Created staging buffer at: 0x21fe6b921e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15583071536725101661), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92028, alignment: 0
Returning buffer pointer: 0x21fe6b92028 (aligned: true)
Created staging buffer at: 0x21fe6b92028
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11523641621627276383), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92068, alignment: 0
Returning buffer pointer: 0x21fe6b92068 (aligned: true)
Created staging buffer at: 0x21fe6b92068
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1957470446534265953), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b929e8, alignment: 0
Returning buffer pointer: 0x21fe6b929e8 (aligned: true)
Created staging buffer at: 0x21fe6b929e8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf9000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14231540848746564707), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-3.2e1,3.2e1] to [0.0e0,-2.4e1,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91ba8, alignment: 0
Returning buffer pointer: 0x21fe6b91ba8 (aligned: true)
Submitting readback 241 at frame 249 (will be ready at frame 252)
Successfully queued 1 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -24, 24] to [0, -16, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91be8, alignment: 0
Returning buffer pointer: 0x21fe6b91be8 (aligned: true)
Created staging buffer at: 0x21fe6b91be8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17007883575183281256), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91de8, alignment: 0
Returning buffer pointer: 0x21fe6b91de8 (aligned: true)
Created staging buffer at: 0x21fe6b91de8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(981685762720271466), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92828, alignment: 0
Returning buffer pointer: 0x21fe6b92828 (aligned: true)
Created staging buffer at: 0x21fe6b92828
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16944054726167628908), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b923a8, alignment: 0
Returning buffer pointer: 0x21fe6b923a8 (aligned: true)
Created staging buffer at: 0x21fe6b923a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab5000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17855335460826516590), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-2.4e1,2.4e1] to [0.0e0,-1.6e1,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b928e8, alignment: 0
Returning buffer pointer: 0x21fe6b928e8 (aligned: true)
Submitting readback 242 at frame 249 (will be ready at frame 252)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.4ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 250
Processing readbacks: 3 pending, completed_frame: 250, frames_in_flight: 3
Checking readback 240: submitted frame 247, current frame 250, 3 frames elapsed (need 3)
Readback 240 ready (submitted frame 247, current frame 250)
Checking readback 241: submitted frame 249, current frame 250, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 304/512 completed
Minichunk 305/512 completed
Minichunk 306/512 completed
Minichunk 307/512 completed
Minichunk 308/512 completed
Minichunk 309/512 completed
Minichunk 310/512 completed
Minichunk 311/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 250
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 250, frames_in_flight: 3
Checking readback 241: submitted frame 249, current frame 250, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -32, 24] to [0, -24, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92168, alignment: 0
Returning buffer pointer: 0x21fe6b92168 (aligned: true)
Created staging buffer at: 0x21fe6b92168
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc18000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18433963350548286579), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92928, alignment: 0
Returning buffer pointer: 0x21fe6b92928 (aligned: true)
Created staging buffer at: 0x21fe6b92928
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc04000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18107802022261558389), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92968, alignment: 0
Returning buffer pointer: 0x21fe6b92968 (aligned: true)
Created staging buffer at: 0x21fe6b92968
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14222776641561562231), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b929a8, alignment: 0
Returning buffer pointer: 0x21fe6b929a8 (aligned: true)
Created staging buffer at: 0x21fe6b929a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecce000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16444597171203869817), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-3.2e1,2.4e1] to [0.0e0,-2.4e1,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b920e8, alignment: 0
Returning buffer pointer: 0x21fe6b920e8 (aligned: true)
Submitting readback 243 at frame 250 (will be ready at frame 253)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.2ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 8)
DeferredReadbackManager: advanced to frame 251
Processing readbacks: 3 pending, completed_frame: 251, frames_in_flight: 3
Checking readback 241: submitted frame 249, current frame 251, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 251
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 251, frames_in_flight: 3
Checking readback 241: submitted frame 249, current frame 251, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 23 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 23.3ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 252
Processing readbacks: 3 pending, completed_frame: 252, frames_in_flight: 3
Checking readback 241: submitted frame 249, current frame 252, 3 frames elapsed (need 3)
Readback 241 ready (submitted frame 249, current frame 252)
Checking readback 242: submitted frame 249, current frame 252, 3 frames elapsed (need 3)
Readback 242 ready (submitted frame 249, current frame 252)
Checking readback 243: submitted frame 250, current frame 252, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (1 minichunks, 2048 bytes)
Minichunk 312/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 313/512 completed
Minichunk 314/512 completed
Minichunk 315/512 completed
Minichunk 316/512 completed
Minichunk 317/512 completed
Minichunk 318/512 completed
Minichunk 319/512 completed
Minichunk 320/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 252
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 252, frames_in_flight: 3
Checking readback 243: submitted frame 250, current frame 252, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 23 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [-64, -40, 24] to [-8, -32, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91f68, alignment: 0
Returning buffer pointer: 0x21fe6b91f68 (aligned: true)
Created staging buffer at: 0x21fe6b91f68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc09000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10213412988434517118), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b928e8, alignment: 0
Returning buffer pointer: 0x21fe6b928e8 (aligned: true)
Created staging buffer at: 0x21fe6b928e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16935517018377948288), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b921a8, alignment: 0
Returning buffer pointer: 0x21fe6b921a8 (aligned: true)
Created staging buffer at: 0x21fe6b921a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15540085030125571202), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ba8, alignment: 0
Returning buffer pointer: 0x21fe6b91ba8 (aligned: true)
Created staging buffer at: 0x21fe6b91ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd8000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10975429522064673924), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.0e1,2.4e1] to [-8.0e0,-3.2e1,3.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92468, alignment: 0
Returning buffer pointer: 0x21fe6b92468 (aligned: true)
Submitting readback 244 at frame 252 (will be ready at frame 255)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [-8, -40, 24] to [0, -32, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92228, alignment: 0
Returning buffer pointer: 0x21fe6b92228 (aligned: true)
Created staging buffer at: 0x21fe6b92228
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1a000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1975217663718198409), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c28, alignment: 0
Returning buffer pointer: 0x21fe6b91c28 (aligned: true)
Created staging buffer at: 0x21fe6b91c28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13926221862875958411), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c68, alignment: 0
Returning buffer pointer: 0x21fe6b91c68 (aligned: true)
Created staging buffer at: 0x21fe6b91c68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcf000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11949297757111454861), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ca8, alignment: 0
Returning buffer pointer: 0x21fe6b91ca8 (aligned: true)
Created staging buffer at: 0x21fe6b91ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab7000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(931925164982013071), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-4.0e1,2.4e1] to [0.0e0,-3.2e1,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91ee8, alignment: 0
Returning buffer pointer: 0x21fe6b91ee8 (aligned: true)
Submitting readback 245 at frame 252 (will be ready at frame 255)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.2ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 253
Processing readbacks: 3 pending, completed_frame: 253, frames_in_flight: 3
Checking readback 243: submitted frame 250, current frame 253, 3 frames elapsed (need 3)
Readback 243 ready (submitted frame 250, current frame 253)
Checking readback 244: submitted frame 252, current frame 253, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 321/512 completed
Minichunk 322/512 completed
Minichunk 323/512 completed
Minichunk 324/512 completed
Minichunk 325/512 completed
Minichunk 326/512 completed
Minichunk 327/512 completed
Minichunk 328/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 253
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 253, frames_in_flight: 3
Checking readback 244: submitted frame 252, current frame 253, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 22 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -48, 24] to [0, -40, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90428, alignment: 0
Returning buffer pointer: 0x21fe6b90428 (aligned: true)
Created staging buffer at: 0x21fe6b90428
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13033837335052029076), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90828, alignment: 0
Returning buffer pointer: 0x21fe6b90828 (aligned: true)
Created staging buffer at: 0x21fe6b90828
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13227014930982505622), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90aa8, alignment: 0
Returning buffer pointer: 0x21fe6b90aa8 (aligned: true)
Created staging buffer at: 0x21fe6b90aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4212574292660980888), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fb28, alignment: 0
Returning buffer pointer: 0x21fe6b8fb28 (aligned: true)
Created staging buffer at: 0x21fe6b8fb28
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfe000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11582361040108653722), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.8e1,2.4e1] to [0.0e0,-4.0e1,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fca8, alignment: 0
Returning buffer pointer: 0x21fe6b8fca8 (aligned: true)
Submitting readback 246 at frame 253 (will be ready at frame 256)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.3ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 10)
DeferredReadbackManager: advanced to frame 254
Processing readbacks: 3 pending, completed_frame: 254, frames_in_flight: 3
Checking readback 244: submitted frame 252, current frame 254, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 254
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 254, frames_in_flight: 3
Checking readback 244: submitted frame 252, current frame 254, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 23.2ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 255
Processing readbacks: 3 pending, completed_frame: 255, frames_in_flight: 3
Checking readback 244: submitted frame 252, current frame 255, 3 frames elapsed (need 3)
Readback 244 ready (submitted frame 252, current frame 255)
Checking readback 245: submitted frame 252, current frame 255, 3 frames elapsed (need 3)
Readback 245 ready (submitted frame 252, current frame 255)
Checking readback 246: submitted frame 253, current frame 255, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 329/512 completed
Minichunk 330/512 completed
Minichunk 331/512 completed
Minichunk 332/512 completed
Minichunk 333/512 completed
Minichunk 334/512 completed
Minichunk 335/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 336/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 255
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 255, frames_in_flight: 3
Checking readback 246: submitted frame 253, current frame 255, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [-64, -56, 24] to [0, -48, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92268, alignment: 0
Returning buffer pointer: 0x21fe6b92268 (aligned: true)
Created staging buffer at: 0x21fe6b92268
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbca000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4693961374022241439), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920e8, alignment: 0
Returning buffer pointer: 0x21fe6b920e8 (aligned: true)
Created staging buffer at: 0x21fe6b920e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3022507986732977313), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92428, alignment: 0
Returning buffer pointer: 0x21fe6b92428 (aligned: true)
Created staging buffer at: 0x21fe6b92428
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12882626998442134691), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92468, alignment: 0
Returning buffer pointer: 0x21fe6b92468 (aligned: true)
Created staging buffer at: 0x21fe6b92468
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd3000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5721405512155663525), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-5.6e1,2.4e1] to [0.0e0,-4.8e1,3.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91ee8, alignment: 0
Returning buffer pointer: 0x21fe6b91ee8 (aligned: true)
Submitting readback 247 at frame 255 (will be ready at frame 258)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -64, 24] to [0, -56, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b924a8, alignment: 0
Returning buffer pointer: 0x21fe6b924a8 (aligned: true)
Created staging buffer at: 0x21fe6b924a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6300081780389055658), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d28, alignment: 0
Returning buffer pointer: 0x21fe6b91d28 (aligned: true)
Created staging buffer at: 0x21fe6b91d28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9518257756889418924), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b924e8, alignment: 0
Returning buffer pointer: 0x21fe6b924e8 (aligned: true)
Created staging buffer at: 0x21fe6b924e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6818070504327351470), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92528, alignment: 0
Returning buffer pointer: 0x21fe6b92528 (aligned: true)
Created staging buffer at: 0x21fe6b92528
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccf000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6478772211111955632), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,2.4e1] to [0.0e0,-5.6e1,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b925a8, alignment: 0
Returning buffer pointer: 0x21fe6b925a8 (aligned: true)
Submitting readback 248 at frame 255 (will be ready at frame 258)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.4ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 256
Processing readbacks: 3 pending, completed_frame: 256, frames_in_flight: 3
Checking readback 246: submitted frame 253, current frame 256, 3 frames elapsed (need 3)
Readback 246 ready (submitted frame 253, current frame 256)
Checking readback 247: submitted frame 255, current frame 256, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 337/512 completed
Minichunk 338/512 completed
Minichunk 339/512 completed
Minichunk 340/512 completed
Minichunk 341/512 completed
Minichunk 342/512 completed
Minichunk 343/512 completed
Minichunk 344/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 256

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: 0.0°, Pitch: 0.0°, Roll: -45.6°]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 256, frames_in_flight: 3
Checking readback 247: submitted frame 255, current frame 256, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 19 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -8, 16] to [0, 0, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90468, alignment: 0
Returning buffer pointer: 0x21fe6b90468 (aligned: true)
Created staging buffer at: 0x21fe6b90468
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7607023973326392501), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90528, alignment: 0
Returning buffer pointer: 0x21fe6b90528 (aligned: true)
Created staging buffer at: 0x21fe6b90528
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbda000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1165225039721663671), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b902e8, alignment: 0
Returning buffer pointer: 0x21fe6b902e8 (aligned: true)
Created staging buffer at: 0x21fe6b902e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecda000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5712024478947478713), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8ffe8, alignment: 0
Returning buffer pointer: 0x21fe6b8ffe8 (aligned: true)
Created staging buffer at: 0x21fe6b8ffe8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf1000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7186990740306660539), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e0,1.6e1] to [0.0e0,0.0e0,2.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fb68, alignment: 0
Returning buffer pointer: 0x21fe6b8fb68 (aligned: true)
Submitting readback 249 at frame 256 (will be ready at frame 259)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.9ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 257
Processing readbacks: 3 pending, completed_frame: 257, frames_in_flight: 3
Checking readback 247: submitted frame 255, current frame 257, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 257
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 257, frames_in_flight: 3
Checking readback 247: submitted frame 255, current frame 257, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 258
Processing readbacks: 3 pending, completed_frame: 258, frames_in_flight: 3
Checking readback 247: submitted frame 255, current frame 258, 3 frames elapsed (need 3)
Readback 247 ready (submitted frame 255, current frame 258)
Checking readback 248: submitted frame 255, current frame 258, 3 frames elapsed (need 3)
Readback 248 ready (submitted frame 255, current frame 258)
Checking readback 249: submitted frame 256, current frame 258, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 345/512 completed
Minichunk 346/512 completed
Minichunk 347/512 completed
Minichunk 348/512 completed
Minichunk 349/512 completed
Minichunk 350/512 completed
Minichunk 351/512 completed
Minichunk 352/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 353/512 completed
Minichunk 354/512 completed
Minichunk 355/512 completed
Minichunk 356/512 completed
Minichunk 357/512 completed
Minichunk 358/512 completed
Minichunk 359/512 completed
Minichunk 360/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 258
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 258, frames_in_flight: 3
Checking readback 249: submitted frame 256, current frame 258, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [-64, -16, 16] to [0, -8, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ee8, alignment: 0
Returning buffer pointer: 0x21fe6b91ee8 (aligned: true)
Created staging buffer at: 0x21fe6b91ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc05000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(159113626190351552), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91fa8, alignment: 0
Returning buffer pointer: 0x21fe6b91fa8 (aligned: true)
Created staging buffer at: 0x21fe6b91fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9006981551438695618), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b925a8, alignment: 0
Returning buffer pointer: 0x21fe6b925a8 (aligned: true)
Created staging buffer at: 0x21fe6b925a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9009675354926746820), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b968a8, alignment: 0
Returning buffer pointer: 0x21fe6b968a8 (aligned: true)
Created staging buffer at: 0x21fe6b968a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbef000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8255834789760732358), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.6e1,1.6e1] to [0.0e0,-8.0e0,2.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b96428, alignment: 0
Returning buffer pointer: 0x21fe6b96428 (aligned: true)
Submitting readback 250 at frame 258 (will be ready at frame 261)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -24, 16] to [0, -16, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96a68, alignment: 0
Returning buffer pointer: 0x21fe6b96a68 (aligned: true)
Created staging buffer at: 0x21fe6b96a68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8216011578114313419), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b95ce8, alignment: 0
Returning buffer pointer: 0x21fe6b95ce8 (aligned: true)
Created staging buffer at: 0x21fe6b95ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5236469207259942093), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96b28, alignment: 0
Returning buffer pointer: 0x21fe6b96b28 (aligned: true)
Created staging buffer at: 0x21fe6b96b28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7192986377212923087), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96b68, alignment: 0
Returning buffer pointer: 0x21fe6b96b68 (aligned: true)
Created staging buffer at: 0x21fe6b96b68
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc15000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9716631644772764881), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-2.4e1,1.6e1] to [0.0e0,-1.6e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b96c28, alignment: 0
Returning buffer pointer: 0x21fe6b96c28 (aligned: true)
Submitting readback 251 at frame 258 (will be ready at frame 261)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 31.3ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 259
Processing readbacks: 3 pending, completed_frame: 259, frames_in_flight: 3
Checking readback 249: submitted frame 256, current frame 259, 3 frames elapsed (need 3)
Readback 249 ready (submitted frame 256, current frame 259)
Checking readback 250: submitted frame 258, current frame 259, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 361/512 completed
Minichunk 362/512 completed
Minichunk 363/512 completed
Minichunk 364/512 completed
Minichunk 365/512 completed
Minichunk 366/512 completed
Minichunk 367/512 completed
Minichunk 368/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 259
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 259, frames_in_flight: 3
Checking readback 250: submitted frame 258, current frame 259, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -32, 16] to [0, -24, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fba8, alignment: 0
Returning buffer pointer: 0x21fe6b8fba8 (aligned: true)
Created staging buffer at: 0x21fe6b8fba8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc16000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6827894640721530070), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b906a8, alignment: 0
Returning buffer pointer: 0x21fe6b906a8 (aligned: true)
Created staging buffer at: 0x21fe6b906a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc06000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6725651054454639832), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90628, alignment: 0
Returning buffer pointer: 0x21fe6b90628 (aligned: true)
Created staging buffer at: 0x21fe6b90628
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbec000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10767000600345316570), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90a28, alignment: 0
Returning buffer pointer: 0x21fe6b90a28 (aligned: true)
Created staging buffer at: 0x21fe6b90a28
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbff000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2738886763324902620), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-3.2e1,1.6e1] to [0.0e0,-2.4e1,2.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90028, alignment: 0
Returning buffer pointer: 0x21fe6b90028 (aligned: true)
Submitting readback 252 at frame 259 (will be ready at frame 262)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 31.4ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 12)
DeferredReadbackManager: advanced to frame 260
Processing readbacks: 3 pending, completed_frame: 260, frames_in_flight: 3
Checking readback 250: submitted frame 258, current frame 260, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 260
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 260, frames_in_flight: 3
Checking readback 250: submitted frame 258, current frame 260, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.4ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 261
Processing readbacks: 3 pending, completed_frame: 261, frames_in_flight: 3
Checking readback 250: submitted frame 258, current frame 261, 3 frames elapsed (need 3)
Readback 250 ready (submitted frame 258, current frame 261)
Checking readback 251: submitted frame 258, current frame 261, 3 frames elapsed (need 3)
Readback 251 ready (submitted frame 258, current frame 261)
Checking readback 252: submitted frame 259, current frame 261, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 369/512 completed
Minichunk 370/512 completed
Minichunk 371/512 completed
Minichunk 372/512 completed
Minichunk 373/512 completed
Minichunk 374/512 completed
Minichunk 375/512 completed
Minichunk 376/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 377/512 completed
Minichunk 378/512 completed
Minichunk 379/512 completed
Minichunk 380/512 completed
Minichunk 381/512 completed
Minichunk 382/512 completed
Minichunk 383/512 completed
Minichunk 384/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 261
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 261, frames_in_flight: 3
Checking readback 252: submitted frame 259, current frame 261, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [-64, -40, 16] to [0, -32, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96c28, alignment: 0
Returning buffer pointer: 0x21fe6b96c28 (aligned: true)
Created staging buffer at: 0x21fe6b96c28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5659298498349108449), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96ca8, alignment: 0
Returning buffer pointer: 0x21fe6b96ca8 (aligned: true)
Created staging buffer at: 0x21fe6b96ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11812955016732347619), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fd68, alignment: 0
Returning buffer pointer: 0x21fe6b8fd68 (aligned: true)
Created staging buffer at: 0x21fe6b8fd68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(629028403227397349), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b906e8, alignment: 0
Returning buffer pointer: 0x21fe6b906e8 (aligned: true)
Created staging buffer at: 0x21fe6b906e8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1d000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12848066049446251751), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.0e1,1.6e1] to [0.0e0,-3.2e1,2.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90a68, alignment: 0
Returning buffer pointer: 0x21fe6b90a68 (aligned: true)
Submitting readback 253 at frame 261 (will be ready at frame 264)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -48, 16] to [0, -40, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b904e8, alignment: 0
Returning buffer pointer: 0x21fe6b904e8 (aligned: true)
Created staging buffer at: 0x21fe6b904e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12787385102220922092), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90868, alignment: 0
Returning buffer pointer: 0x21fe6b90868 (aligned: true)
Created staging buffer at: 0x21fe6b90868
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3841140573100575982), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90068, alignment: 0
Returning buffer pointer: 0x21fe6b90068 (aligned: true)
Created staging buffer at: 0x21fe6b90068
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11880767396375432432), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b901e8, alignment: 0
Returning buffer pointer: 0x21fe6b901e8 (aligned: true)
Created staging buffer at: 0x21fe6b901e8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc13000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14094389967321042162), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.8e1,1.6e1] to [0.0e0,-4.0e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90728, alignment: 0
Returning buffer pointer: 0x21fe6b90728 (aligned: true)
Submitting readback 254 at frame 261 (will be ready at frame 264)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.5ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 262
Processing readbacks: 3 pending, completed_frame: 262, frames_in_flight: 3
Checking readback 252: submitted frame 259, current frame 262, 3 frames elapsed (need 3)
Readback 252 ready (submitted frame 259, current frame 262)
Checking readback 253: submitted frame 261, current frame 262, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 385/512 completed
Minichunk 386/512 completed
Minichunk 387/512 completed
Minichunk 388/512 completed
Minichunk 389/512 completed
Minichunk 390/512 completed
Minichunk 391/512 completed
Minichunk 392/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 262
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 262, frames_in_flight: 3
Checking readback 253: submitted frame 261, current frame 262, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -56, 16] to [0, -48, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90028, alignment: 0
Returning buffer pointer: 0x21fe6b90028 (aligned: true)
Created staging buffer at: 0x21fe6b90028
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2527064748722228471), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fbe8, alignment: 0
Returning buffer pointer: 0x21fe6b8fbe8 (aligned: true)
Created staging buffer at: 0x21fe6b8fbe8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10852398568963050745), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90768, alignment: 0
Returning buffer pointer: 0x21fe6b90768 (aligned: true)
Created staging buffer at: 0x21fe6b90768
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc14000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15018120472141237499), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b900a8, alignment: 0
Returning buffer pointer: 0x21fe6b900a8 (aligned: true)
Created staging buffer at: 0x21fe6b900a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf4000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15686419032666279165), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-5.6e1,1.6e1] to [0.0e0,-4.8e1,2.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fca8, alignment: 0
Returning buffer pointer: 0x21fe6b8fca8 (aligned: true)
Submitting readback 255 at frame 262 (will be ready at frame 265)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.3ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 263
Processing readbacks: 3 pending, completed_frame: 263, frames_in_flight: 3
Checking readback 253: submitted frame 261, current frame 263, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 263
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 263, frames_in_flight: 3
Checking readback 253: submitted frame 261, current frame 263, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.3ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 264
Processing readbacks: 3 pending, completed_frame: 264, frames_in_flight: 3
Checking readback 253: submitted frame 261, current frame 264, 3 frames elapsed (need 3)
Readback 253 ready (submitted frame 261, current frame 264)
Checking readback 254: submitted frame 261, current frame 264, 3 frames elapsed (need 3)
Readback 254 ready (submitted frame 261, current frame 264)
Checking readback 255: submitted frame 262, current frame 264, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 393/512 completed
Minichunk 394/512 completed
Minichunk 395/512 completed
Minichunk 396/512 completed
Minichunk 397/512 completed
Minichunk 398/512 completed
Minichunk 399/512 completed
Minichunk 400/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 401/512 completed
Minichunk 402/512 completed
Minichunk 403/512 completed
Minichunk 404/512 completed
Minichunk 405/512 completed
Minichunk 406/512 completed
Minichunk 407/512 completed
Minichunk 408/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 264
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 264, frames_in_flight: 3
Checking readback 255: submitted frame 262, current frame 264, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [-64, -16, 8] to [0, -8, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fae8, alignment: 0
Returning buffer pointer: 0x21fe6b8fae8 (aligned: true)
Created staging buffer at: 0x21fe6b8fae8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11036567866127158530), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b907a8, alignment: 0
Returning buffer pointer: 0x21fe6b907a8 (aligned: true)
Created staging buffer at: 0x21fe6b907a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16629262348112104708), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fc28, alignment: 0
Returning buffer pointer: 0x21fe6b8fc28 (aligned: true)
Created staging buffer at: 0x21fe6b8fc28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14681382941506931974), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fc68, alignment: 0
Returning buffer pointer: 0x21fe6b8fc68 (aligned: true)
Created staging buffer at: 0x21fe6b8fc68
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc9000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17254853677991070984), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.6e1,8.0e0] to [0.0e0,-8.0e0,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b908e8, alignment: 0
Returning buffer pointer: 0x21fe6b908e8 (aligned: true)
Submitting readback 256 at frame 264 (will be ready at frame 267)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -64, 16] to [0, -56, 24]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90228, alignment: 0
Returning buffer pointer: 0x21fe6b90228 (aligned: true)
Created staging buffer at: 0x21fe6b90228
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc17000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17833668484689562893), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b900e8, alignment: 0
Returning buffer pointer: 0x21fe6b900e8 (aligned: true)
Created staging buffer at: 0x21fe6b900e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc07000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17441131838457253135), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90928, alignment: 0
Returning buffer pointer: 0x21fe6b90928 (aligned: true)
Created staging buffer at: 0x21fe6b90928
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc08000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17983065726625254673), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fda8, alignment: 0
Returning buffer pointer: 0x21fe6b8fda8 (aligned: true)
Created staging buffer at: 0x21fe6b8fda8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdd000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(62555614550691091), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,1.6e1] to [0.0e0,-5.6e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fe28, alignment: 0
Returning buffer pointer: 0x21fe6b8fe28 (aligned: true)
Submitting readback 257 at frame 264 (will be ready at frame 267)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 30.5ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 265
Processing readbacks: 3 pending, completed_frame: 265, frames_in_flight: 3
Checking readback 255: submitted frame 262, current frame 265, 3 frames elapsed (need 3)
Readback 255 ready (submitted frame 262, current frame 265)
Checking readback 256: submitted frame 264, current frame 265, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 409/512 completed
Minichunk 410/512 completed
Minichunk 411/512 completed
Minichunk 412/512 completed
Minichunk 413/512 completed
Minichunk 414/512 completed
Minichunk 415/512 completed
Minichunk 416/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 265
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 265, frames_in_flight: 3
Checking readback 256: submitted frame 264, current frame 265, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -24, 8] to [0, -16, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b918a8, alignment: 0
Returning buffer pointer: 0x21fe6b918a8 (aligned: true)
Created staging buffer at: 0x21fe6b918a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16187517058978680088), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ca8, alignment: 0
Returning buffer pointer: 0x21fe6b90ca8 (aligned: true)
Created staging buffer at: 0x21fe6b90ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc11000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14581722108053687578), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91128, alignment: 0
Returning buffer pointer: 0x21fe6b91128 (aligned: true)
Created staging buffer at: 0x21fe6b91128
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17246034495224679708), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b913e8, alignment: 0
Returning buffer pointer: 0x21fe6b913e8 (aligned: true)
Created staging buffer at: 0x21fe6b913e8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe5000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17050675468224695582), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-2.4e1,8.0e0] to [0.0e0,-1.6e1,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91628, alignment: 0
Returning buffer pointer: 0x21fe6b91628 (aligned: true)
Submitting readback 258 at frame 265 (will be ready at frame 268)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.5ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 266
Processing readbacks: 3 pending, completed_frame: 266, frames_in_flight: 3
Checking readback 256: submitted frame 264, current frame 266, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 266
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 266, frames_in_flight: 3
Checking readback 256: submitted frame 264, current frame 266, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 24.6ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 267
Processing readbacks: 3 pending, completed_frame: 267, frames_in_flight: 3
Checking readback 256: submitted frame 264, current frame 267, 3 frames elapsed (need 3)
Readback 256 ready (submitted frame 264, current frame 267)
Checking readback 257: submitted frame 264, current frame 267, 3 frames elapsed (need 3)
Readback 257 ready (submitted frame 264, current frame 267)
Checking readback 258: submitted frame 265, current frame 267, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 417/512 completed
Minichunk 418/512 completed
Minichunk 419/512 completed
Minichunk 420/512 completed
Minichunk 421/512 completed
Minichunk 422/512 completed
Minichunk 423/512 completed
Minichunk 424/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 425/512 completed
Minichunk 426/512 completed
Minichunk 427/512 completed
Minichunk 428/512 completed
Minichunk 429/512 completed
Minichunk 430/512 completed
Minichunk 431/512 completed
Minichunk 432/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 267
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 267, frames_in_flight: 3
Checking readback 258: submitted frame 265, current frame 267, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [-64, -32, 8] to [0, -24, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b908e8, alignment: 0
Returning buffer pointer: 0x21fe6b908e8 (aligned: true)
Created staging buffer at: 0x21fe6b908e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc19000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15287976909481184547), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90128, alignment: 0
Returning buffer pointer: 0x21fe6b90128 (aligned: true)
Created staging buffer at: 0x21fe6b90128
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbed000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15992845226746055973), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90568, alignment: 0
Returning buffer pointer: 0x21fe6b90568 (aligned: true)
Created staging buffer at: 0x21fe6b90568
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbee000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9312390697262779687), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b905e8, alignment: 0
Returning buffer pointer: 0x21fe6b905e8 (aligned: true)
Created staging buffer at: 0x21fe6b905e8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbeb000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15593014420375080233), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-3.2e1,8.0e0] to [0.0e0,-2.4e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90728, alignment: 0
Returning buffer pointer: 0x21fe6b90728 (aligned: true)
Submitting readback 259 at frame 267 (will be ready at frame 270)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -40, 8] to [0, -32, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fb68, alignment: 0
Returning buffer pointer: 0x21fe6b8fb68 (aligned: true)
Created staging buffer at: 0x21fe6b8fb68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14443670726605016366), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b901a8, alignment: 0
Returning buffer pointer: 0x21fe6b901a8 (aligned: true)
Created staging buffer at: 0x21fe6b901a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12662068264445152560), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90168, alignment: 0
Returning buffer pointer: 0x21fe6b90168 (aligned: true)
Created staging buffer at: 0x21fe6b90168
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3084567721539538226), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fca8, alignment: 0
Returning buffer pointer: 0x21fe6b8fca8 (aligned: true)
Created staging buffer at: 0x21fe6b8fca8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0f000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14255528893929753908), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.0e1,8.0e0] to [0.0e0,-3.2e1,1.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b907e8, alignment: 0
Returning buffer pointer: 0x21fe6b907e8 (aligned: true)
Submitting readback 260 at frame 267 (will be ready at frame 270)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.7ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 268
Processing readbacks: 3 pending, completed_frame: 268, frames_in_flight: 3
Checking readback 258: submitted frame 265, current frame 268, 3 frames elapsed (need 3)
Readback 258 ready (submitted frame 265, current frame 268)
Checking readback 259: submitted frame 267, current frame 268, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 433/512 completed
Minichunk 434/512 completed
Minichunk 435/512 completed
Minichunk 436/512 completed
Minichunk 437/512 completed
Minichunk 438/512 completed
Minichunk 439/512 completed
Minichunk 440/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 268
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 268, frames_in_flight: 3
Checking readback 259: submitted frame 267, current frame 268, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -48, 8] to [0, -40, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90f28, alignment: 0
Returning buffer pointer: 0x21fe6b90f28 (aligned: true)
Created staging buffer at: 0x21fe6b90f28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13676786654998695225), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b919a8, alignment: 0
Returning buffer pointer: 0x21fe6b919a8 (aligned: true)
Created staging buffer at: 0x21fe6b919a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfa000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4423334179031223611), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90fa8, alignment: 0
Returning buffer pointer: 0x21fe6b90fa8 (aligned: true)
Created staging buffer at: 0x21fe6b90fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc10000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13446368600235445565), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b912a8, alignment: 0
Returning buffer pointer: 0x21fe6b912a8 (aligned: true)
Created staging buffer at: 0x21fe6b912a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe6000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12687180010511928639), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.8e1,8.0e0] to [0.0e0,-4.0e1,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91a28, alignment: 0
Returning buffer pointer: 0x21fe6b91a28 (aligned: true)
Submitting readback 261 at frame 268 (will be ready at frame 271)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.1ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 5)
DeferredReadbackManager: advanced to frame 269
Processing readbacks: 3 pending, completed_frame: 269, frames_in_flight: 3
Checking readback 259: submitted frame 267, current frame 269, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 269
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 269, frames_in_flight: 3
Checking readback 259: submitted frame 267, current frame 269, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.9ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 270
Processing readbacks: 3 pending, completed_frame: 270, frames_in_flight: 3
Checking readback 259: submitted frame 267, current frame 270, 3 frames elapsed (need 3)
Readback 259 ready (submitted frame 267, current frame 270)
Checking readback 260: submitted frame 267, current frame 270, 3 frames elapsed (need 3)
Readback 260 ready (submitted frame 267, current frame 270)
Checking readback 261: submitted frame 268, current frame 270, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 441/512 completed
Minichunk 442/512 completed
Minichunk 443/512 completed
Minichunk 444/512 completed
Minichunk 445/512 completed
Minichunk 446/512 completed
Minichunk 447/512 completed
Minichunk 448/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 449/512 completed
Minichunk 450/512 completed
Minichunk 451/512 completed
Minichunk 452/512 completed
Minichunk 453/512 completed
Minichunk 454/512 completed
Minichunk 455/512 completed
Minichunk 456/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 270
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 270, frames_in_flight: 3
Checking readback 261: submitted frame 268, current frame 270, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [-64, -56, 8] to [-8, -48, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90268, alignment: 0
Returning buffer pointer: 0x21fe6b90268 (aligned: true)
Created staging buffer at: 0x21fe6b90268
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc01000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1123999950749830468), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b907e8, alignment: 0
Returning buffer pointer: 0x21fe6b907e8 (aligned: true)
Created staging buffer at: 0x21fe6b907e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc02000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12172950516828998982), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fde8, alignment: 0
Returning buffer pointer: 0x21fe6b8fde8 (aligned: true)
Created staging buffer at: 0x21fe6b8fde8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbce000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5023567472238792008), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b908a8, alignment: 0
Returning buffer pointer: 0x21fe6b908a8 (aligned: true)
Created staging buffer at: 0x21fe6b908a8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc12000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2628405635942714698), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-5.6e1,8.0e0] to [-8.0e0,-4.8e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fe28, alignment: 0
Returning buffer pointer: 0x21fe6b8fe28 (aligned: true)
Submitting readback 262 at frame 270 (will be ready at frame 273)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [-8, -56, 8] to [0, -48, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b909a8, alignment: 0
Returning buffer pointer: 0x21fe6b909a8 (aligned: true)
Created staging buffer at: 0x21fe6b909a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11331360127673437519), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90a68, alignment: 0
Returning buffer pointer: 0x21fe6b90a68 (aligned: true)
Created staging buffer at: 0x21fe6b90a68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6104895376714632529), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fe68, alignment: 0
Returning buffer pointer: 0x21fe6b8fe68 (aligned: true)
Created staging buffer at: 0x21fe6b8fe68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6337250770966023507), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91428, alignment: 0
Returning buffer pointer: 0x21fe6b91428 (aligned: true)
Created staging buffer at: 0x21fe6b91428
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd7000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9837495460456041813), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-5.6e1,8.0e0] to [0.0e0,-4.8e1,1.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91a68, alignment: 0
Returning buffer pointer: 0x21fe6b91a68 (aligned: true)
Submitting readback 263 at frame 270 (will be ready at frame 273)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.1ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 271
Processing readbacks: 3 pending, completed_frame: 271, frames_in_flight: 3
Checking readback 261: submitted frame 268, current frame 271, 3 frames elapsed (need 3)
Readback 261 ready (submitted frame 268, current frame 271)
Checking readback 262: submitted frame 270, current frame 271, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 457/512 completed
Minichunk 458/512 completed
Minichunk 459/512 completed
Minichunk 460/512 completed
Minichunk 461/512 completed
Minichunk 462/512 completed
Minichunk 463/512 completed
Minichunk 464/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 271
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 271, frames_in_flight: 3
Checking readback 262: submitted frame 270, current frame 271, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 5 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -16, 0] to [0, -8, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91fe8, alignment: 0
Returning buffer pointer: 0x21fe6b91fe8 (aligned: true)
Created staging buffer at: 0x21fe6b91fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7713937185476447578), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91b68, alignment: 0
Returning buffer pointer: 0x21fe6b91b68 (aligned: true)
Created staging buffer at: 0x21fe6b91b68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4726245234437000540), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92368, alignment: 0
Returning buffer pointer: 0x21fe6b92368 (aligned: true)
Created staging buffer at: 0x21fe6b92368
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbde000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7374764236586618206), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ce8, alignment: 0
Returning buffer pointer: 0x21fe6b91ce8 (aligned: true)
Created staging buffer at: 0x21fe6b91ce8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd2000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8989715920347729248), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.6e1,0.0e0] to [0.0e0,-8.0e0,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92a28, alignment: 0
Returning buffer pointer: 0x21fe6b92a28 (aligned: true)
Submitting readback 264 at frame 271 (will be ready at frame 274)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.6ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 5)
DeferredReadbackManager: advanced to frame 272
Processing readbacks: 3 pending, completed_frame: 272, frames_in_flight: 3
Checking readback 262: submitted frame 270, current frame 272, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 272
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 272, frames_in_flight: 3
Checking readback 262: submitted frame 270, current frame 272, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.7ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 273
Processing readbacks: 3 pending, completed_frame: 273, frames_in_flight: 3
Checking readback 262: submitted frame 270, current frame 273, 3 frames elapsed (need 3)
Readback 262 ready (submitted frame 270, current frame 273)
Checking readback 263: submitted frame 270, current frame 273, 3 frames elapsed (need 3)
Readback 263 ready (submitted frame 270, current frame 273)
Checking readback 264: submitted frame 271, current frame 273, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 465/512 completed
Minichunk 466/512 completed
Minichunk 467/512 completed
Minichunk 468/512 completed
Minichunk 469/512 completed
Minichunk 470/512 completed
Minichunk 471/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 472/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 273
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 273, frames_in_flight: 3
Checking readback 264: submitted frame 271, current frame 273, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 1
Overall bounds: [-64, -64, 8] to [-16, -56, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90fe8, alignment: 0
Returning buffer pointer: 0x21fe6b90fe8 (aligned: true)
Created staging buffer at: 0x21fe6b90fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfd000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8277192803130281317), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b914a8, alignment: 0
Returning buffer pointer: 0x21fe6b914a8 (aligned: true)
Created staging buffer at: 0x21fe6b914a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8634540679227247975), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91528, alignment: 0
Returning buffer pointer: 0x21fe6b91528 (aligned: true)
Created staging buffer at: 0x21fe6b91528
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbea000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(766274942164536681), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90de8, alignment: 0
Returning buffer pointer: 0x21fe6b90de8 (aligned: true)
Created staging buffer at: 0x21fe6b90de8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc03000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7023795726954007915), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-6.4e1,8.0e0] to [-1.6e1,-5.6e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91628, alignment: 0
Returning buffer pointer: 0x21fe6b91628 (aligned: true)
Submitting readback 265 at frame 273 (will be ready at frame 276)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [-16, -64, 8] to [0, -56, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b917e8, alignment: 0
Returning buffer pointer: 0x21fe6b917e8 (aligned: true)
Created staging buffer at: 0x21fe6b917e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4715394154182479216), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90e68, alignment: 0
Returning buffer pointer: 0x21fe6b90e68 (aligned: true)
Created staging buffer at: 0x21fe6b90e68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1747062403884911986), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91a28, alignment: 0
Returning buffer pointer: 0x21fe6b91a28 (aligned: true)
Created staging buffer at: 0x21fe6b91a28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10585594375901810036), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91668, alignment: 0
Returning buffer pointer: 0x21fe6b91668 (aligned: true)
Created staging buffer at: 0x21fe6b91668
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbd9000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6903230978433486198), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.6e1,-6.4e1,8.0e0] to [0.0e0,-5.6e1,1.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90ea8, alignment: 0
Returning buffer pointer: 0x21fe6b90ea8 (aligned: true)
Submitting readback 266 at frame 273 (will be ready at frame 276)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.9ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 274
Processing readbacks: 3 pending, completed_frame: 274, frames_in_flight: 3
Checking readback 264: submitted frame 271, current frame 274, 3 frames elapsed (need 3)
Readback 264 ready (submitted frame 271, current frame 274)
Checking readback 265: submitted frame 273, current frame 274, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 473/512 completed
Minichunk 474/512 completed
Minichunk 475/512 completed
Minichunk 476/512 completed
Minichunk 477/512 completed
Minichunk 478/512 completed
Minichunk 479/512 completed
Minichunk 480/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 274
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 274, frames_in_flight: 3
Checking readback 265: submitted frame 273, current frame 274, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 0
Overall bounds: [-64, -24, 0] to [-8, -16, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d68, alignment: 0
Returning buffer pointer: 0x21fe6b91d68 (aligned: true)
Created staging buffer at: 0x21fe6b91d68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6320407352340123003), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92568, alignment: 0
Returning buffer pointer: 0x21fe6b92568 (aligned: true)
Created staging buffer at: 0x21fe6b92568
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9529800429957811581), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b925e8, alignment: 0
Returning buffer pointer: 0x21fe6b925e8 (aligned: true)
Created staging buffer at: 0x21fe6b925e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3268246636517657983), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91f28, alignment: 0
Returning buffer pointer: 0x21fe6b91f28 (aligned: true)
Created staging buffer at: 0x21fe6b91f28
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdb000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5302179320670719361), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-2.4e1,0.0e0] to [-8.0e0,-1.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b922a8, alignment: 0
Returning buffer pointer: 0x21fe6b922a8 (aligned: true)
Submitting readback 267 at frame 274 (will be ready at frame 277)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.8ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 8)
DeferredReadbackManager: advanced to frame 275
Processing readbacks: 3 pending, completed_frame: 275, frames_in_flight: 3
Checking readback 265: submitted frame 273, current frame 275, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 275
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 275, frames_in_flight: 3
Checking readback 265: submitted frame 273, current frame 275, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 22.8ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 276
Processing readbacks: 3 pending, completed_frame: 276, frames_in_flight: 3
Checking readback 265: submitted frame 273, current frame 276, 3 frames elapsed (need 3)
Readback 265 ready (submitted frame 273, current frame 276)
Checking readback 266: submitted frame 273, current frame 276, 3 frames elapsed (need 3)
Readback 266 ready (submitted frame 273, current frame 276)
Checking readback 267: submitted frame 274, current frame 276, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 481/512 completed
Minichunk 482/512 completed
Minichunk 483/512 completed
Minichunk 484/512 completed
Minichunk 485/512 completed
Minichunk 486/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 487/512 completed
Minichunk 488/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 276
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 276, frames_in_flight: 3
Checking readback 267: submitted frame 274, current frame 276, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [-64, -48, 0] to [-8, -40, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91628, alignment: 0
Returning buffer pointer: 0x21fe6b91628 (aligned: true)
Created staging buffer at: 0x21fe6b91628
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13122722954553068934), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91168, alignment: 0
Returning buffer pointer: 0x21fe6b91168 (aligned: true)
Created staging buffer at: 0x21fe6b91168
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3496210581327711624), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b916a8, alignment: 0
Returning buffer pointer: 0x21fe6b916a8 (aligned: true)
Created staging buffer at: 0x21fe6b916a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13776294656335678858), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90d68, alignment: 0
Returning buffer pointer: 0x21fe6b90d68 (aligned: true)
Created staging buffer at: 0x21fe6b90d68
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe8000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11707543737465834892), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-4.8e1,0.0e0] to [-8.0e0,-4.0e1,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91a68, alignment: 0
Returning buffer pointer: 0x21fe6b91a68 (aligned: true)
Submitting readback 268 at frame 276 (will be ready at frame 279)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [-8, -48, 0] to [0, -40, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ae8, alignment: 0
Returning buffer pointer: 0x21fe6b90ae8 (aligned: true)
Created staging buffer at: 0x21fe6b90ae8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc00000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(171471037374926225), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ba8, alignment: 0
Returning buffer pointer: 0x21fe6b90ba8 (aligned: true)
Created staging buffer at: 0x21fe6b90ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12446456233261534611), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ea8, alignment: 0
Returning buffer pointer: 0x21fe6b90ea8 (aligned: true)
Created staging buffer at: 0x21fe6b90ea8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14842610928557493653), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90ee8, alignment: 0
Returning buffer pointer: 0x21fe6b90ee8 (aligned: true)
Created staging buffer at: 0x21fe6b90ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe3000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1306710195983879575), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-4.8e1,0.0e0] to [0.0e0,-4.0e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92028, alignment: 0
Returning buffer pointer: 0x21fe6b92028 (aligned: true)
Submitting readback 269 at frame 276 (will be ready at frame 279)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.7ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 277
Processing readbacks: 3 pending, completed_frame: 277, frames_in_flight: 3
Checking readback 267: submitted frame 274, current frame 277, 3 frames elapsed (need 3)
Readback 267 ready (submitted frame 274, current frame 277)
Checking readback 268: submitted frame 276, current frame 277, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 489/512 completed
Minichunk 490/512 completed
Minichunk 491/512 completed
Minichunk 492/512 completed
Minichunk 493/512 completed
Minichunk 494/512 completed
Minichunk 495/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 277
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 277, frames_in_flight: 3
Checking readback 268: submitted frame 276, current frame 277, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -32, 0] to [0, -24, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b927e8, alignment: 0
Returning buffer pointer: 0x21fe6b927e8 (aligned: true)
Created staging buffer at: 0x21fe6b927e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc09000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10572969783391686044), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b923a8, alignment: 0
Returning buffer pointer: 0x21fe6b923a8 (aligned: true)
Created staging buffer at: 0x21fe6b923a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16100559982872759710), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ba8, alignment: 0
Returning buffer pointer: 0x21fe6b91ba8 (aligned: true)
Created staging buffer at: 0x21fe6b91ba8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16394826677860961696), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92628, alignment: 0
Returning buffer pointer: 0x21fe6b92628 (aligned: true)
Created staging buffer at: 0x21fe6b92628
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd8000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9663706652569767330), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-3.2e1,0.0e0] to [0.0e0,-2.4e1,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92068, alignment: 0
Returning buffer pointer: 0x21fe6b92068 (aligned: true)
Submitting readback 270 at frame 277 (will be ready at frame 280)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.7ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 9)
DeferredReadbackManager: advanced to frame 278
Processing readbacks: 3 pending, completed_frame: 278, frames_in_flight: 3
Checking readback 268: submitted frame 276, current frame 278, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 278
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 278, frames_in_flight: 3
Checking readback 268: submitted frame 276, current frame 278, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.7ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 279
Processing readbacks: 3 pending, completed_frame: 279, frames_in_flight: 3
Checking readback 268: submitted frame 276, current frame 279, 3 frames elapsed (need 3)
Readback 268 ready (submitted frame 276, current frame 279)
Checking readback 269: submitted frame 276, current frame 279, 3 frames elapsed (need 3)
Readback 269 ready (submitted frame 276, current frame 279)
Checking readback 270: submitted frame 277, current frame 279, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 496/512 completed
Minichunk 497/512 completed
Minichunk 498/512 completed
Minichunk 499/512 completed
Minichunk 500/512 completed
Minichunk 501/512 completed
Minichunk 502/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 503/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 279
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 279, frames_in_flight: 3
Checking readback 270: submitted frame 277, current frame 279, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -1, 0) with 1 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 1 minichunks in workspace 1
Overall bounds: [-8, -24, 0] to [0, -16, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92028, alignment: 0
Returning buffer pointer: 0x21fe6b92028 (aligned: true)
Created staging buffer at: 0x21fe6b92028
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccd000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17191593276486978983), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b928e8, alignment: 0
Returning buffer pointer: 0x21fe6b928e8 (aligned: true)
Created staging buffer at: 0x21fe6b928e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc18000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14833195810488847785), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91da8, alignment: 0
Returning buffer pointer: 0x21fe6b91da8 (aligned: true)
Created staging buffer at: 0x21fe6b91da8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecce000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17601134969554472363), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ea8, alignment: 0
Returning buffer pointer: 0x21fe6b91ea8 (aligned: true)
Created staging buffer at: 0x21fe6b91ea8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc04000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16603211619115208109), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-2.4e1,0.0e0] to [0.0e0,-1.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b91be8, alignment: 0
Returning buffer pointer: 0x21fe6b91be8 (aligned: true)
Submitting readback 271 at frame 279 (will be ready at frame 282)
Successfully queued 1 minichunks from this batch
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 23.1ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 11)
DeferredReadbackManager: advanced to frame 280
Processing readbacks: 2 pending, completed_frame: 280, frames_in_flight: 3
Checking readback 270: submitted frame 277, current frame 280, 3 frames elapsed (need 3)
Readback 270 ready (submitted frame 277, current frame 280)
Checking readback 271: submitted frame 279, current frame 280, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 504/512 completed
Minichunk 505/512 completed
Minichunk 506/512 completed
Minichunk 507/512 completed
Minichunk 508/512 completed
Minichunk 509/512 completed
Minichunk 510/512 completed
Minichunk 511/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 280
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 280, frames_in_flight: 3
Checking readback 271: submitted frame 279, current frame 280, 1 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 19.5ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 281
Processing readbacks: 1 pending, completed_frame: 281, frames_in_flight: 3
Checking readback 271: submitted frame 279, current frame 281, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 281
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 281, frames_in_flight: 3
Checking readback 271: submitted frame 279, current frame 281, 2 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 16.0ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 282
Processing readbacks: 1 pending, completed_frame: 282, frames_in_flight: 3
Checking readback 271: submitted frame 279, current frame 282, 3 frames elapsed (need 3)
Readback 271 ready (submitted frame 279, current frame 282)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (1 minichunks, 2048 bytes)
Minichunk 512/512 completed
Chunk ChunkId(-1, -1, 0) complete! All 512 minichunks processed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 3/3
GPU generation completed successfully
GPU generation completed successfully. Voxel count: 262144
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 13.7ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 283
Processing 0 completed readbacks
Begin frame called - current_frame: Non-empty voxels: 0
1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 10.7ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 4)
DeferredReadbackManager: advanced to frame 284
Processing 0 completed readbacks
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
queue_generation_blocking returned: true
Async generation completed for chunk ChunkId(-1, -1, 0)
Sending result for chunk ChunkId(-1, -1, 0) through channel
Result sent successfully for chunk ChunkId(-1, -1, 0)
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
GPU pipeline worker: Processing request 11 with priority 9
Frame time: 8.9ms (target: 10.0ms), Workgroups: 4 -> 4 (PID: 4)
DeferredReadbackManager: advanced to frame 285
Processing 0 completed readbacks
GPU generation thread spawned for bounds: [0.0,-128.0,0.0] to [64.0,-64.0,64.0]
GPU generation: starting for 262144 voxels
Received generation result for region RegionId(-1, -1, 0)
GPU generation: waiting for result...
Processing single chunk workspace for chunk ChunkId(-1, -1, 0)
Chunk ChunkId(-1, -1, 0) has 0 non-empty voxels out of 262144
Extracted 1 chunks from region RegionId(-1, -1, 0)
  Chunk ChunkId(-1, -1, 0): palette size 1, 32768 bytes compressed
Creating generation params for region RegionId(-1, -1, 0)
Region RegionId(-1, -1, 0) world bounds: min=[-256,-256,0] max=[0,0,256]
Creating plane SDF with normal [0, 0, 1] and distance 0
Starting async generation for region RegionId(0, -1, -1) (contains chunks 0-3, -4--1, -4--1)
Creating generation params for region RegionId(0, -1, -1)
Region RegionId(0, -1, -1) world bounds: min=[0,-256,-256] max=[256,0,0]
Creating plane SDF with normal [0, 0, 1] and distance 0
Generating 0 chunks in region RegionId(0, -1, -1), closest chunk distance: 0.0
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing 0 completed readbacks
Main thread: Execute GPU worldgen for bounds [0.0,-128.0,0.0] to [64.0,-64.0,64.0]
Processing chunk ChunkId(0, -2, 0) as minichunks
Creating ChunkAccumulator: 262144 voxels, 512 minichunks (8 per axis)
Queuing 512 minichunks for chunk ChunkId(0, -2, 0)
Processing 512 minichunks in 64 batches of up to 8 each (frames_in_flight: 3)
PID controller: Processing 4 minichunks per workspace (workgroup budget: 4)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 2/3
Processing 4 minichunks in workspace 2
Overall bounds: [0, -128, 0] to [32, -120, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90aa8, alignment: 0
Returning buffer pointer: 0x21fe6b90aa8 (aligned: true)
Created staging buffer at: 0x21fe6b90aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbdf000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18397787218971200946), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90728, alignment: 0
Returning buffer pointer: 0x21fe6b90728 (aligned: true)
Created staging buffer at: 0x21fe6b90728
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16403328101766925748), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90428, alignment: 0
Returning buffer pointer: 0x21fe6b90428 (aligned: true)
Created staging buffer at: 0x21fe6b90428
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17942329920327781814), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90828, alignment: 0
Returning buffer pointer: 0x21fe6b90828 (aligned: true)
Created staging buffer at: 0x21fe6b90828
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0c000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17415779299343994296), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.3e2,0.0e0] to [3.2e1,-1.2e2,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fb28, alignment: 0
Returning buffer pointer: 0x21fe6b8fb28 (aligned: true)
Submitting readback 272 at frame 285 (will be ready at frame 288)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 4 minichunks in workspace 0
Overall bounds: [32, -128, 0] to [64, -120, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91a68, alignment: 0
Returning buffer pointer: 0x21fe6b91a68 (aligned: true)
Created staging buffer at: 0x21fe6b91a68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfe000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15076048242250616253), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91aa8, alignment: 0
Returning buffer pointer: 0x21fe6b91aa8 (aligned: true)
Created staging buffer at: 0x21fe6b91aa8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(747984566236483007), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92068, alignment: 0
Returning buffer pointer: 0x21fe6b92068 (aligned: true)
Created staging buffer at: 0x21fe6b92068
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcf000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16450494951575260609), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ca8, alignment: 0
Returning buffer pointer: 0x21fe6b91ca8 (aligned: true)
Created staging buffer at: 0x21fe6b91ca8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe0000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14113546758411783619), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [3.2e1,-1.3e2,0.0e0] to [6.4e1,-1.2e2,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b929e8, alignment: 0
Returning buffer pointer: 0x21fe6b929e8 (aligned: true)
Submitting readback 273 at frame 285 (will be ready at frame 288)
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 38.9ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 16)
DeferredReadbackManager: advanced to frame 286
Processing readbacks: 2 pending, completed_frame: 286, frames_in_flight: 3
Checking readback 272: submitted frame 285, current frame 286, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 286
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 286, frames_in_flight: 3
Checking readback 272: submitted frame 285, current frame 286, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 63 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 1
Overall bounds: [0, -120, 0] to [40, -112, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920a8, alignment: 0
Returning buffer pointer: 0x21fe6b920a8 (aligned: true)
Created staging buffer at: 0x21fe6b920a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2576893516181409224), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92468, alignment: 0
Returning buffer pointer: 0x21fe6b92468 (aligned: true)
Created staging buffer at: 0x21fe6b92468
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10869847818495856074), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91de8, alignment: 0
Returning buffer pointer: 0x21fe6b91de8 (aligned: true)
Created staging buffer at: 0x21fe6b91de8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15102771872363711948), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92768, alignment: 0
Returning buffer pointer: 0x21fe6b92768 (aligned: true)
Created staging buffer at: 0x21fe6b92768
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbca000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2958461434415025614), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.2e2,0.0e0] to [4.0e1,-1.1e2,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92928, alignment: 0
Returning buffer pointer: 0x21fe6b92928 (aligned: true)
Submitting readback 274 at frame 286 (will be ready at frame 289)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 38.6ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 12)
DeferredReadbackManager: advanced to frame 287
Processing readbacks: 3 pending, completed_frame: 287, frames_in_flight: 3
Checking readback 272: submitted frame 285, current frame 287, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 287
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 287, frames_in_flight: 3
Checking readback 272: submitted frame 285, current frame 287, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 63 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.2ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 4)
DeferredReadbackManager: advanced to frame 288
Processing readbacks: 3 pending, completed_frame: 288, frames_in_flight: 3
Checking readback 272: submitted frame 285, current frame 288, 3 frames elapsed (need 3)
Readback 272 ready (submitted frame 285, current frame 288)
Checking readback 273: submitted frame 285, current frame 288, 3 frames elapsed (need 3)
Readback 273 ready (submitted frame 285, current frame 288)
Checking readback 274: submitted frame 286, current frame 288, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (4 minichunks, 8192 bytes)
Minichunk 1/512 completed
Minichunk 2/512 completed
Minichunk 3/512 completed
Minichunk 4/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (4 minichunks, 8192 bytes)
Minichunk 5/512 completed
Minichunk 6/512 completed
Minichunk 7/512 completed
Minichunk 8/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 288
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 288, frames_in_flight: 3
Checking readback 274: submitted frame 286, current frame 288, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 63 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 5 minichunks in workspace 2
Overall bounds: [0, -104, 0] to [40, -96, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92428, alignment: 0
Returning buffer pointer: 0x21fe6b92428 (aligned: true)
Created staging buffer at: 0x21fe6b92428
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9909877410424163795), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92828, alignment: 0
Returning buffer pointer: 0x21fe6b92828 (aligned: true)
Created staging buffer at: 0x21fe6b92828
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbda000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2750937410765327829), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91be8, alignment: 0
Returning buffer pointer: 0x21fe6b91be8 (aligned: true)
Created staging buffer at: 0x21fe6b91be8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4322216492671176151), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b927a8, alignment: 0
Returning buffer pointer: 0x21fe6b927a8 (aligned: true)
Created staging buffer at: 0x21fe6b927a8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab5000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13600957736077495769), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.0e2,0.0e0] to [4.0e1,-9.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b920e8, alignment: 0
Returning buffer pointer: 0x21fe6b920e8 (aligned: true)
Submitting readback 275 at frame 288 (will be ready at frame 291)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 0
Overall bounds: [40, -104, 0] to [64, -96, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92868, alignment: 0
Returning buffer pointer: 0x21fe6b92868 (aligned: true)
Created staging buffer at: 0x21fe6b92868
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3799032576291638750), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91e28, alignment: 0
Returning buffer pointer: 0x21fe6b91e28 (aligned: true)
Created staging buffer at: 0x21fe6b91e28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecd9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12859358033863511520), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c28, alignment: 0
Returning buffer pointer: 0x21fe6b91c28 (aligned: true)
Created staging buffer at: 0x21fe6b91c28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecda000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12190166669896715746), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92128, alignment: 0
Returning buffer pointer: 0x21fe6b92128 (aligned: true)
Created staging buffer at: 0x21fe6b92128
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf5000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(37781418553642468), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.0e1,-1.0e2,0.0e0] to [6.4e1,-9.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b924a8, alignment: 0
Returning buffer pointer: 0x21fe6b924a8 (aligned: true)
Submitting readback 276 at frame 288 (will be ready at frame 291)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 37.4ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 16)
DeferredReadbackManager: advanced to frame 289
Processing readbacks: 3 pending, completed_frame: 289, frames_in_flight: 3
Checking readback 274: submitted frame 286, current frame 289, 3 frames elapsed (need 3)
Readback 274 ready (submitted frame 286, current frame 289)
Checking readback 275: submitted frame 288, current frame 289, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (5 minichunks, 10240 bytes)
Minichunk 9/512 completed
Minichunk 10/512 completed
Minichunk 11/512 completed
Minichunk 12/512 completed
Minichunk 13/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 289
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 289, frames_in_flight: 3
Checking readback 275: submitted frame 288, current frame 289, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 62 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [0, -72, 0] to [48, -64, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b96b68, alignment: 0
Returning buffer pointer: 0x21fe6b96b68 (aligned: true)
Created staging buffer at: 0x21fe6b96b68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fceccf000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11533400886835416553), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90468, alignment: 0
Returning buffer pointer: 0x21fe6b90468 (aligned: true)
Created staging buffer at: 0x21fe6b90468
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6600039547562626539), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b902e8, alignment: 0
Returning buffer pointer: 0x21fe6b902e8 (aligned: true)
Created staging buffer at: 0x21fe6b902e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc05000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2243411639476948461), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fb28, alignment: 0
Returning buffer pointer: 0x21fe6b8fb28 (aligned: true)
Created staging buffer at: 0x21fe6b8fb28
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcb000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11262572481216515567), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-7.2e1,0.0e0] to [4.8e1,-6.4e1,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fe28, alignment: 0
Returning buffer pointer: 0x21fe6b8fe28 (aligned: true)
Submitting readback 277 at frame 289 (will be ready at frame 292)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 2 remaining minichunks from batch
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 36.9ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 10)
DeferredReadbackManager: advanced to frame 290
Processing readbacks: 3 pending, completed_frame: 290, frames_in_flight: 3
Checking readback 275: submitted frame 288, current frame 290, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 290
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 290, frames_in_flight: 3
Checking readback 275: submitted frame 288, current frame 290, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 62 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.1ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 291
Processing readbacks: 3 pending, completed_frame: 291, frames_in_flight: 3
Checking readback 275: submitted frame 288, current frame 291, 3 frames elapsed (need 3)
Readback 275 ready (submitted frame 288, current frame 291)
Checking readback 276: submitted frame 288, current frame 291, 3 frames elapsed (need 3)
Readback 276 ready (submitted frame 288, current frame 291)
Checking readback 277: submitted frame 289, current frame 291, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 14/512 completed
Minichunk 15/512 completed
Minichunk 16/512 completed
Minichunk 17/512 completed
Minichunk 18/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 19/512 completed
Minichunk 20/512 completed
Minichunk 21/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 291
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 291, frames_in_flight: 3
Checking readback 277: submitted frame 289, current frame 291, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 62 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 2
Overall bounds: [0, -72, 8] to [48, -64, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b924a8, alignment: 0
Returning buffer pointer: 0x21fe6b924a8 (aligned: true)
Created staging buffer at: 0x21fe6b924a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6076491692834295284), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b920e8, alignment: 0
Returning buffer pointer: 0x21fe6b920e8 (aligned: true)
Created staging buffer at: 0x21fe6b920e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbec000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7912185729034227190), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91d28, alignment: 0
Returning buffer pointer: 0x21fe6b91d28 (aligned: true)
Created staging buffer at: 0x21fe6b91d28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc06000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10297345308052426232), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92328, alignment: 0
Returning buffer pointer: 0x21fe6b92328 (aligned: true)
Created staging buffer at: 0x21fe6b92328
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc15000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7511660031314497018), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-7.2e1,8.0e0] to [4.8e1,-6.4e1,1.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b92268, alignment: 0
Returning buffer pointer: 0x21fe6b92268 (aligned: true)
Submitting readback 278 at frame 291 (will be ready at frame 294)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 0
Overall bounds: [48, -72, 8] to [64, -64, 16]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b928a8, alignment: 0
Returning buffer pointer: 0x21fe6b928a8 (aligned: true)
Created staging buffer at: 0x21fe6b928a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc16000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8909987033682808319), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b924e8, alignment: 0
Returning buffer pointer: 0x21fe6b924e8 (aligned: true)
Created staging buffer at: 0x21fe6b924e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9186679134812638721), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92528, alignment: 0
Returning buffer pointer: 0x21fe6b92528 (aligned: true)
Created staging buffer at: 0x21fe6b92528
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8841452274900274691), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92928, alignment: 0
Returning buffer pointer: 0x21fe6b92928 (aligned: true)
Created staging buffer at: 0x21fe6b92928
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbef000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5037584046469680645), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.8e1,-7.2e1,8.0e0] to [6.4e1,-6.4e1,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b925a8, alignment: 0
Returning buffer pointer: 0x21fe6b925a8 (aligned: true)
Submitting readback 279 at frame 291 (will be ready at frame 294)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.8ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 292
Processing readbacks: 3 pending, completed_frame: 292, frames_in_flight: 3
Checking readback 277: submitted frame 289, current frame 292, 3 frames elapsed (need 3)
Readback 277 ready (submitted frame 289, current frame 292)
Checking readback 278: submitted frame 291, current frame 292, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 22/512 completed
Minichunk 23/512 completed
Minichunk 24/512 completed
Minichunk 25/512 completed
Minichunk 26/512 completed
Minichunk 27/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 292
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 292, frames_in_flight: 3
Checking readback 278: submitted frame 291, current frame 292, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 61 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [0, -72, 24] to [56, -64, 32]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b904e8, alignment: 0
Returning buffer pointer: 0x21fe6b904e8 (aligned: true)
Created staging buffer at: 0x21fe6b904e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfab3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7917528256033590794), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90528, alignment: 0
Returning buffer pointer: 0x21fe6b90528 (aligned: true)
Created staging buffer at: 0x21fe6b90528
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbcd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(921285190960025100), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b906a8, alignment: 0
Returning buffer pointer: 0x21fe6b906a8 (aligned: true)
Created staging buffer at: 0x21fe6b906a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbff000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7664935250761354766), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8ffe8, alignment: 0
Returning buffer pointer: 0x21fe6b8ffe8 (aligned: true)
Created staging buffer at: 0x21fe6b8ffe8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc8000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5793014505449459216), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-7.2e1,2.4e1] to [5.6e1,-6.4e1,3.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b90a28, alignment: 0
Returning buffer pointer: 0x21fe6b90a28 (aligned: true)
Submitting readback 280 at frame 292 (will be ready at frame 295)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 31.7ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 293
Processing readbacks: 3 pending, completed_frame: 293, frames_in_flight: 3
Checking readback 278: submitted frame 291, current frame 293, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 293

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: 0.0°, Pitch: 0.0°, Roll: -45.6°]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 293, frames_in_flight: 3
Checking readback 278: submitted frame 291, current frame 293, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 61 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.1ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 4)
DeferredReadbackManager: advanced to frame 294
Processing readbacks: 3 pending, completed_frame: 294, frames_in_flight: 3
Checking readback 278: submitted frame 291, current frame 294, 3 frames elapsed (need 3)
Readback 278 ready (submitted frame 291, current frame 294)
Checking readback 279: submitted frame 291, current frame 294, 3 frames elapsed (need 3)
Readback 279 ready (submitted frame 291, current frame 294)
Checking readback 280: submitted frame 292, current frame 294, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (6 minichunks, 12288 bytes)
Minichunk 28/512 completed
Minichunk 29/512 completed
Minichunk 30/512 completed
Minichunk 31/512 completed
Minichunk 32/512 completed
Minichunk 33/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (2 minichunks, 4096 bytes)
Minichunk 34/512 completed
Minichunk 35/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 294

Region Loading Status:
  Camera region: RegionId(0, -1, 0)
  View distance: 1 regions
  Loaded regions: 2
  Pending generations: 2
  Active chunks: 3
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 294, frames_in_flight: 3
Checking readback 280: submitted frame 292, current frame 294, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 61 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 5 minichunks in workspace 2
Overall bounds: [0, -80, 56] to [40, -72, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b925a8, alignment: 0
Returning buffer pointer: 0x21fe6b925a8 (aligned: true)
Created staging buffer at: 0x21fe6b925a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbe4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2260535433567931925), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b926a8, alignment: 0
Returning buffer pointer: 0x21fe6b926a8 (aligned: true)
Created staging buffer at: 0x21fe6b926a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbf4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10993808958434577943), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92168, alignment: 0
Returning buffer pointer: 0x21fe6b92168 (aligned: true)
Created staging buffer at: 0x21fe6b92168
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc13000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5047282838538292761), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92968, alignment: 0
Returning buffer pointer: 0x21fe6b92968 (aligned: true)
Created staging buffer at: 0x21fe6b92968
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc14000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2639952707057618459), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.0e1,5.6e1] to [4.0e1,-7.2e1,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9595518976
Using actual brush buffer with address: 0x23bf00000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b929a8, alignment: 0
Returning buffer pointer: 0x21fe6b929a8 (aligned: true)
Submitting readback 281 at frame 294 (will be ready at frame 297)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 0
Overall bounds: [40, -80, 56] to [64, -72, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b97768, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97768, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97768 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b92268, alignment: 0
Returning buffer pointer: 0x21fe6b92268 (aligned: true)
Created staging buffer at: 0x21fe6b92268
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1d000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10172325338416156192), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97128, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97128, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97128 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91ee8, alignment: 0
Returning buffer pointer: 0x21fe6b91ee8 (aligned: true)
Created staging buffer at: 0x21fe6b91ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3782440945828498978), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b972e8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b972e8, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b972e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b929e8, alignment: 0
Returning buffer pointer: 0x21fe6b929e8 (aligned: true)
Created staging buffer at: 0x21fe6b929e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3910945267813191204), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97368, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97368, cmd_buffer: vk.CommandBuffer(2336154875472)
About to cast buffer anyopaque@21fe6b97368 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91fa8, alignment: 0
Returning buffer pointer: 0x21fe6b91fa8 (aligned: true)
Created staging buffer at: 0x21fe6b91fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcecdc000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13324160081831398950), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.0e1,-8.0e1,5.6e1] to [6.4e1,-7.2e1,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572450304
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9573498880
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9574023168
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9578741760
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9579266048
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9572974592
Using actual brush buffer with address: 0x23a980000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336154875472)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedae7650
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedae7650, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336154875472), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336154875472), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b922e8, alignment: 0
Returning buffer pointer: 0x21fe6b922e8 (aligned: true)
Submitting readback 282 at frame 294 (will be ready at frame 297)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 27.6ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 16)
DeferredReadbackManager: advanced to frame 295
Processing readbacks: 3 pending, completed_frame: 295, frames_in_flight: 3
Checking readback 280: submitted frame 292, current frame 295, 3 frames elapsed (need 3)
Readback 280 ready (submitted frame 292, current frame 295)
Checking readback 281: submitted frame 294, current frame 295, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 36/512 completed
Minichunk 37/512 completed
Minichunk 38/512 completed
Minichunk 39/512 completed
Minichunk 40/512 completed
Minichunk 41/512 completed
Minichunk 42/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 295
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 295, frames_in_flight: 3
Checking readback 281: submitted frame 294, current frame 295, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 60 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [0, -72, 56] to [48, -64, 64]
renderer_buffer_write called - buffer: anyopaque@21fe6b973a8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b973a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b973a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fba8, alignment: 0
Returning buffer pointer: 0x21fe6b8fba8 (aligned: true)
Created staging buffer at: 0x21fe6b8fba8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4247017593912692267), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b96da8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b96da8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b96da8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b8fe28, alignment: 0
Returning buffer pointer: 0x21fe6b8fe28 (aligned: true)
Created staging buffer at: 0x21fe6b8fe28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc1b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13848003705187601965), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97528, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97528, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97528 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90028, alignment: 0
Returning buffer pointer: 0x21fe6b90028 (aligned: true)
Created staging buffer at: 0x21fe6b90028
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc07000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11998834054477647407), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97428, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97428, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97428 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b90068, alignment: 0
Returning buffer pointer: 0x21fe6b90068 (aligned: true)
Created staging buffer at: 0x21fe6b90068
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc08000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3680173170305797681), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-7.2e1,5.6e1] to [4.8e1,-6.4e1,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40020
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9583984640
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585033216
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9585557504
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9589751808
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9590276096
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9584508928
Using actual brush buffer with address: 0x23b480000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@22003f40040
  self.manager: gfx.vk.PipelineManager.PipelineManager@22003f50000
  cmd: vk.CommandBuffer(2336155037296)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@22003f50018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x21fedb0ee70
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x21fe6976a70
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x21fedb0ee70, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(2336155037296), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(2336155037296), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x21fe6b8fd68, alignment: 0
Returning buffer pointer: 0x21fe6b8fd68 (aligned: true)
Submitting readback 283 at frame 295 (will be ready at frame 298)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 2 remaining minichunks from batch
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 25.2ms (target: 10.0ms), Workgroups: 5 -> 5 (PID: 4)
DeferredReadbackManager: advanced to frame 296
Processing readbacks: 3 pending, completed_frame: 296, frames_in_flight: 3
Checking readback 281: submitted frame 294, current frame 296, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 296
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 296, frames_in_flight: 3
Checking readback 281: submitted frame 294, current frame 296, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 60 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 21.5ms (target: 10.0ms), Workgroups: 4 -> 4 (PID: 4)
DeferredReadbackManager: advanced to frame 297
Processing readbacks: 3 pending, completed_frame: 297, frames_in_flight: 3
Checking readback 281: submitted frame 294, current frame 297, 3 frames elapsed (need 3)
Readback 281 ready (submitted frame 294, current frame 297)
Checking readback 282: submitted frame 294, current frame 297, 3 frames elapsed (need 3)
Readback 282 ready (submitted frame 294, current frame 297)
Checking readback 283: submitted frame 295, current frame 297, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 43/512 completed
Minichunk 44/512 completed
Minichunk 45/512 completed
Minichunk 46/512 completed
Minichunk 47/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 48/512 completed
Minichunk 49/512 completed
Minichunk 50/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 297
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 297, frames_in_flight: 3
Checking readback 283: submitted frame 295, current frame 297, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 60 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 0) with 3 minichunks (available workspaces: 2)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 3 minichunks in workspace 2
Overall bounds: [40, -120, 0] to [64, -112, 8]
renderer_buffer_write called - buffer: anyopaque@21fe6b974e8, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91e68, alignment: 0
Returning buffer pointer: 0x21fe6b91e68 (aligned: true)
Created staging buffer at: 0x21fe6b91e68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbc9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15175579333331783222), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b97468, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b97468, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b97468 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91c68, alignment: 0
Returning buffer pointer: 0x21fe6b91c68 (aligned: true)
Created staging buffer at: 0x21fe6b91c68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc17000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15285713015039594040), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b974a8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b974a8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b974a8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b91f68, alignment: 0
Returning buffer pointer: 0x21fe6b91f68 (aligned: true)
Created staging buffer at: 0x21fe6b91f68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfc0e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1931623127188508218), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@21fe6b977e8, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@21fe6b977e8, cmd_buffer: vk.CommandBuffer(2336155037296)
About to cast buffer anyopaque@21fe6b977e8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x21fe6b929a8, alignment: 0
Returning buffer pointer: 0x21fe6b929a8 (aligned: true)
Created staging buffer at: 0x21fe6b929a8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@21fcfbfc000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11652156938728246844), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [4.0e1,-1.2e2,0.0e0] to [6.4e1,-1.1e2,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9594994688
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9596043264
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9730785280
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9735503872
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(2336035924592), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9736028160
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipelineerror: process didn't exit successfully: `target\debug\synthesis.exe` (exit code: 0xc000013a, STATUS_CONTROL_C_EXIT)