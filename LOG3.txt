  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bd92bda058, alignment: 0
Returning buffer pointer: 0x2bd92bda058 (aligned: true)
Submitting readback 720 at frame 765 (will be ready at frame 768)
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 52.0ms (target: 10.0ms), Workgroups: 15 -> 15 (PID: 16)
DeferredReadbackManager: advanced to frame 766
Processing readbacks: 3 pending, completed_frame: 766, frames_in_flight: 3
Checking readback 718: submitted frame 764, current frame 766, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 766
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0°, Pitch: 0.0°, Roll: -45.0°]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 766, frames_in_flight: 3
Checking readback 718: submitted frame 764, current frame 766, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 44.1ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 4)
DeferredReadbackManager: advanced to frame 767
Processing readbacks: 3 pending, completed_frame: 767, frames_in_flight: 3
Checking readback 718: submitted frame 764, current frame 767, 3 frames elapsed (need 3)
Readback 718 ready (submitted frame 764, current frame 767)
Checking readback 719: submitted frame 764, current frame 767, 3 frames elapsed (need 3)
Readback 719 ready (submitted frame 764, current frame 767)
Checking readback 720: submitted frame 765, current frame 767, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (13 minichunks, 26624 bytes)
Minichunk 70/512 completed
Minichunk 71/512 completed
Minichunk 72/512 completed
Minichunk 73/512 completed
Minichunk 74/512 completed
Minichunk 75/512 completed
Minichunk 76/512 completed
Minichunk 77/512 completed
Minichunk 78/512 completed
Minichunk 79/512 completed
Minichunk 80/512 completed
Minichunk 81/512 completed
Minichunk 82/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 83/512 completed
Minichunk 84/512 completed
Minichunk 85/512 completed
Minichunk 86/512 completed
Minichunk 87/512 completed
Minichunk 88/512 completed
Minichunk 89/512 completed
Minichunk 90/512 completed
Minichunk 91/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 767
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 767, frames_in_flight: 3
Checking readback 720: submitted frame 765, current frame 767, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 10 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 1
Overall bounds: [0, -96, 64] to [64, -80, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda318, alignment: 0
Returning buffer pointer: 0x2bd92bda318 (aligned: true)
Created staging buffer at: 0x2bd92bda318
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4393000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18385260482995953917), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda098, alignment: 0
Returning buffer pointer: 0x2bd92bda098 (aligned: true)
Created staging buffer at: 0x2bd92bda098
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18190833841856323839), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda118, alignment: 0
Returning buffer pointer: 0x2bd92bda118 (aligned: true)
Created staging buffer at: 0x2bd92bda118
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(413057931253129473), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2508, alignment: 0
Returning buffer pointer: 0x2be056e2508 (aligned: true)
Created staging buffer at: 0x2be056e2508
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d4000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16780948773256831235), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-9.6e1,6.4e1] to [6.4e1,-8.0e1,7.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e1fc8, alignment: 0
Returning buffer pointer: 0x2be056e1fc8 (aligned: true)
Submitting readback 721 at frame 767 (will be ready at frame 770)
Successfully queued 10 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 14 minichunks in workspace 2
Overall bounds: [0, -96, 120] to [64, -72, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2308, alignment: 0
Returning buffer pointer: 0x2be056e2308 (aligned: true)
Created staging buffer at: 0x2be056e2308
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14914025308293177608), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2288, alignment: 0
Returning buffer pointer: 0x2be056e2288 (aligned: true)
Created staging buffer at: 0x2be056e2288
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1168403727837569290), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2348, alignment: 0
Returning buffer pointer: 0x2be056e2348 (aligned: true)
Created staging buffer at: 0x2be056e2348
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4394000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10848968092684394764), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 896, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e48, alignment: 0
Returning buffer pointer: 0x2be056e1e48 (aligned: true)
Created staging buffer at: 0x2be056e1e48
Staging buffer cast successful
About to map memory for staging buffer - size: 896
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43af000
About to memcpy 896 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14202529134936072462), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-9.6e1,1.2e2] to [6.4e1,-7.2e1,1.3e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 14
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=14 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=14, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e1e88, alignment: 0
Returning buffer pointer: 0x2be056e1e88 (aligned: true)
Submitting readback 722 at frame 767 (will be ready at frame 770)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 8 remaining minichunks from batch
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 47.9ms (target: 10.0ms), Workgroups: 15 -> 15 (PID: 16)
DeferredReadbackManager: advanced to frame 768
Processing readbacks: 3 pending, completed_frame: 768, frames_in_flight: 3
Checking readback 720: submitted frame 765, current frame 768, 3 frames elapsed (need 3)
Readback 720 ready (submitted frame 765, current frame 768)
Checking readback 721: submitted frame 767, current frame 768, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 92/512 completed
Minichunk 93/512 completed
Minichunk 94/512 completed
Minichunk 95/512 completed
Minichunk 96/512 completed
Minichunk 97/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 768
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 768, frames_in_flight: 3
Checking readback 721: submitted frame 767, current frame 768, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 19 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 9 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 0
Overall bounds: [0, -96, 80] to [64, -80, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e20c8, alignment: 0
Returning buffer pointer: 0x2be056e20c8 (aligned: true)
Created staging buffer at: 0x2be056e20c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2490904010307936531), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1dc8, alignment: 0
Returning buffer pointer: 0x2be056e1dc8 (aligned: true)
Created staging buffer at: 0x2be056e1dc8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9644729081874358549), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2008, alignment: 0
Returning buffer pointer: 0x2be056e2008 (aligned: true)
Created staging buffer at: 0x2be056e2008
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bf000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15475375472296075543), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2208, alignment: 0
Returning buffer pointer: 0x2be056e2208 (aligned: true)
Created staging buffer at: 0x2be056e2208
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bd000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15253078410415579417), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-9.6e1,8.0e1] to [6.4e1,-8.0e1,8.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2248, alignment: 0
Returning buffer pointer: 0x2be056e2248 (aligned: true)
Submitting readback 723 at frame 768 (will be ready at frame 771)
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 44.1ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 4)
DeferredReadbackManager: advanced to frame 769
Processing readbacks: 3 pending, completed_frame: 769, frames_in_flight: 3
Checking readback 721: submitted frame 767, current frame 769, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 769
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 769, frames_in_flight: 3
Checking readback 721: submitted frame 767, current frame 769, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.3ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 4)
DeferredReadbackManager: advanced to frame 770
Processing readbacks: 3 pending, completed_frame: 770, frames_in_flight: 3
Checking readback 721: submitted frame 767, current frame 770, 3 frames elapsed (need 3)
Readback 721 ready (submitted frame 767, current frame 770)
Checking readback 722: submitted frame 767, current frame 770, 3 frames elapsed (need 3)
Readback 722 ready (submitted frame 767, current frame 770)
Checking readback 723: submitted frame 768, current frame 770, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 98/512 completed
Minichunk 99/512 completed
Minichunk 100/512 completed
Minichunk 101/512 completed
Minichunk 102/512 completed
Minichunk 103/512 completed
Minichunk 104/512 completed
Minichunk 105/512 completed
Minichunk 106/512 completed
Minichunk 107/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (14 minichunks, 28672 bytes)
Minichunk 108/512 completed
Minichunk 109/512 completed
Minichunk 110/512 completed
Minichunk 111/512 completed
Minichunk 112/512 completed
Minichunk 113/512 completed
Minichunk 114/512 completed
Minichunk 115/512 completed
Minichunk 116/512 completed
Minichunk 117/512 completed
Minichunk 118/512 completed
Minichunk 119/512 completed
Minichunk 120/512 completed
Minichunk 121/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 770
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 770, frames_in_flight: 3
Checking readback 723: submitted frame 768, current frame 770, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 13 minichunks in workspace 1
Overall bounds: [0, -120, 120] to [64, -96, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2388, alignment: 0
Returning buffer pointer: 0x2be056e2388 (aligned: true)
Created staging buffer at: 0x2be056e2388
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12850304655120408862), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e88, alignment: 0
Returning buffer pointer: 0x2be056e1e88 (aligned: true)
Created staging buffer at: 0x2be056e1e88
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2913523294676197664), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2148, alignment: 0
Returning buffer pointer: 0x2be056e2148 (aligned: true)
Created staging buffer at: 0x2be056e2148
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13922904636294963490), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 832, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2108, alignment: 0
Returning buffer pointer: 0x2be056e2108 (aligned: true)
Created staging buffer at: 0x2be056e2108
Staging buffer cast successful
About to map memory for staging buffer - size: 832
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ea000
About to memcpy 832 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13690430494787772708), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.2e2,1.2e2] to [6.4e1,-9.6e1,1.3e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 13
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=13 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=13, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2188, alignment: 0
Returning buffer pointer: 0x2be056e2188 (aligned: true)
Submitting readback 724 at frame 770 (will be ready at frame 773)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [0, -104, 120] to [64, -88, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e21c8, alignment: 0
Returning buffer pointer: 0x2be056e21c8 (aligned: true)
Created staging buffer at: 0x2be056e21c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(434108081366901033), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1ec8, alignment: 0
Returning buffer pointer: 0x2be056e1ec8 (aligned: true)
Created staging buffer at: 0x2be056e1ec8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13023285321960268075), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e23c8, alignment: 0
Returning buffer pointer: 0x2be056e23c8 (aligned: true)
Created staging buffer at: 0x2be056e23c8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12930484341552718125), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2408, alignment: 0
Returning buffer pointer: 0x2be056e2408 (aligned: true)
Created staging buffer at: 0x2be056e2408
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4399000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1029561797528527151), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.0e2,1.2e2] to [6.4e1,-8.8e1,1.3e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2488, alignment: 0
Returning buffer pointer: 0x2be056e2488 (aligned: true)
Submitting readback 725 at frame 770 (will be ready at frame 773)
Successfully queued 22 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 41.8ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 16)
DeferredReadbackManager: advanced to frame 771
Processing readbacks: 3 pending, completed_frame: 771, frames_in_flight: 3
Checking readback 723: submitted frame 768, current frame 771, 3 frames elapsed (need 3)
Readback 723 ready (submitted frame 768, current frame 771)
Checking readback 724: submitted frame 770, current frame 771, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 122/512 completed
Minichunk 123/512 completed
Minichunk 124/512 completed
Minichunk 125/512 completed
Minichunk 126/512 completed
Minichunk 127/512 completed
Minichunk 128/512 completed
Minichunk 129/512 completed
Minichunk 130/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 771
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 771, frames_in_flight: 3
Checking readback 724: submitted frame 770, current frame 771, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 17 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 14 minichunks in workspace 0
Overall bounds: [0, -128, 112] to [64, -64, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e08, alignment: 0
Returning buffer pointer: 0x2be056e1e08 (aligned: true)
Created staging buffer at: 0x2be056e1e08
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11979607994154361140), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e22c8, alignment: 0
Returning buffer pointer: 0x2be056e22c8 (aligned: true)
Created staging buffer at: 0x2be056e22c8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4672110779443454262), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1f08, alignment: 0
Returning buffer pointer: 0x2be056e1f08 (aligned: true)
Created staging buffer at: 0x2be056e1f08
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1846388985803317560), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 896, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1f88, alignment: 0
Returning buffer pointer: 0x2be056e1f88 (aligned: true)
Created staging buffer at: 0x2be056e1f88
Staging buffer cast successful
About to map memory for staging buffer - size: 896
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bc000
About to memcpy 896 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11386563307969192250), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.3e2,1.1e2] to [6.4e1,-6.4e1,1.3e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 14
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=14 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=14, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2448, alignment: 0
Returning buffer pointer: 0x2be056e2448 (aligned: true)
Submitting readback 726 at frame 771 (will be ready at frame 774)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 8 remaining minichunks from batch
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 40.9ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 11)
DeferredReadbackManager: advanced to frame 772
Processing readbacks: 3 pending, completed_frame: 772, frames_in_flight: 3
Checking readback 724: submitted frame 770, current frame 772, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 772
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 772, frames_in_flight: 3
Checking readback 724: submitted frame 770, current frame 772, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 17 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.8ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 4)
DeferredReadbackManager: advanced to frame 773
Processing readbacks: 3 pending, completed_frame: 773, frames_in_flight: 3
Checking readback 724: submitted frame 770, current frame 773, 3 frames elapsed (need 3)
Readback 724 ready (submitted frame 770, current frame 773)
Checking readback 725: submitted frame 770, current frame 773, 3 frames elapsed (need 3)
Readback 725 ready (submitted frame 770, current frame 773)
Checking readback 726: submitted frame 771, current frame 773, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (13 minichunks, 26624 bytes)
Minichunk 131/512 completed
Minichunk 132/512 completed
Minichunk 133/512 completed
Minichunk 134/512 completed
Minichunk 135/512 completed
Minichunk 136/512 completed
Minichunk 137/512 completed
Minichunk 138/512 completed
Minichunk 139/512 completed
Minichunk 140/512 completed
Minichunk 141/512 completed
Minichunk 142/512 completed
Minichunk 143/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 144/512 completed
Minichunk 145/512 completed
Minichunk 146/512 completed
Minichunk 147/512 completed
Minichunk 148/512 completed
Minichunk 149/512 completed
Minichunk 150/512 completed
Minichunk 151/512 completed
Minichunk 152/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 773
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 773, frames_in_flight: 3
Checking readback 726: submitted frame 771, current frame 773, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 17 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 12 minichunks in workspace 1
Overall bounds: [0, -96, 112] to [64, -80, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1fc8, alignment: 0
Returning buffer pointer: 0x2be056e1fc8 (aligned: true)
Created staging buffer at: 0x2be056e1fc8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cb000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6241617448605327679), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2048, alignment: 0
Returning buffer pointer: 0x2be056e2048 (aligned: true)
Created staging buffer at: 0x2be056e2048
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35be000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7714868471825178945), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2088, alignment: 0
Returning buffer pointer: 0x2be056e2088 (aligned: true)
Created staging buffer at: 0x2be056e2088
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cf000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10352414347929592131), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2188, alignment: 0
Returning buffer pointer: 0x2be056e2188 (aligned: true)
Created staging buffer at: 0x2be056e2188
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d9000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7132896967243342149), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-9.6e1,1.1e2] to [6.4e1,-8.0e1,1.2e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2488, alignment: 0
Returning buffer pointer: 0x2be056e2488 (aligned: true)
Submitting readback 727 at frame 773 (will be ready at frame 776)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 2
Overall bounds: [0, -88, 112] to [64, -72, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e24c8, alignment: 0
Returning buffer pointer: 0x2be056e24c8 (aligned: true)
Created staging buffer at: 0x2be056e24c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4824836243076424010), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2248, alignment: 0
Returning buffer pointer: 0x2be056e2248 (aligned: true)
Created staging buffer at: 0x2be056e2248
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8772173146745741644), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fed58, alignment: 0
Returning buffer pointer: 0x2bde57fed58 (aligned: true)
Created staging buffer at: 0x2bde57fed58
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8099661257663062350), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb18, alignment: 0
Returning buffer pointer: 0x2bde57feb18 (aligned: true)
Created staging buffer at: 0x2bde57feb18
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e3000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8829756769715626320), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.8e1,1.1e2] to [6.4e1,-7.2e1,1.2e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fea18, alignment: 0
Returning buffer pointer: 0x2bde57fea18 (aligned: true)
Submitting readback 728 at frame 773 (will be ready at frame 776)
Successfully queued 22 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 40.6ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 16)
DeferredReadbackManager: advanced to frame 774
Processing readbacks: 3 pending, completed_frame: 774, frames_in_flight: 3
Checking readback 726: submitted frame 771, current frame 774, 3 frames elapsed (need 3)
Readback 726 ready (submitted frame 771, current frame 774)
Checking readback 727: submitted frame 773, current frame 774, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (14 minichunks, 28672 bytes)
Minichunk 153/512 completed
Minichunk 154/512 completed
Minichunk 155/512 completed
Minichunk 156/512 completed
Minichunk 157/512 completed
Minichunk 158/512 completed
Minichunk 159/512 completed
Minichunk 160/512 completed
Minichunk 161/512 completed
Minichunk 162/512 completed
Minichunk 163/512 completed
Minichunk 164/512 completed
Minichunk 165/512 completed
Minichunk 166/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 774
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 774, frames_in_flight: 3
Checking readback 727: submitted frame 773, current frame 774, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 8 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [0, -80, 120] to [64, -64, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee18, alignment: 0
Returning buffer pointer: 0x2bde57fee18 (aligned: true)
Created staging buffer at: 0x2bde57fee18
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7724013110033391957), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe858, alignment: 0
Returning buffer pointer: 0x2bde57fe858 (aligned: true)
Created staging buffer at: 0x2bde57fe858
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1120647539796746583), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fed98, alignment: 0
Returning buffer pointer: 0x2bde57fed98 (aligned: true)
Created staging buffer at: 0x2bde57fed98
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439d000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7789979409653440857), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea98, alignment: 0
Returning buffer pointer: 0x2bde57fea98 (aligned: true)
Created staging buffer at: 0x2bde57fea98
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c2000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6148102885151351131), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.0e1,1.2e2] to [6.4e1,-6.4e1,1.3e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fe758, alignment: 0
Returning buffer pointer: 0x2bde57fe758 (aligned: true)
Submitting readback 729 at frame 774 (will be ready at frame 777)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 40.3ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 15)
DeferredReadbackManager: advanced to frame 775
Processing readbacks: 3 pending, completed_frame: 775, frames_in_flight: 3
Checking readback 727: submitted frame 773, current frame 775, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 775
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 775, frames_in_flight: 3
Checking readback 727: submitted frame 773, current frame 775, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.2ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 4)
DeferredReadbackManager: advanced to frame 776
Processing readbacks: 3 pending, completed_frame: 776, frames_in_flight: 3
Checking readback 727: submitted frame 773, current frame 776, 3 frames elapsed (need 3)
Readback 727 ready (submitted frame 773, current frame 776)
Checking readback 728: submitted frame 773, current frame 776, 3 frames elapsed (need 3)
Readback 728 ready (submitted frame 773, current frame 776)
Checking readback 729: submitted frame 774, current frame 776, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (12 minichunks, 24576 bytes)
Minichunk 167/512 completed
Minichunk 168/512 completed
Minichunk 169/512 completed
Minichunk 170/512 completed
Minichunk 171/512 completed
Minichunk 172/512 completed
Minichunk 173/512 completed
Minichunk 174/512 completed
Minichunk 175/512 completed
Minichunk 176/512 completed
Minichunk 177/512 completed
Minichunk 178/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (10 minichunks, 20480 bytes)
Minichunk 179/512 completed
Minichunk 180/512 completed
Minichunk 181/512 completed
Minichunk 182/512 completed
Minichunk 183/512 completed
Minichunk 184/512 completed
Minichunk 185/512 completed
Minichunk 186/512 completed
Minichunk 187/512 completed
Minichunk 188/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 776
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 776, frames_in_flight: 3
Checking readback 729: submitted frame 774, current frame 776, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 13 minichunks in workspace 1
Overall bounds: [0, -120, 112] to [64, -96, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb58, alignment: 0
Returning buffer pointer: 0x2bde57feb58 (aligned: true)
Created staging buffer at: 0x2bde57feb58
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2115187692957344096), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb98, alignment: 0
Returning buffer pointer: 0x2bde57feb98 (aligned: true)
Created staging buffer at: 0x2bde57feb98
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35ca000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11403213212548604258), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe798, alignment: 0
Returning buffer pointer: 0x2bde57fe798 (aligned: true)
Created staging buffer at: 0x2bde57fe798
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43eb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6390585881006186852), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 832, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec98, alignment: 0
Returning buffer pointer: 0x2bde57fec98 (aligned: true)
Created staging buffer at: 0x2bde57fec98
Staging buffer cast successful
About to map memory for staging buffer - size: 832
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ec000
About to memcpy 832 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2879064600261697894), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.2e2,1.1e2] to [6.4e1,-9.6e1,1.2e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 13
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=13 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=13, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fecd8, alignment: 0
Returning buffer pointer: 0x2bde57fecd8 (aligned: true)
Submitting readback 730 at frame 776 (will be ready at frame 779)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [0, -104, 112] to [64, -88, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea58, alignment: 0
Returning buffer pointer: 0x2bde57fea58 (aligned: true)
Created staging buffer at: 0x2bde57fea58
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10370878446694834539), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe958, alignment: 0
Returning buffer pointer: 0x2bde57fe958 (aligned: true)
Created staging buffer at: 0x2bde57fe958
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3042758791893361005), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57febd8, alignment: 0
Returning buffer pointer: 0x2bde57febd8 (aligned: true)
Created staging buffer at: 0x2bde57febd8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4391000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3851694785215603055), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe898, alignment: 0
Returning buffer pointer: 0x2bde57fe898 (aligned: true)
Created staging buffer at: 0x2bde57fe898
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4392000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13054402600537956721), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.0e2,1.1e2] to [6.4e1,-8.8e1,1.2e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fec18, alignment: 0
Returning buffer pointer: 0x2bde57fec18 (aligned: true)
Submitting readback 731 at frame 776 (will be ready at frame 779)
Successfully queued 22 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 40.9ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 16)
DeferredReadbackManager: advanced to frame 777
Processing readbacks: 3 pending, completed_frame: 777, frames_in_flight: 3
Checking readback 729: submitted frame 774, current frame 777, 3 frames elapsed (need 3)
Readback 729 ready (submitted frame 774, current frame 777)
Checking readback 730: submitted frame 776, current frame 777, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 189/512 completed
Minichunk 190/512 completed
Minichunk 191/512 completed
Minichunk 192/512 completed
Minichunk 193/512 completed
Minichunk 194/512 completed
Minichunk 195/512 completed
Minichunk 196/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 777
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 777, frames_in_flight: 3
Checking readback 730: submitted frame 776, current frame 777, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 14 minichunks in workspace 0
Overall bounds: [0, -128, 104] to [64, -64, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe758, alignment: 0
Returning buffer pointer: 0x2bde57fe758 (aligned: true)
Created staging buffer at: 0x2bde57fe758
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4441377164843032950), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fed18, alignment: 0
Returning buffer pointer: 0x2bde57fed18 (aligned: true)
Created staging buffer at: 0x2bde57fed18
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13460273024280306040), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea18, alignment: 0
Returning buffer pointer: 0x2bde57fea18 (aligned: true)
Created staging buffer at: 0x2bde57fea18
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12094290355466281338), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 896, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe998, alignment: 0
Returning buffer pointer: 0x2bde57fe998 (aligned: true)
Created staging buffer at: 0x2bde57fe998
Staging buffer cast successful
About to map memory for staging buffer - size: 896
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43da000
About to memcpy 896 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(621878279111975292), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.3e2,1.0e2] to [6.4e1,-6.4e1,1.2e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 14
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=14 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=14, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fec58, alignment: 0
Returning buffer pointer: 0x2bde57fec58 (aligned: true)
Submitting readback 732 at frame 777 (will be ready at frame 780)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 8 remaining minichunks from batch
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 40.4ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 13)
DeferredReadbackManager: advanced to frame 778
Processing readbacks: 3 pending, completed_frame: 778, frames_in_flight: 3
Checking readback 730: submitted frame 776, current frame 778, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 778
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 778, frames_in_flight: 3
Checking readback 730: submitted frame 776, current frame 778, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.6ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 4)
DeferredReadbackManager: advanced to frame 779
Processing readbacks: 3 pending, completed_frame: 779, frames_in_flight: 3
Checking readback 730: submitted frame 776, current frame 779, 3 frames elapsed (need 3)
Readback 730 ready (submitted frame 776, current frame 779)
Checking readback 731: submitted frame 776, current frame 779, 3 frames elapsed (need 3)
Readback 731 ready (submitted frame 776, current frame 779)
Checking readback 732: submitted frame 777, current frame 779, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (13 minichunks, 26624 bytes)
Minichunk 197/512 completed
Minichunk 198/512 completed
Minichunk 199/512 completed
Minichunk 200/512 completed
Minichunk 201/512 completed
Minichunk 202/512 completed
Minichunk 203/512 completed
Minichunk 204/512 completed
Minichunk 205/512 completed
Minichunk 206/512 completed
Minichunk 207/512 completed
Minichunk 208/512 completed
Minichunk 209/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 210/512 completed
Minichunk 211/512 completed
Minichunk 212/512 completed
Minichunk 213/512 completed
Minichunk 214/512 completed
Minichunk 215/512 completed
Minichunk 216/512 completed
Minichunk 217/512 completed
Minichunk 218/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 779
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 779, frames_in_flight: 3
Checking readback 732: submitted frame 777, current frame 779, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [0, -128, 120] to [64, -112, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee98, alignment: 0
Returning buffer pointer: 0x2bde57fee98 (aligned: true)
Created staging buffer at: 0x2bde57fee98
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cd000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12130724872275894657), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee58, alignment: 0
Returning buffer pointer: 0x2bde57fee58 (aligned: true)
Created staging buffer at: 0x2bde57fee58
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bf000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15461257742995431811), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe9d8, alignment: 0
Returning buffer pointer: 0x2bde57fe9d8 (aligned: true)
Created staging buffer at: 0x2bde57fe9d8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1516554189168189829), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec18, alignment: 0
Returning buffer pointer: 0x2bde57fec18 (aligned: true)
Created staging buffer at: 0x2bde57fec18
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c4000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11305477623955595655), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.3e2,1.2e2] to [6.4e1,-1.1e2,1.3e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fecd8, alignment: 0
Returning buffer pointer: 0x2bde57fecd8 (aligned: true)
Submitting readback 733 at frame 779 (will be ready at frame 782)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 12 minichunks in workspace 2
Overall bounds: [0, -80, 96] to [64, -64, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fedd8, alignment: 0
Returning buffer pointer: 0x2bde57fedd8 (aligned: true)
Created staging buffer at: 0x2bde57fedd8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14128577082363486604), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe818, alignment: 0
Returning buffer pointer: 0x2bde57fe818 (aligned: true)
Created staging buffer at: 0x2bde57fe818
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ce000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16692899882104529294), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe8d8, alignment: 0
Returning buffer pointer: 0x2bde57fe8d8 (aligned: true)
Created staging buffer at: 0x2bde57fe8d8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10051988188802589072), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fead8, alignment: 0
Returning buffer pointer: 0x2bde57fead8 (aligned: true)
Created staging buffer at: 0x2bde57fead8
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439e000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15003377120724394386), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.0e1,9.6e1] to [6.4e1,-6.4e1,1.0e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fe918, alignment: 0
Returning buffer pointer: 0x2bde57fe918 (aligned: true)
Submitting readback 734 at frame 779 (will be ready at frame 782)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 10 remaining minichunks from batch
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 41.1ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 16)
DeferredReadbackManager: advanced to frame 780
Processing readbacks: 3 pending, completed_frame: 780, frames_in_flight: 3
Checking readback 732: submitted frame 777, current frame 780, 3 frames elapsed (need 3)
Readback 732 ready (submitted frame 777, current frame 780)
Checking readback 733: submitted frame 779, current frame 780, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (14 minichunks, 28672 bytes)
Minichunk 219/512 completed
Minichunk 220/512 completed
Minichunk 221/512 completed
Minichunk 222/512 completed
Minichunk 223/512 completed
Minichunk 224/512 completed
Minichunk 225/512 completed
Minichunk 226/512 completed
Minichunk 227/512 completed
Minichunk 228/512 completed
Minichunk 229/512 completed
Minichunk 230/512 completed
Minichunk 231/512 completed
Minichunk 232/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 780
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 780, frames_in_flight: 3
Checking readback 733: submitted frame 779, current frame 780, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 13 minichunks in workspace 0
Overall bounds: [0, -96, 104] to [64, -80, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec58, alignment: 0
Returning buffer pointer: 0x2bde57fec58 (aligned: true)
Created staging buffer at: 0x2bde57fec58
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17347602981352120727), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff028, alignment: 0
Returning buffer pointer: 0x2bde57ff028 (aligned: true)
Created staging buffer at: 0x2bde57ff028
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18006894342622421401), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff5a8, alignment: 0
Returning buffer pointer: 0x2bde57ff5a8 (aligned: true)
Created staging buffer at: 0x2bde57ff5a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16324340285939130779), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 832, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fefa8, alignment: 0
Returning buffer pointer: 0x2bde57fefa8 (aligned: true)
Created staging buffer at: 0x2bde57fefa8
Staging buffer cast successful
About to map memory for staging buffer - size: 832
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d1000
About to memcpy 832 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18163082168371257757), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-9.6e1,1.0e2] to [6.4e1,-8.0e1,1.1e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 13
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=13 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=13, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff2e8, alignment: 0
Returning buffer pointer: 0x2bde57ff2e8 (aligned: true)
Submitting readback 735 at frame 780 (will be ready at frame 783)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 9 remaining minichunks from batch
Successfully queued 13 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 41.0ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 16)
DeferredReadbackManager: advanced to frame 781
Processing readbacks: 3 pending, completed_frame: 781, frames_in_flight: 3
Checking readback 733: submitted frame 779, current frame 781, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 781
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 781, frames_in_flight: 3
Checking readback 733: submitted frame 779, current frame 781, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.1ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 4)
DeferredReadbackManager: advanced to frame 782
Processing readbacks: 3 pending, completed_frame: 782, frames_in_flight: 3
Checking readback 733: submitted frame 779, current frame 782, 3 frames elapsed (need 3)
Readback 733 ready (submitted frame 779, current frame 782)
Checking readback 734: submitted frame 779, current frame 782, 3 frames elapsed (need 3)
Readback 734 ready (submitted frame 779, current frame 782)
Checking readback 735: submitted frame 780, current frame 782, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 233/512 completed
Minichunk 234/512 completed
Minichunk 235/512 completed
Minichunk 236/512 completed
Minichunk 237/512 completed
Minichunk 238/512 completed
Minichunk 239/512 completed
Minichunk 240/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (12 minichunks, 24576 bytes)
Minichunk 241/512 completed
Minichunk 242/512 completed
Minichunk 243/512 completed
Minichunk 244/512 completed
Minichunk 245/512 completed
Minichunk 246/512 completed
Minichunk 247/512 completed
Minichunk 248/512 completed
Minichunk 249/512 completed
Minichunk 250/512 completed
Minichunk 251/512 completed
Minichunk 252/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 782
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 782, frames_in_flight: 3
Checking readback 735: submitted frame 780, current frame 782, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [0, -128, 112] to [64, -112, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff068, alignment: 0
Returning buffer pointer: 0x2bde57ff068 (aligned: true)
Created staging buffer at: 0x2bde57ff068
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16683765139500966306), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff268, alignment: 0
Returning buffer pointer: 0x2bde57ff268 (aligned: true)
Created staging buffer at: 0x2bde57ff268
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(800974429625524644), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff228, alignment: 0
Returning buffer pointer: 0x2bde57ff228 (aligned: true)
Created staging buffer at: 0x2bde57ff228
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ef000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14903575549782794662), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff0a8, alignment: 0
Returning buffer pointer: 0x2bde57ff0a8 (aligned: true)
Created staging buffer at: 0x2bde57ff0a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d2000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16847452734062862760), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.3e2,1.1e2] to [6.4e1,-1.1e2,1.2e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff368, alignment: 0
Returning buffer pointer: 0x2bde57ff368 (aligned: true)
Submitting readback 736 at frame 782 (will be ready at frame 785)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 13 minichunks in workspace 2
Overall bounds: [0, -104, 96] to [64, -80, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fefe8, alignment: 0
Returning buffer pointer: 0x2bde57fefe8 (aligned: true)
Created staging buffer at: 0x2bde57fefe8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1857391798662472109), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff3a8, alignment: 0
Returning buffer pointer: 0x2bde57ff3a8 (aligned: true)
Created staging buffer at: 0x2bde57ff3a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16188252632257667503), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff3e8, alignment: 0
Returning buffer pointer: 0x2bde57ff3e8 (aligned: true)
Created staging buffer at: 0x2bde57ff3e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16028957586648736177), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 832, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff4a8, alignment: 0
Returning buffer pointer: 0x2bde57ff4a8 (aligned: true)
Created staging buffer at: 0x2bde57ff4a8
Staging buffer cast successful
About to map memory for staging buffer - size: 832
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43db000
About to memcpy 832 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1406422706483634611), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.0e2,9.6e1] to [6.4e1,-8.0e1,1.0e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 13
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=13 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=13, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff468, alignment: 0
Returning buffer pointer: 0x2bde57ff468 (aligned: true)
Submitting readback 737 at frame 782 (will be ready at frame 785)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 9 remaining minichunks from batch
Successfully queued 13 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 41.1ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 16)
DeferredReadbackManager: advanced to frame 783
Processing readbacks: 3 pending, completed_frame: 783, frames_in_flight: 3
Checking readback 735: submitted frame 780, current frame 783, 3 frames elapsed (need 3)
Readback 735 ready (submitted frame 780, current frame 783)
Checking readback 736: submitted frame 782, current frame 783, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (13 minichunks, 26624 bytes)
Minichunk 253/512 completed
Minichunk 254/512 completed
Minichunk 255/512 completed
Minichunk 256/512 completed
Minichunk 257/512 completed
Minichunk 258/512 completed
Minichunk 259/512 completed
Minichunk 260/512 completed
Minichunk 261/512 completed
Minichunk 262/512 completed
Minichunk 263/512 completed
Minichunk 264/512 completed
Minichunk 265/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 783
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 783, frames_in_flight: 3
Checking readback 736: submitted frame 782, current frame 783, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 10 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 0
Overall bounds: [0, -128, 104] to [64, -112, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff2a8, alignment: 0
Returning buffer pointer: 0x2bde57ff2a8 (aligned: true)
Created staging buffer at: 0x2bde57ff2a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10609421892387348920), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff2e8, alignment: 0
Returning buffer pointer: 0x2bde57ff2e8 (aligned: true)
Created staging buffer at: 0x2bde57ff2e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43aa000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14768938151938367930), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff168, alignment: 0
Returning buffer pointer: 0x2bde57ff168 (aligned: true)
Created staging buffer at: 0x2bde57ff168
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3039816498777432508), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff1a8, alignment: 0
Returning buffer pointer: 0x2bde57ff1a8 (aligned: true)
Created staging buffer at: 0x2bde57ff1a8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e2000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9315356080122896830), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.3e2,1.0e2] to [6.4e1,-1.1e2,1.1e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff328, alignment: 0
Returning buffer pointer: 0x2bde57ff328 (aligned: true)
Submitting readback 738 at frame 783 (will be ready at frame 786)
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 41.1ms (target: 10.0ms), Workgroups: 15 -> 15 (PID: 16)
DeferredReadbackManager: advanced to frame 784
Processing readbacks: 3 pending, completed_frame: 784, frames_in_flight: 3
Checking readback 736: submitted frame 782, current frame 784, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 784
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 784, frames_in_flight: 3
Checking readback 736: submitted frame 782, current frame 784, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 11 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.9ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 4)
DeferredReadbackManager: advanced to frame 785
Processing readbacks: 3 pending, completed_frame: 785, frames_in_flight: 3
Checking readback 736: submitted frame 782, current frame 785, 3 frames elapsed (need 3)
Readback 736 ready (submitted frame 782, current frame 785)
Checking readback 737: submitted frame 782, current frame 785, 3 frames elapsed (need 3)
Readback 737 ready (submitted frame 782, current frame 785)
Checking readback 738: submitted frame 783, current frame 785, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 266/512 completed
Minichunk 267/512 completed
Minichunk 268/512 completed
Minichunk 269/512 completed
Minichunk 270/512 completed
Minichunk 271/512 completed
Minichunk 272/512 completed
Minichunk 273/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (13 minichunks, 26624 bytes)
Minichunk 274/512 completed
Minichunk 275/512 completed
Minichunk 276/512 completed
Minichunk 277/512 completed
Minichunk 278/512 completed
Minichunk 279/512 completed
Minichunk 280/512 completed
Minichunk 281/512 completed
Minichunk 282/512 completed
Minichunk 283/512 completed
Minichunk 284/512 completed
Minichunk 285/512 completed
Minichunk 286/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 785
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 785, frames_in_flight: 3
Checking readback 738: submitted frame 783, current frame 785, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 11 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 9 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 1
Overall bounds: [0, -88, 104] to [64, -72, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff0e8, alignment: 0
Returning buffer pointer: 0x2bde57ff0e8 (aligned: true)
Created staging buffer at: 0x2bde57ff0e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2400048065969922499), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff668, alignment: 0
Returning buffer pointer: 0x2bde57ff668 (aligned: true)
Created staging buffer at: 0x2bde57ff668
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4059327660516450757), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff5e8, alignment: 0
Returning buffer pointer: 0x2bde57ff5e8 (aligned: true)
Created staging buffer at: 0x2bde57ff5e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12944298605644095943), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff428, alignment: 0
Returning buffer pointer: 0x2bde57ff428 (aligned: true)
Created staging buffer at: 0x2bde57ff428
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43de000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3966234210015912393), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.8e1,1.0e2] to [6.4e1,-7.2e1,1.1e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff128, alignment: 0
Returning buffer pointer: 0x2bde57ff128 (aligned: true)
Submitting readback 739 at frame 785 (will be ready at frame 788)
Successfully queued 9 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 14 minichunks in workspace 2
Overall bounds: [0, -120, 96] to [64, -104, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff468, alignment: 0
Returning buffer pointer: 0x2bde57ff468 (aligned: true)
Created staging buffer at: 0x2bde57ff468
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43df000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5661968112581353934), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff368, alignment: 0
Returning buffer pointer: 0x2bde57ff368 (aligned: true)
Created staging buffer at: 0x2bde57ff368
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e0000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12396461439546565072), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff628, alignment: 0
Returning buffer pointer: 0x2bde57ff628 (aligned: true)
Created staging buffer at: 0x2bde57ff628
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(389409635162923474), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 896, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff6a8, alignment: 0
Returning buffer pointer: 0x2bde57ff6a8 (aligned: true)
Created staging buffer at: 0x2bde57ff6a8
Staging buffer cast successful
About to map memory for staging buffer - size: 896
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b6000
About to memcpy 896 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6286163062693044692), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.2e2,9.6e1] to [6.4e1,-1.0e2,1.0e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 14
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=14 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=14, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fef68, alignment: 0
Returning buffer pointer: 0x2bde57fef68 (aligned: true)
Submitting readback 740 at frame 785 (will be ready at frame 788)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 8 remaining minichunks from batch
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 41.4ms (target: 10.0ms), Workgroups: 15 -> 15 (PID: 16)
DeferredReadbackManager: advanced to frame 786
Processing readbacks: 3 pending, completed_frame: 786, frames_in_flight: 3
Checking readback 738: submitted frame 783, current frame 786, 3 frames elapsed (need 3)
Readback 738 ready (submitted frame 783, current frame 786)
Checking readback 739: submitted frame 785, current frame 786, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 287/512 completed
Minichunk 288/512 completed
Minichunk 289/512 completed
Minichunk 290/512 completed
Minichunk 291/512 completed
Minichunk 292/512 completed
Minichunk 293/512 completed
Minichunk 294/512 completed
Minichunk 295/512 completed
Minichunk 296/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 786
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 786, frames_in_flight: 3
Checking readback 739: submitted frame 785, current frame 786, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 9 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 0
Overall bounds: [0, -88, 96] to [64, -72, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff1e8, alignment: 0
Returning buffer pointer: 0x2bde57ff1e8 (aligned: true)
Created staging buffer at: 0x2bde57ff1e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ba000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6824946850047467993), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff328, alignment: 0
Returning buffer pointer: 0x2bde57ff328 (aligned: true)
Created staging buffer at: 0x2bde57ff328
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1423690536597856731), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff4e8, alignment: 0
Returning buffer pointer: 0x2bde57ff4e8 (aligned: true)
Created staging buffer at: 0x2bde57ff4e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10892103033353675229), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff528, alignment: 0
Returning buffer pointer: 0x2bde57ff528 (aligned: true)
Created staging buffer at: 0x2bde57ff528
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4395000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5013284839495836127), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.8e1,9.6e1] to [6.4e1,-7.2e1,1.0e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff568, alignment: 0
Returning buffer pointer: 0x2bde57ff568 (aligned: true)
Submitting readback 741 at frame 786 (will be ready at frame 789)
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 41.2ms (target: 10.0ms), Workgroups: 15 -> 15 (PID: 15)
DeferredReadbackManager: advanced to frame 787
Processing readbacks: 3 pending, completed_frame: 787, frames_in_flight: 3
Checking readback 739: submitted frame 785, current frame 787, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 787
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 787, frames_in_flight: 3
Checking readback 739: submitted frame 785, current frame 787, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.3ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 4)
DeferredReadbackManager: advanced to frame 788
Processing readbacks: 3 pending, completed_frame: 788, frames_in_flight: 3
Checking readback 739: submitted frame 785, current frame 788, 3 frames elapsed (need 3)
Readback 739 ready (submitted frame 785, current frame 788)
Checking readback 740: submitted frame 785, current frame 788, 3 frames elapsed (need 3)
Readback 740 ready (submitted frame 785, current frame 788)
Checking readback 741: submitted frame 786, current frame 788, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 297/512 completed
Minichunk 298/512 completed
Minichunk 299/512 completed
Minichunk 300/512 completed
Minichunk 301/512 completed
Minichunk 302/512 completed
Minichunk 303/512 completed
Minichunk 304/512 completed
Minichunk 305/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (14 minichunks, 28672 bytes)
Minichunk 306/512 completed
Minichunk 307/512 completed
Minichunk 308/512 completed
Minichunk 309/512 completed
Minichunk 310/512 completed
Minichunk 311/512 completed
Minichunk 312/512 completed
Minichunk 313/512 completed
Minichunk 314/512 completed
Minichunk 315/512 completed
Minichunk 316/512 completed
Minichunk 317/512 completed
Minichunk 318/512 completed
Minichunk 319/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 788
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 788, frames_in_flight: 3
Checking readback 741: submitted frame 786, current frame 788, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 14 minichunks in workspace 1
Overall bounds: [0, -80, 88] to [64, -64, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff128, alignment: 0
Returning buffer pointer: 0x2bde57ff128 (aligned: true)
Created staging buffer at: 0x2bde57ff128
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7091875287922647524), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffc78, alignment: 0
Returning buffer pointer: 0x2bde57ffc78 (aligned: true)
Created staging buffer at: 0x2bde57ffc78
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9621347967109702118), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffab8, alignment: 0
Returning buffer pointer: 0x2bde57ffab8 (aligned: true)
Created staging buffer at: 0x2bde57ffab8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8583415587558924776), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 896, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff838, alignment: 0
Returning buffer pointer: 0x2bde57ff838 (aligned: true)
Created staging buffer at: 0x2bde57ff838
Staging buffer cast successful
About to map memory for staging buffer - size: 896
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43dc000
About to memcpy 896 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8351952996749287914), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.0e1,8.8e1] to [6.4e1,-6.4e1,9.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 14
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=14 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=14, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff7b8, alignment: 0
Returning buffer pointer: 0x2bde57ff7b8 (aligned: true)
Submitting readback 742 at frame 788 (will be ready at frame 791)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [0, -128, 96] to [64, -120, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffbb8, alignment: 0
Returning buffer pointer: 0x2bde57ffbb8 (aligned: true)
Created staging buffer at: 0x2bde57ffbb8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8349801252493730287), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffb38, alignment: 0
Returning buffer pointer: 0x2bde57ffb38 (aligned: true)
Created staging buffer at: 0x2bde57ffb38
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ab000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7446158825113002481), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffc38, alignment: 0
Returning buffer pointer: 0x2bde57ffc38 (aligned: true)
Created staging buffer at: 0x2bde57ffc38
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4396000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4705223671625556467), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffcb8, alignment: 0
Returning buffer pointer: 0x2bde57ffcb8 (aligned: true)
Created staging buffer at: 0x2bde57ffcb8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ca000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7647866432251765237), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.3e2,9.6e1] to [6.4e1,-1.2e2,1.0e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffe78, alignment: 0
Returning buffer pointer: 0x2bde57ffe78 (aligned: true)
Submitting readback 743 at frame 788 (will be ready at frame 791)
Successfully queued 22 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 41.2ms (target: 10.0ms), Workgroups: 15 -> 15 (PID: 16)
DeferredReadbackManager: advanced to frame 789
Processing readbacks: 3 pending, completed_frame: 789, frames_in_flight: 3
Checking readback 741: submitted frame 786, current frame 789, 3 frames elapsed (need 3)
Readback 741 ready (submitted frame 786, current frame 789)
Checking readback 742: submitted frame 788, current frame 789, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 320/512 completed
Minichunk 321/512 completed
Minichunk 322/512 completed
Minichunk 323/512 completed
Minichunk 324/512 completed
Minichunk 325/512 completed
Minichunk 326/512 completed
Minichunk 327/512 completed
Minichunk 328/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 789
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 789, frames_in_flight: 3
Checking readback 742: submitted frame 788, current frame 789, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 8 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 15 minichunks in workspace 0
Overall bounds: [0, -104, 88] to [64, -80, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffaf8, alignment: 0
Returning buffer pointer: 0x2bde57ffaf8 (aligned: true)
Created staging buffer at: 0x2bde57ffaf8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(696377888475193850), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff7f8, alignment: 0
Returning buffer pointer: 0x2bde57ff7f8 (aligned: true)
Created staging buffer at: 0x2bde57ff7f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6120917460154589692), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffb78, alignment: 0
Returning buffer pointer: 0x2bde57ffb78 (aligned: true)
Created staging buffer at: 0x2bde57ffb78
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6018651883655143934), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 960, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff938, alignment: 0
Returning buffer pointer: 0x2bde57ff938 (aligned: true)
Created staging buffer at: 0x2bde57ff938
Staging buffer cast successful
About to map memory for staging buffer - size: 960
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4390000
About to memcpy 960 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2192340423878386176), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.0e2,8.8e1] to [6.4e1,-8.0e1,9.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 15
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=15 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=15, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff878, alignment: 0
Returning buffer pointer: 0x2bde57ff878 (aligned: true)
Submitting readback 744 at frame 789 (will be ready at frame 792)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 15 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 40.5ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 13)
DeferredReadbackManager: advanced to frame 790
Processing readbacks: 3 pending, completed_frame: 790, frames_in_flight: 3
Checking readback 742: submitted frame 788, current frame 790, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 790
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 790, frames_in_flight: 3
Checking readback 742: submitted frame 788, current frame 790, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 8 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.8ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 4)
DeferredReadbackManager: advanced to frame 791
Processing readbacks: 3 pending, completed_frame: 791, frames_in_flight: 3
Checking readback 742: submitted frame 788, current frame 791, 3 frames elapsed (need 3)
Readback 742 ready (submitted frame 788, current frame 791)
Checking readback 743: submitted frame 788, current frame 791, 3 frames elapsed (need 3)
Readback 743 ready (submitted frame 788, current frame 791)
Checking readback 744: submitted frame 789, current frame 791, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (14 minichunks, 28672 bytes)
Minichunk 329/512 completed
Minichunk 330/512 completed
Minichunk 331/512 completed
Minichunk 332/512 completed
Minichunk 333/512 completed
Minichunk 334/512 completed
Minichunk 335/512 completed
Minichunk 336/512 completed
Minichunk 337/512 completed
Minichunk 338/512 completed
Minichunk 339/512 completed
Minichunk 340/512 completed
Minichunk 341/512 completed
Minichunk 342/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 343/512 completed
Minichunk 344/512 completed
Minichunk 345/512 completed
Minichunk 346/512 completed
Minichunk 347/512 completed
Minichunk 348/512 completed
Minichunk 349/512 completed
Minichunk 350/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 791
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 791, frames_in_flight: 3
Checking readback 744: submitted frame 789, current frame 791, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 8 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [0, -112, 96] to [64, -96, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff778, alignment: 0
Returning buffer pointer: 0x2bde57ff778 (aligned: true)
Created staging buffer at: 0x2bde57ff778
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ac000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12066373755237048837), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff7b8, alignment: 0
Returning buffer pointer: 0x2bde57ff7b8 (aligned: true)
Created staging buffer at: 0x2bde57ff7b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4696600201928909319), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff978, alignment: 0
Returning buffer pointer: 0x2bde57ff978 (aligned: true)
Created staging buffer at: 0x2bde57ff978
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ed000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3009313847199670793), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffd78, alignment: 0
Returning buffer pointer: 0x2bde57ffd78 (aligned: true)
Created staging buffer at: 0x2bde57ffd78
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ee000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10293866453262148107), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.1e2,9.6e1] to [6.4e1,-9.6e1,1.0e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffe38, alignment: 0
Returning buffer pointer: 0x2bde57ffe38 (aligned: true)
Submitting readback 745 at frame 791 (will be ready at frame 794)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 13 minichunks in workspace 2
Overall bounds: [0, -128, 88] to [64, -104, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffbf8, alignment: 0
Returning buffer pointer: 0x2bde57ffbf8 (aligned: true)
Created staging buffer at: 0x2bde57ffbf8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3950591458087543312), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffcf8, alignment: 0
Returning buffer pointer: 0x2bde57ffcf8 (aligned: true)
Created staging buffer at: 0x2bde57ffcf8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ad000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4297894195953148434), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffe78, alignment: 0
Returning buffer pointer: 0x2bde57ffe78 (aligned: true)
Created staging buffer at: 0x2bde57ffe78
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ae000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13551108077897392660), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 832, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffd38, alignment: 0
Returning buffer pointer: 0x2bde57ffd38 (aligned: true)
Created staging buffer at: 0x2bde57ffd38
Staging buffer cast successful
About to map memory for staging buffer - size: 832
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cd000
About to memcpy 832 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2501352669306692118), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.3e2,8.8e1] to [6.4e1,-1.0e2,9.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 13
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=13 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=13, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff9b8, alignment: 0
Returning buffer pointer: 0x2bde57ff9b8 (aligned: true)
Submitting readback 746 at frame 791 (will be ready at frame 794)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 9 remaining minichunks from batch
Successfully queued 13 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 40.9ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 16)
DeferredReadbackManager: advanced to frame 792
Processing readbacks: 3 pending, completed_frame: 792, frames_in_flight: 3
Checking readback 744: submitted frame 789, current frame 792, 3 frames elapsed (need 3)
Readback 744 ready (submitted frame 789, current frame 792)
Checking readback 745: submitted frame 791, current frame 792, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (15 minichunks, 30720 bytes)
Minichunk 351/512 completed
Minichunk 352/512 completed
Minichunk 353/512 completed
Minichunk 354/512 completed
Minichunk 355/512 completed
Minichunk 356/512 completed
Minichunk 357/512 completed
Minichunk 358/512 completed
Minichunk 359/512 completed
Minichunk 360/512 completed
Minichunk 361/512 completed
Minichunk 362/512 completed
Minichunk 363/512 completed
Minichunk 364/512 completed
Minichunk 365/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 792
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0°, Pitch: 0.0°, Roll: -45.0°]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 792, frames_in_flight: 3
Checking readback 745: submitted frame 791, current frame 792, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 14 minichunks in workspace 0
Overall bounds: [0, -80, 80] to [64, -64, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffa38, alignment: 0
Returning buffer pointer: 0x2bde57ffa38 (aligned: true)
Created staging buffer at: 0x2bde57ffa38
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bd000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14199631921796882971), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff878, alignment: 0
Returning buffer pointer: 0x2bde57ff878 (aligned: true)
Created staging buffer at: 0x2bde57ff878
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12241140028960416285), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff8b8, alignment: 0
Returning buffer pointer: 0x2bde57ff8b8 (aligned: true)
Created staging buffer at: 0x2bde57ff8b8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1169394387814195743), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 896, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff8f8, alignment: 0
Returning buffer pointer: 0x2bde57ff8f8 (aligned: true)
Created staging buffer at: 0x2bde57ff8f8
Staging buffer cast successful
About to map memory for staging buffer - size: 896
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43be000
About to memcpy 896 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14649154056673567265), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.0e1,8.0e1] to [6.4e1,-6.4e1,8.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 14
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=14 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=14, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff9f8, alignment: 0
Returning buffer pointer: 0x2bde57ff9f8 (aligned: true)
Submitting readback 747 at frame 792 (will be ready at frame 795)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 8 remaining minichunks from batch
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 41.2ms (target: 10.0ms), Workgroups: 15 -> 15 (PID: 16)
DeferredReadbackManager: advanced to frame 793
Processing readbacks: 3 pending, completed_frame: 793, frames_in_flight: 3
Checking readback 745: submitted frame 791, current frame 793, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 793
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 793, frames_in_flight: 3
Checking readback 745: submitted frame 791, current frame 793, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.1ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 4)
DeferredReadbackManager: advanced to frame 794
Processing readbacks: 3 pending, completed_frame: 794, frames_in_flight: 3
Checking readback 745: submitted frame 791, current frame 794, 3 frames elapsed (need 3)
Readback 745 ready (submitted frame 791, current frame 794)
Checking readback 746: submitted frame 791, current frame 794, 3 frames elapsed (need 3)
Readback 746 ready (submitted frame 791, current frame 794)
Checking readback 747: submitted frame 792, current frame 794, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 366/512 completed
Minichunk 367/512 completed
Minichunk 368/512 completed
Minichunk 369/512 completed
Minichunk 370/512 completed
Minichunk 371/512 completed
Minichunk 372/512 completed
Minichunk 373/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (13 minichunks, 26624 bytes)
Minichunk 374/512 completed
Minichunk 375/512 completed
Minichunk 376/512 completed
Minichunk 377/512 completed
Minichunk 378/512 completed
Minichunk 379/512 completed
Minichunk 380/512 completed
Minichunk 381/512 completed
Minichunk 382/512 completed
Minichunk 383/512 completed
Minichunk 384/512 completed
Minichunk 385/512 completed
Minichunk 386/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 794
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 794, frames_in_flight: 3
Checking readback 747: submitted frame 792, current frame 794, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 14 minichunks in workspace 1
Overall bounds: [0, -128, 80] to [64, -104, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffeb8, alignment: 0
Returning buffer pointer: 0x2bde57ffeb8 (aligned: true)
Created staging buffer at: 0x2bde57ffeb8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4397000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15799655536187679270), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff9b8, alignment: 0
Returning buffer pointer: 0x2bde57ff9b8 (aligned: true)
Created staging buffer at: 0x2bde57ff9b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2173454112648077864), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffa78, alignment: 0
Returning buffer pointer: 0x2bde57ffa78 (aligned: true)
Created staging buffer at: 0x2bde57ffa78
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4393000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15893443878036972074), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 896, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda098, alignment: 0
Returning buffer pointer: 0x2bd92bda098 (aligned: true)
Created staging buffer at: 0x2bd92bda098
Staging buffer cast successful
About to map memory for staging buffer - size: 896
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d4000
About to memcpy 896 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15356831626147406380), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.3e2,8.0e1] to [6.4e1,-1.0e2,8.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 14
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=14 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=14, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bd92bda258, alignment: 0
Returning buffer pointer: 0x2bd92bda258 (aligned: true)
Submitting readback 748 at frame 794 (will be ready at frame 797)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [0, -112, 80] to [64, -96, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda198, alignment: 0
Returning buffer pointer: 0x2bd92bda198 (aligned: true)
Created staging buffer at: 0x2bd92bda198
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4394000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17115878706775073329), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda1d8, alignment: 0
Returning buffer pointer: 0x2bd92bda1d8 (aligned: true)
Created staging buffer at: 0x2bd92bda1d8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17157609571095683635), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda218, alignment: 0
Returning buffer pointer: 0x2bd92bda218 (aligned: true)
Created staging buffer at: 0x2bd92bda218
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4398000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14657788521486492213), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda058, alignment: 0
Returning buffer pointer: 0x2bd92bda058 (aligned: true)
Created staging buffer at: 0x2bd92bda058
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43dd000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16699487056266535479), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.1e2,8.0e1] to [6.4e1,-9.6e1,8.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bd92bda298, alignment: 0
Returning buffer pointer: 0x2bd92bda298 (aligned: true)
Submitting readback 749 at frame 794 (will be ready at frame 797)
Successfully queued 22 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 41.3ms (target: 10.0ms), Workgroups: 15 -> 15 (PID: 16)
DeferredReadbackManager: advanced to frame 795
Processing readbacks: 3 pending, completed_frame: 795, frames_in_flight: 3
Checking readback 747: submitted frame 792, current frame 795, 3 frames elapsed (need 3)
Readback 747 ready (submitted frame 792, current frame 795)
Checking readback 748: submitted frame 794, current frame 795, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (14 minichunks, 28672 bytes)
Minichunk 387/512 completed
Minichunk 388/512 completed
Minichunk 389/512 completed
Minichunk 390/512 completed
Minichunk 391/512 completed
Minichunk 392/512 completed
Minichunk 393/512 completed
Minichunk 394/512 completed
Minichunk 395/512 completed
Minichunk 396/512 completed
Minichunk 397/512 completed
Minichunk 398/512 completed
Minichunk 399/512 completed
Minichunk 400/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 795
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 795, frames_in_flight: 3
Checking readback 748: submitted frame 794, current frame 795, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 7 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 0
Overall bounds: [0, -88, 88] to [64, -72, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda018, alignment: 0
Returning buffer pointer: 0x2bd92bda018 (aligned: true)
Created staging buffer at: 0x2bd92bda018
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43af000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18431012261339341372), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda2d8, alignment: 0
Returning buffer pointer: 0x2bd92bda2d8 (aligned: true)
Created staging buffer at: 0x2bd92bda2d8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18082601215752938046), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda0d8, alignment: 0
Returning buffer pointer: 0x2bd92bda0d8 (aligned: true)
Created staging buffer at: 0x2bd92bda0d8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17671139775383347776), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda318, alignment: 0
Returning buffer pointer: 0x2bd92bda318 (aligned: true)
Created staging buffer at: 0x2bd92bda318
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a5000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17620124634877796930), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.8e1,8.8e1] to [6.4e1,-7.2e1,9.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bd92bda118, alignment: 0
Returning buffer pointer: 0x2bd92bda118 (aligned: true)
Submitting readback 750 at frame 795 (will be ready at frame 798)
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 41.1ms (target: 10.0ms), Workgroups: 15 -> 15 (PID: 15)
DeferredReadbackManager: advanced to frame 796
Processing readbacks: 3 pending, completed_frame: 796, frames_in_flight: 3
Checking readback 748: submitted frame 794, current frame 796, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 796
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 796, frames_in_flight: 3
Checking readback 748: submitted frame 794, current frame 796, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 5 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.1ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 4)
DeferredReadbackManager: advanced to frame 797
Processing readbacks: 3 pending, completed_frame: 797, frames_in_flight: 3
Checking readback 748: submitted frame 794, current frame 797, 3 frames elapsed (need 3)
Readback 748 ready (submitted frame 794, current frame 797)
Checking readback 749: submitted frame 794, current frame 797, 3 frames elapsed (need 3)
Readback 749 ready (submitted frame 794, current frame 797)
Checking readback 750: submitted frame 795, current frame 797, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (14 minichunks, 28672 bytes)
Minichunk 401/512 completed
Minichunk 402/512 completed
Minichunk 403/512 completed
Minichunk 404/512 completed
Minichunk 405/512 completed
Minichunk 406/512 completed
Minichunk 407/512 completed
Minichunk 408/512 completed
Minichunk 409/512 completed
Minichunk 410/512 completed
Minichunk 411/512 completed
Minichunk 412/512 completed
Minichunk 413/512 completed
Minichunk 414/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 415/512 completed
Minichunk 416/512 completed
Minichunk 417/512 completed
Minichunk 418/512 completed
Minichunk 419/512 completed
Minichunk 420/512 completed
Minichunk 421/512 completed
Minichunk 422/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 797
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 797, frames_in_flight: 3
Checking readback 750: submitted frame 795, current frame 797, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 5 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 9 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 1
Overall bounds: [0, -112, 88] to [64, -96, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda258, alignment: 0
Returning buffer pointer: 0x2bd92bda258 (aligned: true)
Created staging buffer at: 0x2bd92bda258
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bf000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17041602298272293447), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda298, alignment: 0
Returning buffer pointer: 0x2bd92bda298 (aligned: true)
Created staging buffer at: 0x2bd92bda298
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14594329108377772617), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2288, alignment: 0
Returning buffer pointer: 0x2be056e2288 (aligned: true)
Created staging buffer at: 0x2be056e2288
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16709177052242125387), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e23c8, alignment: 0
Returning buffer pointer: 0x2be056e23c8 (aligned: true)
Created staging buffer at: 0x2be056e23c8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ea000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1791045068019212877), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.1e2,8.8e1] to [6.4e1,-9.6e1,9.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2008, alignment: 0
Returning buffer pointer: 0x2be056e2008 (aligned: true)
Submitting readback 751 at frame 797 (will be ready at frame 800)
Successfully queued 9 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [0, -128, 80] to [64, -64, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2448, alignment: 0
Returning buffer pointer: 0x2be056e2448 (aligned: true)
Created staging buffer at: 0x2be056e2448
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15624109708720218706), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e20c8, alignment: 0
Returning buffer pointer: 0x2be056e20c8 (aligned: true)
Created staging buffer at: 0x2be056e20c8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b0000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15086331974505210452), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e21c8, alignment: 0
Returning buffer pointer: 0x2be056e21c8 (aligned: true)
Created staging buffer at: 0x2be056e21c8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1542158516444209750), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2108, alignment: 0
Returning buffer pointer: 0x2be056e2108 (aligned: true)
Created staging buffer at: 0x2be056e2108
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d7000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12407319116870853208), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.3e2,8.0e1] to [6.4e1,-6.4e1,9.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=8 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2488, alignment: 0
Returning buffer pointer: 0x2be056e2488 (aligned: true)
Submitting readback 752 at frame 797 (will be ready at frame 800)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 41.4ms (target: 10.0ms), Workgroups: 15 -> 15 (PID: 16)
DeferredReadbackManager: advanced to frame 798
Processing readbacks: 3 pending, completed_frame: 798, frames_in_flight: 3
Checking readback 750: submitted frame 795, current frame 798, 3 frames elapsed (need 3)
Readback 750 ready (submitted frame 795, current frame 798)
Checking readback 751: submitted frame 797, current frame 798, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 423/512 completed
Minichunk 424/512 completed
Minichunk 425/512 completed
Minichunk 426/512 completed
Minichunk 427/512 completed
Minichunk 428/512 completed
Minichunk 429/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 798
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 798, frames_in_flight: 3
Checking readback 751: submitted frame 797, current frame 798, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 15 minichunks in workspace 0
Overall bounds: [0, -88, 72] to [64, -64, 80]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2408, alignment: 0
Returning buffer pointer: 0x2be056e2408 (aligned: true)
Created staging buffer at: 0x2be056e2408
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14170296951567819357), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2188, alignment: 0
Returning buffer pointer: 0x2be056e2188 (aligned: true)
Created staging buffer at: 0x2be056e2188
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2813975710920614495), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2208, alignment: 0
Returning buffer pointer: 0x2be056e2208 (aligned: true)
Created staging buffer at: 0x2be056e2208
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13453525321420644961), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 960, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1f08, alignment: 0
Returning buffer pointer: 0x2be056e1f08 (aligned: true)
Created staging buffer at: 0x2be056e1f08
Staging buffer cast successful
About to map memory for staging buffer - size: 960
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35be000
About to memcpy 960 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3493179227769938531), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.8e1,7.2e1] to [6.4e1,-6.4e1,8.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 15
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=15 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=15, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2508, alignment: 0
Returning buffer pointer: 0x2be056e2508 (aligned: true)
Submitting readback 753 at frame 798 (will be ready at frame 801)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 15 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 40.1ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 8)
DeferredReadbackManager: advanced to frame 799
Processing readbacks: 3 pending, completed_frame: 799, frames_in_flight: 3
Checking readback 751: submitted frame 797, current frame 799, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 799
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 799, frames_in_flight: 3
Checking readback 751: submitted frame 797, current frame 799, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.2ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 4)
DeferredReadbackManager: advanced to frame 800
Processing readbacks: 3 pending, completed_frame: 800, frames_in_flight: 3
Checking readback 751: submitted frame 797, current frame 800, 3 frames elapsed (need 3)
Readback 751 ready (submitted frame 797, current frame 800)
Checking readback 752: submitted frame 797, current frame 800, 3 frames elapsed (need 3)
Readback 752 ready (submitted frame 797, current frame 800)
Checking readback 753: submitted frame 798, current frame 800, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 430/512 completed
Minichunk 431/512 completed
Minichunk 432/512 completed
Minichunk 433/512 completed
Minichunk 434/512 completed
Minichunk 435/512 completed
Minichunk 436/512 completed
Minichunk 437/512 completed
Minichunk 438/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 439/512 completed
Minichunk 440/512 completed
Minichunk 441/512 completed
Minichunk 442/512 completed
Minichunk 443/512 completed
Minichunk 444/512 completed
Minichunk 445/512 completed
Minichunk 446/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 800
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 800, frames_in_flight: 3
Checking readback 753: submitted frame 798, current frame 800, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 13 minichunks in workspace 1
Overall bounds: [0, -88, 64] to [64, -64, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e22c8, alignment: 0
Returning buffer pointer: 0x2be056e22c8 (aligned: true)
Created staging buffer at: 0x2be056e22c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4399000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3558923426041176680), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2248, alignment: 0
Returning buffer pointer: 0x2be056e2248 (aligned: true)
Created staging buffer at: 0x2be056e2248
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9887815709612843626), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2308, alignment: 0
Returning buffer pointer: 0x2be056e2308 (aligned: true)
Created staging buffer at: 0x2be056e2308
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2507997018073342572), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 832, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2148, alignment: 0
Returning buffer pointer: 0x2be056e2148 (aligned: true)
Created staging buffer at: 0x2be056e2148
Staging buffer cast successful
About to map memory for staging buffer - size: 832
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e6000
About to memcpy 832 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5738764601734996590), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-8.8e1,6.4e1] to [6.4e1,-6.4e1,7.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 13
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=13 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=13, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2488, alignment: 0
Returning buffer pointer: 0x2be056e2488 (aligned: true)
Submitting readback 754 at frame 800 (will be ready at frame 803)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [0, -128, 64] to [64, -64, 80]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2348, alignment: 0
Returning buffer pointer: 0x2be056e2348 (aligned: true)
Created staging buffer at: 0x2be056e2348
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cb000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12047081724216091251), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2388, alignment: 0
Returning buffer pointer: 0x2be056e2388 (aligned: true)
Created staging buffer at: 0x2be056e2388
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1483420406265160309), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1ec8, alignment: 0
Returning buffer pointer: 0x2be056e1ec8 (aligned: true)
Created staging buffer at: 0x2be056e1ec8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cf000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6780231911169073783), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1f88, alignment: 0
Returning buffer pointer: 0x2be056e1f88 (aligned: true)
Created staging buffer at: 0x2be056e1f88
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d9000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6459198705114292857), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.3e2,6.4e1] to [6.4e1,-6.4e1,8.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=9 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e24c8, alignment: 0
Returning buffer pointer: 0x2be056e24c8 (aligned: true)
Submitting readback 755 at frame 800 (will be ready at frame 803)
Successfully queued 22 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 39.2ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 16)
DeferredReadbackManager: advanced to frame 801
Processing readbacks: 3 pending, completed_frame: 801, frames_in_flight: 3
Checking readback 753: submitted frame 798, current frame 801, 3 frames elapsed (need 3)
Readback 753 ready (submitted frame 798, current frame 801)
Checking readback 754: submitted frame 800, current frame 801, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (15 minichunks, 30720 bytes)
Minichunk 447/512 completed
Minichunk 448/512 completed
Minichunk 449/512 completed
Minichunk 450/512 completed
Minichunk 451/512 completed
Minichunk 452/512 completed
Minichunk 453/512 completed
Minichunk 454/512 completed
Minichunk 455/512 completed
Minichunk 456/512 completed
Minichunk 457/512 completed
Minichunk 458/512 completed
Minichunk 459/512 completed
Minichunk 460/512 completed
Minichunk 461/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 801
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 801, frames_in_flight: 3
Checking readback 754: submitted frame 800, current frame 801, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 22 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 14 minichunks in workspace 0
Overall bounds: [0, -104, 72] to [64, -88, 80]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1f48, alignment: 0
Returning buffer pointer: 0x2be056e1f48 (aligned: true)
Created staging buffer at: 0x2be056e1f48
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(655836695735837310), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2088, alignment: 0
Returning buffer pointer: 0x2be056e2088 (aligned: true)
Created staging buffer at: 0x2be056e2088
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35ca000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6984025291865727616), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1fc8, alignment: 0
Returning buffer pointer: 0x2be056e1fc8 (aligned: true)
Created staging buffer at: 0x2be056e1fc8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5640352813490905730), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 896, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1dc8, alignment: 0
Returning buffer pointer: 0x2be056e1dc8 (aligned: true)
Created staging buffer at: 0x2be056e1dc8
Staging buffer cast successful
About to map memory for staging buffer - size: 896
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43eb000
About to memcpy 896 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8322609230427202180), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.0e2,7.2e1] to [6.4e1,-8.8e1,8.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 14
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=14 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=14, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e1e08, alignment: 0
Returning buffer pointer: 0x2be056e1e08 (aligned: true)
Submitting readback 756 at frame 801 (will be ready at frame 804)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 8 remaining minichunks from batch
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 38.7ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 12)
DeferredReadbackManager: advanced to frame 802
Processing readbacks: 3 pending, completed_frame: 802, frames_in_flight: 3
Checking readback 754: submitted frame 800, current frame 802, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 802
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 802, frames_in_flight: 3
Checking readback 754: submitted frame 800, current frame 802, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.0ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 4)
DeferredReadbackManager: advanced to frame 803
Processing readbacks: 3 pending, completed_frame: 803, frames_in_flight: 3
Checking readback 754: submitted frame 800, current frame 803, 3 frames elapsed (need 3)
Readback 754 ready (submitted frame 800, current frame 803)
Checking readback 755: submitted frame 800, current frame 803, 3 frames elapsed (need 3)
Readback 755 ready (submitted frame 800, current frame 803)
Checking readback 756: submitted frame 801, current frame 803, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (13 minichunks, 26624 bytes)
Minichunk 462/512 completed
Minichunk 463/512 completed
Minichunk 464/512 completed
Minichunk 465/512 completed
Minichunk 466/512 completed
Minichunk 467/512 completed
Minichunk 468/512 completed
Minichunk 469/512 completed
Minichunk 470/512 completed
Minichunk 471/512 completed
Minichunk 472/512 completed
Minichunk 473/512 completed
Minichunk 474/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 475/512 completed
Minichunk 476/512 completed
Minichunk 477/512 completed
Minichunk 478/512 completed
Minichunk 479/512 completed
Minichunk 480/512 completed
Minichunk 481/512 completed
Minichunk 482/512 completed
Minichunk 483/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 803
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 803, frames_in_flight: 3
Checking readback 756: submitted frame 801, current frame 803, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 7 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [0, -128, 72] to [64, -64, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e48, alignment: 0
Returning buffer pointer: 0x2be056e1e48 (aligned: true)
Created staging buffer at: 0x2be056e1e48
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8320325544776311433), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2008, alignment: 0
Returning buffer pointer: 0x2be056e2008 (aligned: true)
Created staging buffer at: 0x2be056e2008
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8952784424282366603), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2508, alignment: 0
Returning buffer pointer: 0x2be056e2508 (aligned: true)
Created staging buffer at: 0x2be056e2508
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ec000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9044723387573740173), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2488, alignment: 0
Returning buffer pointer: 0x2be056e2488 (aligned: true)
Created staging buffer at: 0x2be056e2488
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4391000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9300797446659515023), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-1.3e2,7.2e1] to [6.4e1,-6.4e1,8.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=7 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e1e88, alignment: 0
Returning buffer pointer: 0x2be056e1e88 (aligned: true)
Submitting readback 757 at frame 803 (will be ready at frame 806)
Successfully queued 7 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(0, -2, 1) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [0, -96, 72] to [64, -80, 80]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e24c8, alignment: 0
Returning buffer pointer: 0x2be056e24c8 (aligned: true)
Created staging buffer at: 0x2be056e24c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4392000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7100955054944821908), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2048, alignment: 0
Returning buffer pointer: 0x2be056e2048 (aligned: true)
Created staging buffer at: 0x2be056e2048
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5215479530285703830), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee18, alignment: 0
Returning buffer pointer: 0x2bde57fee18 (aligned: true)
Created staging buffer at: 0x2bde57fee18
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10617628647177069208), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fed58, alignment: 0
Returning buffer pointer: 0x2bde57fed58 (aligned: true)
Created staging buffer at: 0x2bde57fed58
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c6000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1646038176013230746), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [0.0e0,-9.6e1,7.2e1] to [6.4e1,-8.0e1,8.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57feb18, alignment: 0
Returning buffer pointer: 0x2bde57feb18 (aligned: true)
Submitting readback 758 at frame 803 (will be ready at frame 806)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 38.1ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 16)
DeferredReadbackManager: advanced to frame 804
Processing readbacks: 3 pending, completed_frame: 804, frames_in_flight: 3
Checking readback 756: submitted frame 801, current frame 804, 3 frames elapsed (need 3)
Readback 756 ready (submitted frame 801, current frame 804)
Checking readback 757: submitted frame 803, current frame 804, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (14 minichunks, 28672 bytes)
Minichunk 484/512 completed
Minichunk 485/512 completed
Minichunk 486/512 completed
Minichunk 487/512 completed
Minichunk 488/512 completed
Minichunk 489/512 completed
Minichunk 490/512 completed
Minichunk 491/512 completed
Minichunk 492/512 completed
Minichunk 493/512 completed
Minichunk 494/512 completed
Minichunk 495/512 completed
Minichunk 496/512 completed
Minichunk 497/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 804
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 804, frames_in_flight: 3
Checking readback 757: submitted frame 803, current frame 804, 1 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.6ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 4)
DeferredReadbackManager: advanced to frame 805
Processing readbacks: 2 pending, completed_frame: 805, frames_in_flight: 3
Checking readback 757: submitted frame 803, current frame 805, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 805
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 805, frames_in_flight: 3
Checking readback 757: submitted frame 803, current frame 805, 2 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.3ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 806
Processing readbacks: 2 pending, completed_frame: 806, frames_in_flight: 3
Checking readback 757: submitted frame 803, current frame 806, 3 frames elapsed (need 3)
Readback 757 ready (submitted frame 803, current frame 806)
Checking readback 758: submitted frame 803, current frame 806, 3 frames elapsed (need 3)
Readback 758 ready (submitted frame 803, current frame 806)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 498/512 completed
Minichunk 499/512 completed
Minichunk 500/512 completed
Minichunk 501/512 completed
Minichunk 502/512 completed
Minichunk 503/512 completed
Minichunk 504/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 505/512 completed
Minichunk 506/512 completed
Minichunk 507/512 completed
Minichunk 508/512 completed
Minichunk 509/512 completed
Minichunk 510/512 completed
Minichunk 511/512 completed
Minichunk 512/512 completed
Chunk ChunkId(0, -2, 1) complete! All 512 minichunks processed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 3/3
GPU generation completed successfully
GPU generation completed successfully. Voxel count: 262144
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Non-empty voxels: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 23.9ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 807
Processing 0 completed readbacks
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
GPU pipeline worker: Processing request 5 with priority 7
Frame time: 18.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 808
Processing 0 completed readbacks
GPU generation thread spawned for bounds: [64.0,-128.0,0.0] to [128.0,-64.0,64.0]
GPU generation: starting for 262144 voxels
get_chunks_for_rendering called - active chunks: 12, pending meshes: 0
Checking 12 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0GPU generation: waiting for result...
, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing 0 completed readbacks
Main thread: Execute GPU worldgen for bounds [64.0,-128.0,0.0] to [128.0,-64.0,64.0]
Processing chunk ChunkId(1, -2, 0) as minichunks
Creating ChunkAccumulator: 262144 voxels, 512 minichunks (8 per axis)
queue_generation_blocking returned: true
Async generation completed for chunk ChunkId(0, -2, 1)
Sending result for chunk ChunkId(0, -2, 1) through channel
Result sent successfully for chunk ChunkId(0, -2, 1)
Queuing 512 minichunks for chunk ChunkId(1, -2, 0)
Processing 512 minichunks in 29 batches of up to 18 each (frames_in_flight: 3)
PID controller: Processing 9 minichunks per workspace (workgroup budget: 9)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 2/3
Processing 9 minichunks in workspace 0
Overall bounds: [64, -128, 0] to [128, -112, 8]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea98, alignment: 0
Returning buffer pointer: 0x2bde57fea98 (aligned: true)
Created staging buffer at: 0x2bde57fea98
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43da000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6836186057906594463), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb18, alignment: 0
Returning buffer pointer: 0x2bde57feb18 (aligned: true)
Created staging buffer at: 0x2bde57feb18
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6765749144008008353), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee98, alignment: 0
Returning buffer pointer: 0x2bde57fee98 (aligned: true)
Created staging buffer at: 0x2bde57fee98
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(374510153094931107), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb58, alignment: 0
Returning buffer pointer: 0x2bde57feb58 (aligned: true)
Created staging buffer at: 0x2bde57feb58
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c7000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6231848287792538277), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.3e2,0.0e0] to [1.3e2,-1.1e2,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57feb98, alignment: 0
Returning buffer pointer: 0x2bde57feb98 (aligned: true)
Submitting readback 759 at frame 808 (will be ready at frame 811)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 1
Overall bounds: [64, -120, 0] to [128, -104, 8]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec98, alignment: 0
Returning buffer pointer: 0x2bde57fec98 (aligned: true)
Created staging buffer at: 0x2bde57fec98
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5621431317888508586), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57febd8, alignment: 0
Returning buffer pointer: 0x2bde57febd8 (aligned: true)
Created staging buffer at: 0x2bde57febd8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3727555524393181868), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec18, alignment: 0
Returning buffer pointer: 0x2bde57fec18 (aligned: true)
Created staging buffer at: 0x2bde57fec18
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12174481037014868654), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe918, alignment: 0
Returning buffer pointer: 0x2bde57fe918 (aligned: true)
Created staging buffer at: 0x2bde57fe918
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b7000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5029971027958964912), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.2e2,0.0e0] to [1.3e2,-1.0e2,8.0e0]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fecd8, alignment: 0
Returning buffer pointer: 0x2bde57fecd8 (aligned: true)
Submitting readback 760 at frame 808 (will be ready at frame 811)
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.1ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 809
Processing readbacks: 2 pending, completed_frame: 809, frames_in_flight: 3
Checking readback 759: submitted frame 808, current frame 809, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 809
Received generation result 1 for region RegionId(0, -1, 0)
Processing single chunk workspace for chunk ChunkId(0, -2, 1)
Chunk ChunkId(0, -2, 1) has 0 non-empty voxels out of 262144
Extracted 1 chunks from region RegionId(0, -1, 0)
  Chunk ChunkId(0, -2, 1): palette size 1, 32768 bytes compressed
Adding chunk ChunkId(0, -2, 1) to active_chunks (total: 13)
Decompressed 262144 voxels for chunk ChunkId(0, -2, 1)
Successfully sent chunk ChunkId(0, -2, 1) to mesh generation
Creating generation params for region RegionId(0, -1, 0)
Region RegionId(0, -1, 0) world bounds: min=[0,-256,0] max=[256,0,256]
Creating plane SDF with normal [0, 0, 1] and distance 0
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 809, frames_in_flight: 3
Checking readback 759: submitted frame 808, current frame 809, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 28 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 2
Overall bounds: [64, -112, 0] to [128, -96, 8]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea58, alignment: 0
Returning buffer pointer: 0x2bde57fea58 (aligned: true)
Created staging buffer at: 0x2bde57fea58
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2433748097361257141), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fedd8, alignment: 0
Returning buffer pointer: 0x2bde57fedd8 (aligned: true)
Created staging buffer at: 0x2bde57fedd8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439e000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9606453982599848631), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec58, alignment: 0
Returning buffer pointer: 0x2bde57fec58 (aligned: true)
Created staging buffer at: 0x2bde57fec58
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439b000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3790449788525224633), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe798, alignment: 0
Returning buffer pointer: 0x2bde57fe798 (aligned: true)
Created staging buffer at: 0x2bde57fe798
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ce000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3603900048686981819), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.1e2,0.0e0] to [1.3e2,-9.6e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fe9d8, alignment: 0
Returning buffer pointer: 0x2bde57fe9d8 (aligned: true)
Submitting readback 761 at frame 809 (will be ready at frame 812)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 8 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 52.1ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 810
Processing readbacks: 3 pending, completed_frame: 810, frames_in_flight: 3
Checking readback 759: submitted frame 808, current frame 810, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 810
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 810, frames_in_flight: 3
Checking readback 759: submitted frame 808, current frame 810, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 28 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 45.6ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 811
Processing readbacks: 3 pending, completed_frame: 811, frames_in_flight: 3
Checking readback 759: submitted frame 808, current frame 811, 3 frames elapsed (need 3)
Readback 759 ready (submitted frame 808, current frame 811)
Checking readback 760: submitted frame 808, current frame 811, 3 frames elapsed (need 3)
Readback 760 ready (submitted frame 808, current frame 811)
Checking readback 761: submitted frame 809, current frame 811, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 1/512 completed
Minichunk 2/512 completed
Minichunk 3/512 completed
Minichunk 4/512 completed
Minichunk 5/512 completed
Minichunk 6/512 completed
Minichunk 7/512 completed
Minichunk 8/512 completed
Minichunk 9/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 10/512 completed
Minichunk 11/512 completed
Minichunk 12/512 completed
Minichunk 13/512 completed
Minichunk 14/512 completed
Minichunk 15/512 completed
Minichunk 16/512 completed
Minichunk 17/512 completed
Minichunk 18/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 811
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 811, frames_in_flight: 3
Checking readback 761: submitted frame 809, current frame 811, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 28 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [64, -80, 0] to [128, -64, 8]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe758, alignment: 0
Returning buffer pointer: 0x2bde57fe758 (aligned: true)
Created staging buffer at: 0x2bde57fe758
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bf000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10634259860058809024), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee58, alignment: 0
Returning buffer pointer: 0x2bde57fee58 (aligned: true)
Created staging buffer at: 0x2bde57fee58
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2817785518710858434), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fecd8, alignment: 0
Returning buffer pointer: 0x2bde57fecd8 (aligned: true)
Created staging buffer at: 0x2bde57fecd8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13952607942919332548), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe7d8, alignment: 0
Returning buffer pointer: 0x2bde57fe7d8 (aligned: true)
Created staging buffer at: 0x2bde57fe7d8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b1000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11130590403953173190), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-8.0e1,0.0e0] to [1.3e2,-6.4e1,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fed18, alignment: 0
Returning buffer pointer: 0x2bde57fed18 (aligned: true)
Submitting readback 762 at frame 811 (will be ready at frame 814)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 1
Overall bounds: [64, -128, 8] to [128, -120, 16]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe818, alignment: 0
Returning buffer pointer: 0x2bde57fe818 (aligned: true)
Created staging buffer at: 0x2bde57fe818
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1832490059316601547), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb98, alignment: 0
Returning buffer pointer: 0x2bde57feb98 (aligned: true)
Created staging buffer at: 0x2bde57feb98
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15475667942389064397), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe858, alignment: 0
Returning buffer pointer: 0x2bde57fe858 (aligned: true)
Created staging buffer at: 0x2bde57fe858
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15275449073994310351), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe898, alignment: 0
Returning buffer pointer: 0x2bde57fe898 (aligned: true)
Created staging buffer at: 0x2bde57fe898
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a1000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1059254109036618449), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.3e2,8.0e0] to [1.3e2,-1.2e2,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fea18, alignment: 0
Returning buffer pointer: 0x2bde57fea18 (aligned: true)
Submitting readback 763 at frame 811 (will be ready at frame 814)
Successfully queued 18 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 50.2ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 812
Processing readbacks: 3 pending, completed_frame: 812, frames_in_flight: 3
Checking readback 761: submitted frame 809, current frame 812, 3 frames elapsed (need 3)
Readback 761 ready (submitted frame 809, current frame 812)
Checking readback 762: submitted frame 811, current frame 812, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (10 minichunks, 20480 bytes)
Minichunk 19/512 completed
Minichunk 20/512 completed
Minichunk 21/512 completed
Minichunk 22/512 completed
Minichunk 23/512 completed
Minichunk 24/512 completed
Minichunk 25/512 completed
Minichunk 26/512 completed
Minichunk 27/512 completed
Minichunk 28/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 812
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 812, frames_in_flight: 3
Checking readback 762: submitted frame 811, current frame 812, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [64, -128, 8] to [128, -64, 24]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe998, alignment: 0
Returning buffer pointer: 0x2bde57fe998 (aligned: true)
Created staging buffer at: 0x2bde57fe998
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16662012401457046230), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe9d8, alignment: 0
Returning buffer pointer: 0x2bde57fe9d8 (aligned: true)
Created staging buffer at: 0x2bde57fe9d8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43aa000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13944026254664540888), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fead8, alignment: 0
Returning buffer pointer: 0x2bde57fead8 (aligned: true)
Created staging buffer at: 0x2bde57fead8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17876229480289149658), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fef68, alignment: 0
Returning buffer pointer: 0x2bde57fef68 (aligned: true)
Created staging buffer at: 0x2bde57fef68
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e4000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18365580324370391772), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.3e2,8.0e0] to [1.3e2,-6.4e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=11 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff3e8, alignment: 0
Returning buffer pointer: 0x2bde57ff3e8 (aligned: true)
Submitting readback 764 at frame 812 (will be ready at frame 815)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 49.9ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 813
Processing readbacks: 3 pending, completed_frame: 813, frames_in_flight: 3
Checking readback 762: submitted frame 811, current frame 813, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 813
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 813, frames_in_flight: 3
Checking readback 762: submitted frame 811, current frame 813, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 43.2ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 814
Processing readbacks: 3 pending, completed_frame: 814, frames_in_flight: 3
Checking readback 762: submitted frame 811, current frame 814, 3 frames elapsed (need 3)
Readback 762 ready (submitted frame 811, current frame 814)
Checking readback 763: submitted frame 811, current frame 814, 3 frames elapsed (need 3)
Readback 763 ready (submitted frame 811, current frame 814)
Checking readback 764: submitted frame 812, current frame 814, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 29/512 completed
Minichunk 30/512 completed
Minichunk 31/512 completed
Minichunk 32/512 completed
Minichunk 33/512 completed
Minichunk 34/512 completed
Minichunk 35/512 completed
Minichunk 36/512 completed
Minichunk 37/512 completed
Minichunk 38/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 39/512 completed
Minichunk 40/512 completed
Minichunk 41/512 completed
Minichunk 42/512 completed
Minichunk 43/512 completed
Minichunk 44/512 completed
Minichunk 45/512 completed
Minichunk 46/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 814
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 814, frames_in_flight: 3
Checking readback 764: submitted frame 812, current frame 814, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 0
Overall bounds: [64, -120, 32] to [128, -96, 40]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fefa8, alignment: 0
Returning buffer pointer: 0x2bde57fefa8 (aligned: true)
Created staging buffer at: 0x2bde57fefa8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ef000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17358855383350780641), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fefe8, alignment: 0
Returning buffer pointer: 0x2bde57fefe8 (aligned: true)
Created staging buffer at: 0x2bde57fefe8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c8000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16996366190882333411), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff0a8, alignment: 0
Returning buffer pointer: 0x2bde57ff0a8 (aligned: true)
Created staging buffer at: 0x2bde57ff0a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10111063849051366117), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff028, alignment: 0
Returning buffer pointer: 0x2bde57ff028 (aligned: true)
Created staging buffer at: 0x2bde57ff028
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a7000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17107579593008620263), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.2e2,3.2e1] to [1.3e2,-9.6e1,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=11 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff228, alignment: 0
Returning buffer pointer: 0x2bde57ff228 (aligned: true)
Submitting readback 765 at frame 814 (will be ready at frame 817)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [72, -104, 32] to [128, -96, 40]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff668, alignment: 0
Returning buffer pointer: 0x2bde57ff668 (aligned: true)
Created staging buffer at: 0x2bde57ff668
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14223130684305711852), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff5a8, alignment: 0
Returning buffer pointer: 0x2bde57ff5a8 (aligned: true)
Created staging buffer at: 0x2bde57ff5a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11111704092722864878), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff568, alignment: 0
Returning buffer pointer: 0x2bde57ff568 (aligned: true)
Created staging buffer at: 0x2bde57ff568
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1223229775644992240), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff068, alignment: 0
Returning buffer pointer: 0x2bde57ff068 (aligned: true)
Created staging buffer at: 0x2bde57ff068
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43de000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15789649980374917874), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-1.0e2,3.2e1] to [1.3e2,-9.6e1,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff428, alignment: 0
Returning buffer pointer: 0x2bde57ff428 (aligned: true)
Submitting readback 766 at frame 814 (will be ready at frame 817)
Successfully queued 18 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 47.8ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 815
Processing readbacks: 3 pending, completed_frame: 815, frames_in_flight: 3
Checking readback 764: submitted frame 812, current frame 815, 3 frames elapsed (need 3)
Readback 764 ready (submitted frame 812, current frame 815)
Checking readback 765: submitted frame 814, current frame 815, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 47/512 completed
Minichunk 48/512 completed
Minichunk 49/512 completed
Minichunk 50/512 completed
Minichunk 51/512 completed
Minichunk 52/512 completed
Minichunk 53/512 completed
Minichunk 54/512 completed
Minichunk 55/512 completed
Minichunk 56/512 completed
Minichunk 57/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 815
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 815, frames_in_flight: 3
Checking readback 765: submitted frame 814, current frame 815, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 26 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [64, -72, 56] to [128, -64, 64]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff268, alignment: 0
Returning buffer pointer: 0x2bde57ff268 (aligned: true)
Created staging buffer at: 0x2bde57ff268
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ba000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12373822495130657527), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff2a8, alignment: 0
Returning buffer pointer: 0x2bde57ff2a8 (aligned: true)
Created staging buffer at: 0x2bde57ff2a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1042055548154946297), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff4a8, alignment: 0
Returning buffer pointer: 0x2bde57ff4a8 (aligned: true)
Created staging buffer at: 0x2bde57ff4a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12487885831396139771), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff2e8, alignment: 0
Returning buffer pointer: 0x2bde57ff2e8 (aligned: true)
Created staging buffer at: 0x2bde57ff2e8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439c000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13103904813043688189), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-7.2e1,5.6e1] to [1.3e2,-6.4e1,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff5e8, alignment: 0
Returning buffer pointer: 0x2bde57ff5e8 (aligned: true)
Submitting readback 767 at frame 815 (will be ready at frame 818)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 46.7ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 13)
DeferredReadbackManager: advanced to frame 816
Processing readbacks: 3 pending, completed_frame: 816, frames_in_flight: 3
Checking readback 765: submitted frame 814, current frame 816, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 816
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 816, frames_in_flight: 3
Checking readback 765: submitted frame 814, current frame 816, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 25 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 39.2ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 4)
DeferredReadbackManager: advanced to frame 817
Processing readbacks: 3 pending, completed_frame: 817, frames_in_flight: 3
Checking readback 765: submitted frame 814, current frame 817, 3 frames elapsed (need 3)
Readback 765 ready (submitted frame 814, current frame 817)
Checking readback 766: submitted frame 814, current frame 817, 3 frames elapsed (need 3)
Readback 766 ready (submitted frame 814, current frame 817)
Checking readback 767: submitted frame 815, current frame 817, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 58/512 completed
Minichunk 59/512 completed
Minichunk 60/512 completed
Minichunk 61/512 completed
Minichunk 62/512 completed
Minichunk 63/512 completed
Minichunk 64/512 completed
Minichunk 65/512 completed
Minichunk 66/512 completed
Minichunk 67/512 completed
Minichunk 68/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 69/512 completed
Minichunk 70/512 completed
Minichunk 71/512 completed
Minichunk 72/512 completed
Minichunk 73/512 completed
Minichunk 74/512 completed
Minichunk 75/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 817
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 817, frames_in_flight: 3
Checking readback 767: submitted frame 815, current frame 817, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 25 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [64, -104, 0] to [128, -88, 8]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff0e8, alignment: 0
Returning buffer pointer: 0x2bde57ff0e8 (aligned: true)
Created staging buffer at: 0x2bde57ff0e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4454635076050756354), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff528, alignment: 0
Returning buffer pointer: 0x2bde57ff528 (aligned: true)
Created staging buffer at: 0x2bde57ff528
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13733829318247719684), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff128, alignment: 0
Returning buffer pointer: 0x2bde57ff128 (aligned: true)
Created staging buffer at: 0x2bde57ff128
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43db000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4251836753377239814), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff468, alignment: 0
Returning buffer pointer: 0x2bde57ff468 (aligned: true)
Created staging buffer at: 0x2bde57ff468
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b6000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2337210976442524424), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.0e2,0.0e0] to [1.3e2,-8.8e1,8.0e0]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff1a8, alignment: 0
Returning buffer pointer: 0x2bde57ff1a8 (aligned: true)
Submitting readback 768 at frame 817 (will be ready at frame 820)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 12 minichunks in workspace 1
Overall bounds: [64, -96, 56] to [128, -72, 64]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff628, alignment: 0
Returning buffer pointer: 0x2bde57ff628 (aligned: true)
Created staging buffer at: 0x2bde57ff628
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43dc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9229244528458736397), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff328, alignment: 0
Returning buffer pointer: 0x2bde57ff328 (aligned: true)
Created staging buffer at: 0x2bde57ff328
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a0000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3075552825703408399), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff1e8, alignment: 0
Returning buffer pointer: 0x2bde57ff1e8 (aligned: true)
Created staging buffer at: 0x2bde57ff1e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6195256540820153105), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff168, alignment: 0
Returning buffer pointer: 0x2bde57ff168 (aligned: true)
Created staging buffer at: 0x2bde57ff168
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e9000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10678891236053492499), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-9.6e1,5.6e1] to [1.3e2,-7.2e1,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=12 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff4e8, alignment: 0
Returning buffer pointer: 0x2bde57ff4e8 (aligned: true)
Submitting readback 769 at frame 817 (will be ready at frame 820)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 42.2ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 16)
DeferredReadbackManager: advanced to frame 818
Processing readbacks: 3 pending, completed_frame: 818, frames_in_flight: 3
Checking readback 767: submitted frame 815, current frame 818, 3 frames elapsed (need 3)
Readback 767 ready (submitted frame 815, current frame 818)
Checking readback 768: submitted frame 817, current frame 818, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 76/512 completed
Minichunk 77/512 completed
Minichunk 78/512 completed
Minichunk 79/512 completed
Minichunk 80/512 completed
Minichunk 81/512 completed
Minichunk 82/512 completed
Minichunk 83/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 818
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 818, frames_in_flight: 3
Checking readback 768: submitted frame 817, current frame 818, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 7 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [72, -120, 16] to [128, -112, 24]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff5e8, alignment: 0
Returning buffer pointer: 0x2bde57ff5e8 (aligned: true)
Created staging buffer at: 0x2bde57ff5e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43df000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2070213269334795032), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff6a8, alignment: 0
Returning buffer pointer: 0x2bde57ff6a8 (aligned: true)
Created staging buffer at: 0x2bde57ff6a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4395000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6585214832285328154), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff368, alignment: 0
Returning buffer pointer: 0x2bde57ff368 (aligned: true)
Created staging buffer at: 0x2bde57ff368
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c9000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7461870846273921820), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff228, alignment: 0
Returning buffer pointer: 0x2bde57ff228 (aligned: true)
Created staging buffer at: 0x2bde57ff228
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4390000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(583046826953810718), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-1.2e2,1.6e1] to [1.3e2,-1.1e2,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff3a8, alignment: 0
Returning buffer pointer: 0x2bde57ff3a8 (aligned: true)
Submitting readback 770 at frame 818 (will be ready at frame 821)
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 39.5ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 4)
DeferredReadbackManager: advanced to frame 819
Processing readbacks: 3 pending, completed_frame: 819, frames_in_flight: 3
Checking readback 768: submitted frame 817, current frame 819, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 819
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0°, Pitch: 0.0°, Roll: -45.0°]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 819, frames_in_flight: 3
Checking readback 768: submitted frame 817, current frame 819, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 23 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 31.6ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 820
Processing readbacks: 3 pending, completed_frame: 820, frames_in_flight: 3
Checking readback 768: submitted frame 817, current frame 820, 3 frames elapsed (need 3)
Readback 768 ready (submitted frame 817, current frame 820)
Checking readback 769: submitted frame 817, current frame 820, 3 frames elapsed (need 3)
Readback 769 ready (submitted frame 817, current frame 820)
Checking readback 770: submitted frame 818, current frame 820, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 84/512 completed
Minichunk 85/512 completed
Minichunk 86/512 completed
Minichunk 87/512 completed
Minichunk 88/512 completed
Minichunk 89/512 completed
Minichunk 90/512 completed
Minichunk 91/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (12 minichunks, 24576 bytes)
Minichunk 92/512 completed
Minichunk 93/512 completed
Minichunk 94/512 completed
Minichunk 95/512 completed
Minichunk 96/512 completed
Minichunk 97/512 completed
Minichunk 98/512 completed
Minichunk 99/512 completed
Minichunk 100/512 completed
Minichunk 101/512 completed
Minichunk 102/512 completed
Minichunk 103/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 820
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 820, frames_in_flight: 3
Checking readback 770: submitted frame 818, current frame 820, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 23 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 0
Overall bounds: [64, -112, 56] to [128, -96, 64]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff1a8, alignment: 0
Returning buffer pointer: 0x2bde57ff1a8 (aligned: true)
Created staging buffer at: 0x2bde57ff1a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ca000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7530294554382050083), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff428, alignment: 0
Returning buffer pointer: 0x2bde57ff428 (aligned: true)
Created staging buffer at: 0x2bde57ff428
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4396000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8149107395075777317), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff4e8, alignment: 0
Returning buffer pointer: 0x2bde57ff4e8 (aligned: true)
Created staging buffer at: 0x2bde57ff4e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8529131598983996199), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffab8, alignment: 0
Returning buffer pointer: 0x2bde57ffab8 (aligned: true)
Created staging buffer at: 0x2bde57ffab8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ed000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8954376517119386409), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.1e2,5.6e1] to [1.3e2,-9.6e1,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffc38, alignment: 0
Returning buffer pointer: 0x2bde57ffc38 (aligned: true)
Submitting readback 771 at frame 820 (will be ready at frame 823)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [64, -104, 56] to [128, -88, 64]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffaf8, alignment: 0
Returning buffer pointer: 0x2bde57ffaf8 (aligned: true)
Created staging buffer at: 0x2bde57ffaf8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ee000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4853975500235744046), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffb78, alignment: 0
Returning buffer pointer: 0x2bde57ffb78 (aligned: true)
Created staging buffer at: 0x2bde57ffb78
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7481471840062284592), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff938, alignment: 0
Returning buffer pointer: 0x2bde57ff938 (aligned: true)
Created staging buffer at: 0x2bde57ff938
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10009748250598318898), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffc78, alignment: 0
Returning buffer pointer: 0x2bde57ffc78 (aligned: true)
Created staging buffer at: 0x2bde57ffc78
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ab000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8195991670395773748), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.0e2,5.6e1] to [1.3e2,-8.8e1,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffb38, alignment: 0
Returning buffer pointer: 0x2bde57ffb38 (aligned: true)
Submitting readback 772 at frame 820 (will be ready at frame 823)
Successfully queued 18 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 36.8ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 821
Processing readbacks: 3 pending, completed_frame: 821, frames_in_flight: 3
Checking readback 770: submitted frame 818, current frame 821, 3 frames elapsed (need 3)
Readback 770 ready (submitted frame 818, current frame 821)
Checking readback 771: submitted frame 820, current frame 821, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 104/512 completed
Minichunk 105/512 completed
Minichunk 106/512 completed
Minichunk 107/512 completed
Minichunk 108/512 completed
Minichunk 109/512 completed
Minichunk 110/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 821
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 821, frames_in_flight: 3
Checking readback 771: submitted frame 820, current frame 821, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 22 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 12 minichunks in workspace 2
Overall bounds: [64, -128, 56] to [128, -112, 64]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff7f8, alignment: 0
Returning buffer pointer: 0x2bde57ff7f8 (aligned: true)
Created staging buffer at: 0x2bde57ff7f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5852117653488935737), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffbf8, alignment: 0
Returning buffer pointer: 0x2bde57ffbf8 (aligned: true)
Created staging buffer at: 0x2bde57ffbf8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10987696773295776571), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff7b8, alignment: 0
Returning buffer pointer: 0x2bde57ff7b8 (aligned: true)
Created staging buffer at: 0x2bde57ff7b8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43be000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7072386444320318269), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffe78, alignment: 0
Returning buffer pointer: 0x2bde57ffe78 (aligned: true)
Created staging buffer at: 0x2bde57ffe78
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a4000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6901968739084804927), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.3e2,5.6e1] to [1.3e2,-1.1e2,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffcb8, alignment: 0
Returning buffer pointer: 0x2bde57ffcb8 (aligned: true)
Submitting readback 773 at frame 821 (will be ready at frame 824)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 36.5ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 12)
DeferredReadbackManager: advanced to frame 822
Processing readbacks: 3 pending, completed_frame: 822, frames_in_flight: 3
Checking readback 771: submitted frame 820, current frame 822, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 822
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 822, frames_in_flight: 3
Checking readback 771: submitted frame 820, current frame 822, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 22 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 31.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 823
Processing readbacks: 3 pending, completed_frame: 823, frames_in_flight: 3
Checking readback 771: submitted frame 820, current frame 823, 3 frames elapsed (need 3)
Readback 771 ready (submitted frame 820, current frame 823)
Checking readback 772: submitted frame 820, current frame 823, 3 frames elapsed (need 3)
Readback 772 ready (submitted frame 820, current frame 823)
Checking readback 773: submitted frame 821, current frame 823, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 111/512 completed
Minichunk 112/512 completed
Minichunk 113/512 completed
Minichunk 114/512 completed
Minichunk 115/512 completed
Minichunk 116/512 completed
Minichunk 117/512 completed
Minichunk 118/512 completed
Minichunk 119/512 completed
Minichunk 120/512 completed
Minichunk 121/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 122/512 completed
Minichunk 123/512 completed
Minichunk 124/512 completed
Minichunk 125/512 completed
Minichunk 126/512 completed
Minichunk 127/512 completed
Minichunk 128/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 823
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 823, frames_in_flight: 3
Checking readback 773: submitted frame 821, current frame 823, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 22 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 0
Overall bounds: [64, -80, 48] to [128, -64, 56]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffb38, alignment: 0
Returning buffer pointer: 0x2bde57ffb38 (aligned: true)
Created staging buffer at: 0x2bde57ffb38
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12101191989953831748), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffe38, alignment: 0
Returning buffer pointer: 0x2bde57ffe38 (aligned: true)
Created staging buffer at: 0x2bde57ffe38
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1498062602612253510), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffeb8, alignment: 0
Returning buffer pointer: 0x2bde57ffeb8 (aligned: true)
Created staging buffer at: 0x2bde57ffeb8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5646878415001756488), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff778, alignment: 0
Returning buffer pointer: 0x2bde57ff778 (aligned: true)
Created staging buffer at: 0x2bde57ff778
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d4000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12184114957897442122), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-8.0e1,4.8e1] to [1.3e2,-6.4e1,5.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffcf8, alignment: 0
Returning buffer pointer: 0x2bde57ffcf8 (aligned: true)
Submitting readback 774 at frame 823 (will be ready at frame 826)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [64, -128, 48] to [128, -64, 64]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffa38, alignment: 0
Returning buffer pointer: 0x2bde57ffa38 (aligned: true)
Created staging buffer at: 0x2bde57ffa38
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ac000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4151976908319368015), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffbb8, alignment: 0
Returning buffer pointer: 0x2bde57ffbb8 (aligned: true)
Created staging buffer at: 0x2bde57ffbb8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ad000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11531395377626358609), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff838, alignment: 0
Returning buffer pointer: 0x2bde57ff838 (aligned: true)
Created staging buffer at: 0x2bde57ff838
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ae000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13828668793213166419), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff878, alignment: 0
Returning buffer pointer: 0x2bde57ff878 (aligned: true)
Created staging buffer at: 0x2bde57ff878
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4397000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3689295818281460565), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.3e2,4.8e1] to [1.3e2,-6.4e1,6.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=7 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffd38, alignment: 0
Returning buffer pointer: 0x2bde57ffd38 (aligned: true)
Submitting readback 775 at frame 823 (will be ready at frame 826)
Successfully queued 18 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 36.6ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 824
Processing readbacks: 3 pending, completed_frame: 824, frames_in_flight: 3
Checking readback 773: submitted frame 821, current frame 824, 3 frames elapsed (need 3)
Readback 773 ready (submitted frame 821, current frame 824)
Checking readback 774: submitted frame 823, current frame 824, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (12 minichunks, 24576 bytes)
Minichunk 129/512 completed
Minichunk 130/512 completed
Minichunk 131/512 completed
Minichunk 132/512 completed
Minichunk 133/512 completed
Minichunk 134/512 completed
Minichunk 135/512 completed
Minichunk 136/512 completed
Minichunk 137/512 completed
Minichunk 138/512 completed
Minichunk 139/512 completed
Minichunk 140/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 824
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 824, frames_in_flight: 3
Checking readback 774: submitted frame 823, current frame 824, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 6 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 2
Overall bounds: [80, -80, 56] to [128, -72, 64]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffc38, alignment: 0
Returning buffer pointer: 0x2bde57ffc38 (aligned: true)
Created staging buffer at: 0x2bde57ffc38
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cb000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12874872142931436378), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffd78, alignment: 0
Returning buffer pointer: 0x2bde57ffd78 (aligned: true)
Created staging buffer at: 0x2bde57ffd78
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4398000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14734415685849457500), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffcb8, alignment: 0
Returning buffer pointer: 0x2bde57ffcb8 (aligned: true)
Created staging buffer at: 0x2bde57ffcb8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43dd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3256413692379538270), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff8b8, alignment: 0
Returning buffer pointer: 0x2bde57ff8b8 (aligned: true)
Created staging buffer at: 0x2bde57ff8b8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43af000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9433023615504229216), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-8.0e1,5.6e1] to [1.3e2,-7.2e1,6.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff8f8, alignment: 0
Returning buffer pointer: 0x2bde57ff8f8 (aligned: true)
Submitting readback 776 at frame 824 (will be ready at frame 827)
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 36.6ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 13)
DeferredReadbackManager: advanced to frame 825
Processing readbacks: 3 pending, completed_frame: 825, frames_in_flight: 3
Checking readback 774: submitted frame 823, current frame 825, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 825
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 825, frames_in_flight: 3
Checking readback 774: submitted frame 823, current frame 825, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 31.5ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 4)
DeferredReadbackManager: advanced to frame 826
Processing readbacks: 3 pending, completed_frame: 826, frames_in_flight: 3
Checking readback 774: submitted frame 823, current frame 826, 3 frames elapsed (need 3)
Readback 774 ready (submitted frame 823, current frame 826)
Checking readback 775: submitted frame 823, current frame 826, 3 frames elapsed (need 3)
Readback 775 ready (submitted frame 823, current frame 826)
Checking readback 776: submitted frame 824, current frame 826, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 141/512 completed
Minichunk 142/512 completed
Minichunk 143/512 completed
Minichunk 144/512 completed
Minichunk 145/512 completed
Minichunk 146/512 completed
Minichunk 147/512 completed
Minichunk 148/512 completed
Minichunk 149/512 completed
Minichunk 150/512 completed
Minichunk 151/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 152/512 completed
Minichunk 153/512 completed
Minichunk 154/512 completed
Minichunk 155/512 completed
Minichunk 156/512 completed
Minichunk 157/512 completed
Minichunk 158/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 826
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 826, frames_in_flight: 3
Checking readback 776: submitted frame 824, current frame 826, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 12 minichunks in workspace 0
Overall bounds: [64, -104, 48] to [128, -80, 56]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffd38, alignment: 0
Returning buffer pointer: 0x2bde57ffd38 (aligned: true)
Created staging buffer at: 0x2bde57ffd38
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2513342843607589733), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff978, alignment: 0
Returning buffer pointer: 0x2bde57ff978 (aligned: true)
Created staging buffer at: 0x2bde57ff978
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16109325289569395559), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff9b8, alignment: 0
Returning buffer pointer: 0x2bde57ff9b8 (aligned: true)
Created staging buffer at: 0x2bde57ff9b8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10598540025807250281), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff9f8, alignment: 0
Returning buffer pointer: 0x2bde57ff9f8 (aligned: true)
Created staging buffer at: 0x2bde57ff9f8
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c9000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1613122096412500843), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.0e2,4.8e1] to [1.3e2,-8.0e1,5.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=12 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffa78, alignment: 0
Returning buffer pointer: 0x2bde57ffa78 (aligned: true)
Submitting readback 777 at frame 826 (will be ready at frame 829)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [80, -88, 48] to [128, -80, 56]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda198, alignment: 0
Returning buffer pointer: 0x2bd92bda198 (aligned: true)
Created staging buffer at: 0x2bd92bda198
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ea000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14850977112533246832), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda018, alignment: 0
Returning buffer pointer: 0x2bd92bda018 (aligned: true)
Created staging buffer at: 0x2bd92bda018
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bf000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17137189441144628082), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda1d8, alignment: 0
Returning buffer pointer: 0x2bd92bda1d8 (aligned: true)
Created staging buffer at: 0x2bd92bda1d8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a9000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(345159789703078772), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda058, alignment: 0
Returning buffer pointer: 0x2bd92bda058 (aligned: true)
Created staging buffer at: 0x2bd92bda058
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cc000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17736304531026748278), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-8.8e1,4.8e1] to [1.3e2,-8.0e1,5.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bd92bda218, alignment: 0
Returning buffer pointer: 0x2bd92bda218 (aligned: true)
Submitting readback 778 at frame 826 (will be ready at frame 829)
Successfully queued 18 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 37.2ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 16)
DeferredReadbackManager: advanced to frame 827
Processing readbacks: 3 pending, completed_frame: 827, frames_in_flight: 3
Checking readback 776: submitted frame 824, current frame 827, 3 frames elapsed (need 3)
Readback 776 ready (submitted frame 824, current frame 827)
Checking readback 777: submitted frame 826, current frame 827, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (6 minichunks, 12288 bytes)
Minichunk 159/512 completed
Minichunk 160/512 completed
Minichunk 161/512 completed
Minichunk 162/512 completed
Minichunk 163/512 completed
Minichunk 164/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 827
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 827, frames_in_flight: 3
Checking readback 777: submitted frame 826, current frame 827, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 19 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 13 minichunks in workspace 2
Overall bounds: [64, -120, 48] to [128, -96, 56]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda318, alignment: 0
Returning buffer pointer: 0x2bd92bda318 (aligned: true)
Created staging buffer at: 0x2bd92bda318
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18423213425363526523), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda0d8, alignment: 0
Returning buffer pointer: 0x2bd92bda0d8 (aligned: true)
Created staging buffer at: 0x2bd92bda0d8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17543747059654337405), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda118, alignment: 0
Returning buffer pointer: 0x2bd92bda118 (aligned: true)
Created staging buffer at: 0x2bd92bda118
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17906447358355317631), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 832, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda258, alignment: 0
Returning buffer pointer: 0x2bd92bda258 (aligned: true)
Created staging buffer at: 0x2bd92bda258
Staging buffer cast successful
About to map memory for staging buffer - size: 832
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4393000
About to memcpy 832 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13973241378126177153), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.2e2,4.8e1] to [1.3e2,-9.6e1,5.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 13
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=13 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=13, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bd92bda298, alignment: 0
Returning buffer pointer: 0x2bd92bda298 (aligned: true)
Submitting readback 779 at frame 827 (will be ready at frame 830)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 13 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 37.1ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 14)
DeferredReadbackManager: advanced to frame 828
Processing readbacks: 3 pending, completed_frame: 828, frames_in_flight: 3
Checking readback 777: submitted frame 826, current frame 828, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 828
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 828, frames_in_flight: 3
Checking readback 777: submitted frame 826, current frame 828, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 19 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 31.8ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 4)
DeferredReadbackManager: advanced to frame 829
Processing readbacks: 3 pending, completed_frame: 829, frames_in_flight: 3
Checking readback 777: submitted frame 826, current frame 829, 3 frames elapsed (need 3)
Readback 777 ready (submitted frame 826, current frame 829)
Checking readback 778: submitted frame 826, current frame 829, 3 frames elapsed (need 3)
Readback 778 ready (submitted frame 826, current frame 829)
Checking readback 779: submitted frame 827, current frame 829, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (12 minichunks, 24576 bytes)
Minichunk 165/512 completed
Minichunk 166/512 completed
Minichunk 167/512 completed
Minichunk 168/512 completed
Minichunk 169/512 completed
Minichunk 170/512 completed
Minichunk 171/512 completed
Minichunk 172/512 completed
Minichunk 173/512 completed
Minichunk 174/512 completed
Minichunk 175/512 completed
Minichunk 176/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 177/512 completed
Minichunk 178/512 completed
Minichunk 179/512 completed
Minichunk 180/512 completed
Minichunk 181/512 completed
Minichunk 182/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 829
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 829, frames_in_flight: 3
Checking readback 779: submitted frame 827, current frame 829, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 19 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 6 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 0
Overall bounds: [64, -120, 56] to [128, -104, 64]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda098, alignment: 0
Returning buffer pointer: 0x2bd92bda098 (aligned: true)
Created staging buffer at: 0x2bd92bda098
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4394000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16281200947223339910), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda218, alignment: 0
Returning buffer pointer: 0x2bd92bda218 (aligned: true)
Created staging buffer at: 0x2bd92bda218
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9596040507973182344), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda2d8, alignment: 0
Returning buffer pointer: 0x2bd92bda2d8 (aligned: true)
Created staging buffer at: 0x2bd92bda2d8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15297160030596375434), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1f08, alignment: 0
Returning buffer pointer: 0x2be056e1f08 (aligned: true)
Created staging buffer at: 0x2be056e1f08
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bb000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15154850240613327756), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.2e2,5.6e1] to [1.3e2,-1.0e2,6.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=6 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e20c8, alignment: 0
Returning buffer pointer: 0x2be056e20c8 (aligned: true)
Submitting readback 780 at frame 829 (will be ready at frame 832)
Successfully queued 6 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 13 minichunks in workspace 1
Overall bounds: [64, -128, 40] to [128, -64, 56]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e21c8, alignment: 0
Returning buffer pointer: 0x2be056e21c8 (aligned: true)
Created staging buffer at: 0x2be056e21c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10612869960852054929), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2108, alignment: 0
Returning buffer pointer: 0x2be056e2108 (aligned: true)
Created staging buffer at: 0x2be056e2108
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2801098230736102291), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2288, alignment: 0
Returning buffer pointer: 0x2be056e2288 (aligned: true)
Created staging buffer at: 0x2be056e2288
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13841072383886107541), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 832, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2408, alignment: 0
Returning buffer pointer: 0x2be056e2408 (aligned: true)
Created staging buffer at: 0x2be056e2408
Staging buffer cast successful
About to map memory for staging buffer - size: 832
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c2000
About to memcpy 832 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12289492152303494039), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.3e2,4.0e1] to [1.3e2,-6.4e1,5.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 13
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=13 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=13, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e1e88, alignment: 0
Returning buffer pointer: 0x2be056e1e88 (aligned: true)
Submitting readback 781 at frame 829 (will be ready at frame 832)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 13 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 36.9ms (target: 10.0ms), Workgroups: 14 -> 14 (PID: 16)
DeferredReadbackManager: advanced to frame 830
Processing readbacks: 3 pending, completed_frame: 830, frames_in_flight: 3
Checking readback 779: submitted frame 827, current frame 830, 3 frames elapsed (need 3)
Readback 779 ready (submitted frame 827, current frame 830)
Checking readback 780: submitted frame 829, current frame 830, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (13 minichunks, 26624 bytes)
Minichunk 183/512 completed
Minichunk 184/512 completed
Minichunk 185/512 completed
Minichunk 186/512 completed
Minichunk 187/512 completed
Minichunk 188/512 completed
Minichunk 189/512 completed
Minichunk 190/512 completed
Minichunk 191/512 completed
Minichunk 192/512 completed
Minichunk 193/512 completed
Minichunk 194/512 completed
Minichunk 195/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 830
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 830, frames_in_flight: 3
Checking readback 780: submitted frame 829, current frame 830, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 14 minichunks in workspace 2
Overall bounds: [64, -88, 40] to [128, -72, 48]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1f48, alignment: 0
Returning buffer pointer: 0x2be056e1f48 (aligned: true)
Created staging buffer at: 0x2be056e1f48
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4399000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(650047767015596956), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2208, alignment: 0
Returning buffer pointer: 0x2be056e2208 (aligned: true)
Created staging buffer at: 0x2be056e2208
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35ca000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13144842929480672158), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2188, alignment: 0
Returning buffer pointer: 0x2be056e2188 (aligned: true)
Created staging buffer at: 0x2be056e2188
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cf000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12984180091406787488), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 896, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2248, alignment: 0
Returning buffer pointer: 0x2be056e2248 (aligned: true)
Created staging buffer at: 0x2be056e2248
Staging buffer cast successful
About to map memory for staging buffer - size: 896
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d0000
About to memcpy 896 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4523497489298367394), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-8.8e1,4.0e1] to [1.3e2,-7.2e1,4.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 14
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=14 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=14, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2448, alignment: 0
Returning buffer pointer: 0x2be056e2448 (aligned: true)
Submitting readback 782 at frame 830 (will be ready at frame 833)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 4 remaining minichunks from batch
Successfully queued 14 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 36.6ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 12)
DeferredReadbackManager: advanced to frame 831
Processing readbacks: 3 pending, completed_frame: 831, frames_in_flight: 3
Checking readback 780: submitted frame 829, current frame 831, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 831
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 831, frames_in_flight: 3
Checking readback 780: submitted frame 829, current frame 831, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 31.2ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 4)
DeferredReadbackManager: advanced to frame 832
Processing readbacks: 3 pending, completed_frame: 832, frames_in_flight: 3
Checking readback 780: submitted frame 829, current frame 832, 3 frames elapsed (need 3)
Readback 780 ready (submitted frame 829, current frame 832)
Checking readback 781: submitted frame 829, current frame 832, 3 frames elapsed (need 3)
Readback 781 ready (submitted frame 829, current frame 832)
Checking readback 782: submitted frame 830, current frame 832, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 196/512 completed
Minichunk 197/512 completed
Minichunk 198/512 completed
Minichunk 199/512 completed
Minichunk 200/512 completed
Minichunk 201/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (13 minichunks, 26624 bytes)
Minichunk 202/512 completed
Minichunk 203/512 completed
Minichunk 204/512 completed
Minichunk 205/512 completed
Minichunk 206/512 completed
Minichunk 207/512 completed
Minichunk 208/512 completed
Minichunk 209/512 completed
Minichunk 210/512 completed
Minichunk 211/512 completed
Minichunk 212/512 completed
Minichunk 213/512 completed
Minichunk 214/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 832
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 832, frames_in_flight: 3
Checking readback 782: submitted frame 830, current frame 832, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 12 minichunks in workspace 0
Overall bounds: [64, -112, 40] to [128, -88, 48]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2508, alignment: 0
Returning buffer pointer: 0x2be056e2508 (aligned: true)
Created staging buffer at: 0x2be056e2508
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11888689377653564327), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2488, alignment: 0
Returning buffer pointer: 0x2be056e2488 (aligned: true)
Created staging buffer at: 0x2be056e2488
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43eb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4771328509710705577), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2348, alignment: 0
Returning buffer pointer: 0x2be056e2348 (aligned: true)
Created staging buffer at: 0x2be056e2348
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ec000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2913468319094809515), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2088, alignment: 0
Returning buffer pointer: 0x2be056e2088 (aligned: true)
Created staging buffer at: 0x2be056e2088
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cb000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10304418466353914797), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.1e2,4.0e1] to [1.3e2,-8.8e1,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=12 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e22c8, alignment: 0
Returning buffer pointer: 0x2be056e22c8 (aligned: true)
Submitting readback 783 at frame 832 (will be ready at frame 835)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [80, -96, 40] to [128, -88, 48]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e20c8, alignment: 0
Returning buffer pointer: 0x2be056e20c8 (aligned: true)
Created staging buffer at: 0x2be056e20c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5803239963587781554), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2148, alignment: 0
Returning buffer pointer: 0x2be056e2148 (aligned: true)
Created staging buffer at: 0x2be056e2148
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6490678822529147828), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2308, alignment: 0
Returning buffer pointer: 0x2be056e2308 (aligned: true)
Created staging buffer at: 0x2be056e2308
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11305376468885840822), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e08, alignment: 0
Returning buffer pointer: 0x2be056e1e08 (aligned: true)
Created staging buffer at: 0x2be056e1e08
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e3000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6723322288827016120), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-9.6e1,4.0e1] to [1.3e2,-8.8e1,4.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e1f88, alignment: 0
Returning buffer pointer: 0x2be056e1f88 (aligned: true)
Submitting readback 784 at frame 832 (will be ready at frame 835)
Successfully queued 18 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 36.2ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 16)
DeferredReadbackManager: advanced to frame 833
Processing readbacks: 3 pending, completed_frame: 833, frames_in_flight: 3
Checking readback 782: submitted frame 830, current frame 833, 3 frames elapsed (need 3)
Readback 782 ready (submitted frame 830, current frame 833)
Checking readback 783: submitted frame 832, current frame 833, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (14 minichunks, 28672 bytes)
Minichunk 215/512 completed
Minichunk 216/512 completed
Minichunk 217/512 completed
Minichunk 218/512 completed
Minichunk 219/512 completed
Minichunk 220/512 completed
Minichunk 221/512 completed
Minichunk 222/512 completed
Minichunk 223/512 completed
Minichunk 224/512 completed
Minichunk 225/512 completed
Minichunk 226/512 completed
Minichunk 227/512 completed
Minichunk 228/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 833
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 833, frames_in_flight: 3
Checking readback 783: submitted frame 832, current frame 833, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 17 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 5 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [72, -104, 48] to [112, -96, 56]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1dc8, alignment: 0
Returning buffer pointer: 0x2be056e1dc8 (aligned: true)
Created staging buffer at: 0x2be056e1dc8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4922917078320554941), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2448, alignment: 0
Returning buffer pointer: 0x2be056e2448 (aligned: true)
Created staging buffer at: 0x2be056e2448
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43da000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7658429440459809727), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2388, alignment: 0
Returning buffer pointer: 0x2be056e2388 (aligned: true)
Created staging buffer at: 0x2be056e2388
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8009109878045942721), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e23c8, alignment: 0
Returning buffer pointer: 0x2be056e23c8 (aligned: true)
Created staging buffer at: 0x2be056e23c8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c4000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5475340307417539523), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-1.0e2,4.8e1] to [1.1e2,-9.6e1,5.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2008, alignment: 0
Returning buffer pointer: 0x2be056e2008 (aligned: true)
Submitting readback 785 at frame 833 (will be ready at frame 836)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.9ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 11)
DeferredReadbackManager: advanced to frame 834
Processing readbacks: 3 pending, completed_frame: 834, frames_in_flight: 3
Checking readback 783: submitted frame 832, current frame 834, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 834
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 834, frames_in_flight: 3
Checking readback 783: submitted frame 832, current frame 834, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 30.9ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 835
Processing readbacks: 3 pending, completed_frame: 835, frames_in_flight: 3
Checking readback 783: submitted frame 832, current frame 835, 3 frames elapsed (need 3)
Readback 783 ready (submitted frame 832, current frame 835)
Checking readback 784: submitted frame 832, current frame 835, 3 frames elapsed (need 3)
Readback 784 ready (submitted frame 832, current frame 835)
Checking readback 785: submitted frame 833, current frame 835, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (12 minichunks, 24576 bytes)
Minichunk 229/512 completed
Minichunk 230/512 completed
Minichunk 231/512 completed
Minichunk 232/512 completed
Minichunk 233/512 completed
Minichunk 234/512 completed
Minichunk 235/512 completed
Minichunk 236/512 completed
Minichunk 237/512 completed
Minichunk 238/512 completed
Minichunk 239/512 completed
Minichunk 240/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 241/512 completed
Minichunk 242/512 completed
Minichunk 243/512 completed
Minichunk 244/512 completed
Minichunk 245/512 completed
Minichunk 246/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 835
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 835, frames_in_flight: 3
Checking readback 785: submitted frame 833, current frame 835, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 0
Overall bounds: [64, -128, 40] to [128, -112, 48]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e24c8, alignment: 0
Returning buffer pointer: 0x2be056e24c8 (aligned: true)
Created staging buffer at: 0x2be056e24c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4391000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8931827732656956360), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e48, alignment: 0
Returning buffer pointer: 0x2be056e1e48 (aligned: true)
Created staging buffer at: 0x2be056e1e48
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9115895874751308746), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e88, alignment: 0
Returning buffer pointer: 0x2be056e1e88 (aligned: true)
Created staging buffer at: 0x2be056e1e88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9036645275644470220), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1ec8, alignment: 0
Returning buffer pointer: 0x2be056e1ec8 (aligned: true)
Created staging buffer at: 0x2be056e1ec8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4392000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8381602427303896014), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.3e2,4.0e1] to [1.3e2,-1.1e2,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e1f88, alignment: 0
Returning buffer pointer: 0x2be056e1f88 (aligned: true)
Submitting readback 786 at frame 835 (will be ready at frame 838)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [64, -120, 40] to [128, -104, 48]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1fc8, alignment: 0
Returning buffer pointer: 0x2be056e1fc8 (aligned: true)
Created staging buffer at: 0x2be056e1fc8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7793973935397151699), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2048, alignment: 0
Returning buffer pointer: 0x2be056e2048 (aligned: true)
Created staging buffer at: 0x2be056e2048
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7982520388351435733), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fed58, alignment: 0
Returning buffer pointer: 0x2bde57fed58 (aligned: true)
Created staging buffer at: 0x2bde57fed58
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5467033497069691863), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fed18, alignment: 0
Returning buffer pointer: 0x2bde57fed18 (aligned: true)
Created staging buffer at: 0x2bde57fed18
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cd000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6929201443081561049), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.2e2,4.0e1] to [1.3e2,-1.0e2,4.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fea98, alignment: 0
Returning buffer pointer: 0x2bde57fea98 (aligned: true)
Submitting readback 787 at frame 835 (will be ready at frame 838)
Successfully queued 18 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 36.0ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 836
Processing readbacks: 3 pending, completed_frame: 836, frames_in_flight: 3
Checking readback 785: submitted frame 833, current frame 836, 3 frames elapsed (need 3)
Readback 785 ready (submitted frame 833, current frame 836)
Checking readback 786: submitted frame 835, current frame 836, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 247/512 completed
Minichunk 248/512 completed
Minichunk 249/512 completed
Minichunk 250/512 completed
Minichunk 251/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 836

Region Loading Status:
  Camera region: RegionId(0, -1, 0)
  View distance: 1 regions
  Loaded regions: 3
  Pending generations: 2
  Active chunks: 13
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 836, frames_in_flight: 3
Checking readback 786: submitted frame 835, current frame 836, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 5 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [64, -128, 48] to [128, -112, 56]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec98, alignment: 0
Returning buffer pointer: 0x2bde57fec98 (aligned: true)
Created staging buffer at: 0x2bde57fec98
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ce000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9268864330454016990), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fedd8, alignment: 0
Returning buffer pointer: 0x2bde57fedd8 (aligned: true)
Created staging buffer at: 0x2bde57fedd8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6416311154561262560), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea18, alignment: 0
Returning buffer pointer: 0x2bde57fea18 (aligned: true)
Created staging buffer at: 0x2bde57fea18
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439b000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6175265220403930082), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe8d8, alignment: 0
Returning buffer pointer: 0x2bde57fe8d8 (aligned: true)
Created staging buffer at: 0x2bde57fe8d8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439e000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10735865729581589476), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.3e2,4.8e1] to [1.3e2,-1.1e2,5.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=5 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fee58, alignment: 0
Returning buffer pointer: 0x2bde57fee58 (aligned: true)
Submitting readback 788 at frame 836 (will be ready at frame 839)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.5ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 10)
DeferredReadbackManager: advanced to frame 837
Processing readbacks: 3 pending, completed_frame: 837, frames_in_flight: 3
Checking readback 786: submitted frame 835, current frame 837, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 837
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 837, frames_in_flight: 3
Checking readback 786: submitted frame 835, current frame 837, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 30.4ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 838
Processing readbacks: 3 pending, completed_frame: 838, frames_in_flight: 3
Checking readback 786: submitted frame 835, current frame 838, 3 frames elapsed (need 3)
Readback 786 ready (submitted frame 835, current frame 838)
Checking readback 787: submitted frame 835, current frame 838, 3 frames elapsed (need 3)
Readback 787 ready (submitted frame 835, current frame 838)
Checking readback 788: submitted frame 836, current frame 838, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 252/512 completed
Minichunk 253/512 completed
Minichunk 254/512 completed
Minichunk 255/512 completed
Minichunk 256/512 completed
Minichunk 257/512 completed
Minichunk 258/512 completed
Minichunk 259/512 completed
Minichunk 260/512 completed
Minichunk 261/512 completed
Minichunk 262/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 263/512 completed
Minichunk 264/512 completed
Minichunk 265/512 completed
Minichunk 266/512 completed
Minichunk 267/512 completed
Minichunk 268/512 completed
Minichunk 269/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 838
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 838, frames_in_flight: 3
Checking readback 788: submitted frame 836, current frame 838, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 4 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 4 minichunks in workspace 0
Overall bounds: [64, -80, 40] to [128, -64, 48]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb18, alignment: 0
Returning buffer pointer: 0x2bde57feb18 (aligned: true)
Created staging buffer at: 0x2bde57feb18
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3235248093544850409), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe7d8, alignment: 0
Returning buffer pointer: 0x2bde57fe7d8 (aligned: true)
Created staging buffer at: 0x2bde57fe7d8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5422187716307592171), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe898, alignment: 0
Returning buffer pointer: 0x2bde57fe898 (aligned: true)
Created staging buffer at: 0x2bde57fe898
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11982078596781974509), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fecd8, alignment: 0
Returning buffer pointer: 0x2bde57fecd8 (aligned: true)
Created staging buffer at: 0x2bde57fecd8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b8000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4080937462048760815), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-8.0e1,4.0e1] to [1.3e2,-6.4e1,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=4 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fec58, alignment: 0
Returning buffer pointer: 0x2bde57fec58 (aligned: true)
Submitting readback 789 at frame 838 (will be ready at frame 841)
Successfully queued 4 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 1
Overall bounds: [64, -80, 32] to [128, -64, 40]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe798, alignment: 0
Returning buffer pointer: 0x2bde57fe798 (aligned: true)
Created staging buffer at: 0x2bde57fe798
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13345788575061386228), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe818, alignment: 0
Returning buffer pointer: 0x2bde57fe818 (aligned: true)
Created staging buffer at: 0x2bde57fe818
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12820769573775090678), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe918, alignment: 0
Returning buffer pointer: 0x2bde57fe918 (aligned: true)
Created staging buffer at: 0x2bde57fe918
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3891892930327094264), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe858, alignment: 0
Returning buffer pointer: 0x2bde57fe858 (aligned: true)
Created staging buffer at: 0x2bde57fe858
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bd000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11788200611944604666), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-8.0e1,3.2e1] to [1.3e2,-6.4e1,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fea58, alignment: 0
Returning buffer pointer: 0x2bde57fea58 (aligned: true)
Submitting readback 790 at frame 838 (will be ready at frame 841)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 8 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 36.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 839
Processing readbacks: 3 pending, completed_frame: 839, frames_in_flight: 3
Checking readback 788: submitted frame 836, current frame 839, 3 frames elapsed (need 3)
Readback 788 ready (submitted frame 836, current frame 839)
Checking readback 789: submitted frame 838, current frame 839, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 270/512 completed
Minichunk 271/512 completed
Minichunk 272/512 completed
Minichunk 273/512 completed
Minichunk 274/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 839
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 839, frames_in_flight: 3
Checking readback 789: submitted frame 838, current frame 839, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [64, -128, 24] to [128, -64, 40]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe998, alignment: 0
Returning buffer pointer: 0x2bde57fe998 (aligned: true)
Created staging buffer at: 0x2bde57fe998
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35be000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14056287491372098559), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fead8, alignment: 0
Returning buffer pointer: 0x2bde57fead8 (aligned: true)
Created staging buffer at: 0x2bde57fead8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2622878390989890561), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee18, alignment: 0
Returning buffer pointer: 0x2bde57fee18 (aligned: true)
Created staging buffer at: 0x2bde57fee18
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11154312367322440707), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe758, alignment: 0
Returning buffer pointer: 0x2bde57fe758 (aligned: true)
Created staging buffer at: 0x2bde57fe758
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43aa000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15128235462151382021), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.3e2,2.4e1] to [1.3e2,-6.4e1,4.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=11 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fee98, alignment: 0
Returning buffer pointer: 0x2bde57fee98 (aligned: true)
Submitting readback 791 at frame 839 (will be ready at frame 842)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.5ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 840
Processing readbacks: 3 pending, completed_frame: 840, frames_in_flight: 3
Checking readback 789: submitted frame 838, current frame 840, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 840
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 840, frames_in_flight: 3
Checking readback 789: submitted frame 838, current frame 840, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 30.3ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 841
Processing readbacks: 3 pending, completed_frame: 841, frames_in_flight: 3
Checking readback 789: submitted frame 838, current frame 841, 3 frames elapsed (need 3)
Readback 789 ready (submitted frame 838, current frame 841)
Checking readback 790: submitted frame 838, current frame 841, 3 frames elapsed (need 3)
Readback 790 ready (submitted frame 838, current frame 841)
Checking readback 791: submitted frame 839, current frame 841, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (4 minichunks, 8192 bytes)
Minichunk 275/512 completed
Minichunk 276/512 completed
Minichunk 277/512 completed
Minichunk 278/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 279/512 completed
Minichunk 280/512 completed
Minichunk 281/512 completed
Minichunk 282/512 completed
Minichunk 283/512 completed
Minichunk 284/512 completed
Minichunk 285/512 completed
Minichunk 286/512 completed
Minichunk 287/512 completed
Minichunk 288/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 841
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 841, frames_in_flight: 3
Checking readback 791: submitted frame 839, current frame 841, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 0
Overall bounds: [64, -96, 32] to [128, -80, 40]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea58, alignment: 0
Returning buffer pointer: 0x2bde57fea58 (aligned: true)
Created staging buffer at: 0x2bde57fea58
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15116865412408550410), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee58, alignment: 0
Returning buffer pointer: 0x2bde57fee58 (aligned: true)
Created staging buffer at: 0x2bde57fee58
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9808878471319921676), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb98, alignment: 0
Returning buffer pointer: 0x2bde57feb98 (aligned: true)
Created staging buffer at: 0x2bde57feb98
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bf000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16319533221102494734), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57febd8, alignment: 0
Returning buffer pointer: 0x2bde57febd8 (aligned: true)
Created staging buffer at: 0x2bde57febd8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c8000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14919791147269235728), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-9.6e1,3.2e1] to [1.3e2,-8.0e1,4.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fea98, alignment: 0
Returning buffer pointer: 0x2bde57fea98 (aligned: true)
Submitting readback 792 at frame 841 (will be ready at frame 844)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 1
Overall bounds: [64, -88, 32] to [128, -72, 40]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe9d8, alignment: 0
Returning buffer pointer: 0x2bde57fe9d8 (aligned: true)
Created staging buffer at: 0x2bde57fe9d8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16682980088198734869), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec18, alignment: 0
Returning buffer pointer: 0x2bde57fec18 (aligned: true)
Created staging buffer at: 0x2bde57fec18
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e8000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17649193523292939287), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec58, alignment: 0
Returning buffer pointer: 0x2bde57fec58 (aligned: true)
Created staging buffer at: 0x2bde57fec58
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18289326993960870937), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fef68, alignment: 0
Returning buffer pointer: 0x2bde57fef68 (aligned: true)
Created staging buffer at: 0x2bde57fef68
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c0000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17967405382510847003), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-8.8e1,3.2e1] to [1.3e2,-7.2e1,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff568, alignment: 0
Returning buffer pointer: 0x2bde57ff568 (aligned: true)
Submitting readback 793 at frame 841 (will be ready at frame 844)
Successfully queued 18 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.1ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 842
Processing readbacks: 3 pending, completed_frame: 842, frames_in_flight: 3
Checking readback 791: submitted frame 839, current frame 842, 3 frames elapsed (need 3)
Readback 791 ready (submitted frame 839, current frame 842)
Checking readback 792: submitted frame 841, current frame 842, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 289/512 completed
Minichunk 290/512 completed
Minichunk 291/512 completed
Minichunk 292/512 completed
Minichunk 293/512 completed
Minichunk 294/512 completed
Minichunk 295/512 completed
Minichunk 296/512 completed
Minichunk 297/512 completed
Minichunk 298/512 completed
Minichunk 299/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 842
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 842, frames_in_flight: 3
Checking readback 792: submitted frame 841, current frame 842, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 2
Overall bounds: [64, -88, 24] to [128, -72, 32]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff3a8, alignment: 0
Returning buffer pointer: 0x2bde57ff3a8 (aligned: true)
Created staging buffer at: 0x2bde57ff3a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(450797568364913696), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff3e8, alignment: 0
Returning buffer pointer: 0x2bde57ff3e8 (aligned: true)
Created staging buffer at: 0x2bde57ff3e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439c000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16166581258074203170), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fefa8, alignment: 0
Returning buffer pointer: 0x2bde57fefa8 (aligned: true)
Created staging buffer at: 0x2bde57fefa8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43de000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14928036384965927972), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fefe8, alignment: 0
Returning buffer pointer: 0x2bde57fefe8 (aligned: true)
Created staging buffer at: 0x2bde57fefe8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439a000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1333584459189986342), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-8.8e1,2.4e1] to [1.3e2,-7.2e1,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff268, alignment: 0
Returning buffer pointer: 0x2bde57ff268 (aligned: true)
Submitting readback 794 at frame 842 (will be ready at frame 845)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 8 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.2ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 14)
DeferredReadbackManager: advanced to frame 843
Processing readbacks: 3 pending, completed_frame: 843, frames_in_flight: 3
Checking readback 792: submitted frame 841, current frame 843, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 843
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 843, frames_in_flight: 3
Checking readback 792: submitted frame 841, current frame 843, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 30.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 844
Processing readbacks: 3 pending, completed_frame: 844, frames_in_flight: 3
Checking readback 792: submitted frame 841, current frame 844, 3 frames elapsed (need 3)
Readback 792 ready (submitted frame 841, current frame 844)
Checking readback 793: submitted frame 841, current frame 844, 3 frames elapsed (need 3)
Readback 793 ready (submitted frame 841, current frame 844)
Checking readback 794: submitted frame 842, current frame 844, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 300/512 completed
Minichunk 301/512 completed
Minichunk 302/512 completed
Minichunk 303/512 completed
Minichunk 304/512 completed
Minichunk 305/512 completed
Minichunk 306/512 completed
Minichunk 307/512 completed
Minichunk 308/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 309/512 completed
Minichunk 310/512 completed
Minichunk 311/512 completed
Minichunk 312/512 completed
Minichunk 313/512 completed
Minichunk 314/512 completed
Minichunk 315/512 completed
Minichunk 316/512 completed
Minichunk 317/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 844
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 844, frames_in_flight: 3
Checking readback 794: submitted frame 842, current frame 844, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [64, -128, 32] to [128, -64, 48]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff468, alignment: 0
Returning buffer pointer: 0x2bde57ff468 (aligned: true)
Created staging buffer at: 0x2bde57ff468
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10523009074537178155), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff168, alignment: 0
Returning buffer pointer: 0x2bde57ff168 (aligned: true)
Created staging buffer at: 0x2bde57ff168
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43db000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15976276686027105325), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff4a8, alignment: 0
Returning buffer pointer: 0x2bde57ff4a8 (aligned: true)
Created staging buffer at: 0x2bde57ff4a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439f000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15960371150819697711), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff2a8, alignment: 0
Returning buffer pointer: 0x2bde57ff2a8 (aligned: true)
Created staging buffer at: 0x2bde57ff2a8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43dc000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9387162985509692465), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.3e2,3.2e1] to [1.3e2,-6.4e1,4.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=8 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff2e8, alignment: 0
Returning buffer pointer: 0x2bde57ff2e8 (aligned: true)
Submitting readback 795 at frame 844 (will be ready at frame 847)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 7 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [64, -128, 32] to [128, -112, 40]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff068, alignment: 0
Returning buffer pointer: 0x2bde57ff068 (aligned: true)
Created staging buffer at: 0x2bde57ff068
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2467207335706108982), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff528, alignment: 0
Returning buffer pointer: 0x2bde57ff528 (aligned: true)
Created staging buffer at: 0x2bde57ff528
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14972943738379183160), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff028, alignment: 0
Returning buffer pointer: 0x2bde57ff028 (aligned: true)
Created staging buffer at: 0x2bde57ff028
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12727268204460647482), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff0e8, alignment: 0
Returning buffer pointer: 0x2bde57ff0e8 (aligned: true)
Created staging buffer at: 0x2bde57ff0e8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b6000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3899537834675020860), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.3e2,3.2e1] to [1.3e2,-1.1e2,4.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff5a8, alignment: 0
Returning buffer pointer: 0x2bde57ff5a8 (aligned: true)
Submitting readback 796 at frame 844 (will be ready at frame 847)
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.6ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 845
Processing readbacks: 3 pending, completed_frame: 845, frames_in_flight: 3
Checking readback 794: submitted frame 842, current frame 845, 3 frames elapsed (need 3)
Readback 794 ready (submitted frame 842, current frame 845)
Checking readback 795: submitted frame 844, current frame 845, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (10 minichunks, 20480 bytes)
Minichunk 318/512 completed
Minichunk 319/512 completed
Minichunk 320/512 completed
Minichunk 321/512 completed
Minichunk 322/512 completed
Minichunk 323/512 completed
Minichunk 324/512 completed
Minichunk 325/512 completed
Minichunk 326/512 completed
Minichunk 327/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 845
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 845, frames_in_flight: 3
Checking readback 795: submitted frame 844, current frame 845, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [64, -104, 24] to [128, -88, 32]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff0a8, alignment: 0
Returning buffer pointer: 0x2bde57ff0a8 (aligned: true)
Created staging buffer at: 0x2bde57ff0a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ba000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13372757396267476033), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff568, alignment: 0
Returning buffer pointer: 0x2bde57ff568 (aligned: true)
Created staging buffer at: 0x2bde57ff568
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d8000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13627001868004631619), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff128, alignment: 0
Returning buffer pointer: 0x2bde57ff128 (aligned: true)
Created staging buffer at: 0x2bde57ff128
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4390000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(334964018378712133), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff5e8, alignment: 0
Returning buffer pointer: 0x2bde57ff5e8 (aligned: true)
Created staging buffer at: 0x2bde57ff5e8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43df000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13254650056235033671), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.0e2,2.4e1] to [1.3e2,-8.8e1,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff4e8, alignment: 0
Returning buffer pointer: 0x2bde57ff4e8 (aligned: true)
Submitting readback 797 at frame 845 (will be ready at frame 848)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.3ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 846
Processing readbacks: 3 pending, completed_frame: 846, frames_in_flight: 3
Checking readback 795: submitted frame 844, current frame 846, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 846
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 846, frames_in_flight: 3
Checking readback 795: submitted frame 844, current frame 846, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 30.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 847
Processing readbacks: 3 pending, completed_frame: 847, frames_in_flight: 3
Checking readback 795: submitted frame 844, current frame 847, 3 frames elapsed (need 3)
Readback 795 ready (submitted frame 844, current frame 847)
Checking readback 796: submitted frame 844, current frame 847, 3 frames elapsed (need 3)
Readback 796 ready (submitted frame 844, current frame 847)
Checking readback 797: submitted frame 845, current frame 847, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 328/512 completed
Minichunk 329/512 completed
Minichunk 330/512 completed
Minichunk 331/512 completed
Minichunk 332/512 completed
Minichunk 333/512 completed
Minichunk 334/512 completed
Minichunk 335/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 336/512 completed
Minichunk 337/512 completed
Minichunk 338/512 completed
Minichunk 339/512 completed
Minichunk 340/512 completed
Minichunk 341/512 completed
Minichunk 342/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 847
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 847, frames_in_flight: 3
Checking readback 797: submitted frame 845, current frame 847, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 8 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [64, -80, 24] to [128, -64, 32]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff6a8, alignment: 0
Returning buffer pointer: 0x2bde57ff6a8 (aligned: true)
Created staging buffer at: 0x2bde57ff6a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5757958776221082700), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff5a8, alignment: 0
Returning buffer pointer: 0x2bde57ff5a8 (aligned: true)
Created staging buffer at: 0x2bde57ff5a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1387921224323048526), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff328, alignment: 0
Returning buffer pointer: 0x2bde57ff328 (aligned: true)
Created staging buffer at: 0x2bde57ff328
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12140716134437495888), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff628, alignment: 0
Returning buffer pointer: 0x2bde57ff628 (aligned: true)
Created staging buffer at: 0x2bde57ff628
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e9000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4734953366528992338), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-8.0e1,2.4e1] to [1.3e2,-6.4e1,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff1a8, alignment: 0
Returning buffer pointer: 0x2bde57ff1a8 (aligned: true)
Submitting readback 798 at frame 847 (will be ready at frame 850)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 1
Overall bounds: [64, -128, 24] to [128, -112, 32]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff668, alignment: 0
Returning buffer pointer: 0x2bde57ff668 (aligned: true)
Created staging buffer at: 0x2bde57ff668
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ed000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6999239234259264599), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff228, alignment: 0
Returning buffer pointer: 0x2bde57ff228 (aligned: true)
Created staging buffer at: 0x2bde57ff228
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ee000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11166953452506981465), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff268, alignment: 0
Returning buffer pointer: 0x2bde57ff268 (aligned: true)
Created staging buffer at: 0x2bde57ff268
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4395000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6057146885255210075), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff2e8, alignment: 0
Returning buffer pointer: 0x2bde57ff2e8 (aligned: true)
Created staging buffer at: 0x2bde57ff2e8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4396000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6009227969493476445), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.3e2,2.4e1] to [1.3e2,-1.1e2,3.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff428, alignment: 0
Returning buffer pointer: 0x2bde57ff428 (aligned: true)
Submitting readback 799 at frame 847 (will be ready at frame 850)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 8 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 36.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 848
Processing readbacks: 3 pending, completed_frame: 848, frames_in_flight: 3
Checking readback 797: submitted frame 845, current frame 848, 3 frames elapsed (need 3)
Readback 797 ready (submitted frame 845, current frame 848)
Checking readback 798: submitted frame 847, current frame 848, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 343/512 completed
Minichunk 344/512 completed
Minichunk 345/512 completed
Minichunk 346/512 completed
Minichunk 347/512 completed
Minichunk 348/512 completed
Minichunk 349/512 completed
Minichunk 350/512 completed
Minichunk 351/512 completed
Minichunk 352/512 completed
Minichunk 353/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 848
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 848, frames_in_flight: 3
Checking readback 798: submitted frame 847, current frame 848, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [64, -80, 16] to [128, -64, 24]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff368, alignment: 0
Returning buffer pointer: 0x2bde57ff368 (aligned: true)
Created staging buffer at: 0x2bde57ff368
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8317442625288283234), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff4e8, alignment: 0
Returning buffer pointer: 0x2bde57ff4e8 (aligned: true)
Created staging buffer at: 0x2bde57ff4e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7373175442284487780), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffa78, alignment: 0
Returning buffer pointer: 0x2bde57ffa78 (aligned: true)
Created staging buffer at: 0x2bde57ffa78
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4745415219667280998), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffc78, alignment: 0
Returning buffer pointer: 0x2bde57ffc78 (aligned: true)
Created staging buffer at: 0x2bde57ffc78
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c2000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8854573846666159208), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-8.0e1,1.6e1] to [1.3e2,-6.4e1,2.4e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffab8, alignment: 0
Returning buffer pointer: 0x2bde57ffab8 (aligned: true)
Submitting readback 800 at frame 848 (will be ready at frame 851)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.7ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 12)
DeferredReadbackManager: advanced to frame 849
Processing readbacks: 3 pending, completed_frame: 849, frames_in_flight: 3
Checking readback 798: submitted frame 847, current frame 849, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 849
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0°, Pitch: 0.0°, Roll: -45.0°]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 849, frames_in_flight: 3
Checking readback 798: submitted frame 847, current frame 849, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 30.8ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 850
Processing readbacks: 3 pending, completed_frame: 850, frames_in_flight: 3
Checking readback 798: submitted frame 847, current frame 850, 3 frames elapsed (need 3)
Readback 798 ready (submitted frame 847, current frame 850)
Checking readback 799: submitted frame 847, current frame 850, 3 frames elapsed (need 3)
Readback 799 ready (submitted frame 847, current frame 850)
Checking readback 800: submitted frame 848, current frame 850, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 354/512 completed
Minichunk 355/512 completed
Minichunk 356/512 completed
Minichunk 357/512 completed
Minichunk 358/512 completed
Minichunk 359/512 completed
Minichunk 360/512 completed
Minichunk 361/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 362/512 completed
Minichunk 363/512 completed
Minichunk 364/512 completed
Minichunk 365/512 completed
Minichunk 366/512 completed
Minichunk 367/512 completed
Minichunk 368/512 completed
Minichunk 369/512 completed
Minichunk 370/512 completed
Minichunk 371/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 850
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 850, frames_in_flight: 3
Checking readback 800: submitted frame 848, current frame 850, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 7 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 0
Overall bounds: [64, -96, 24] to [128, -80, 32]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffcf8, alignment: 0
Returning buffer pointer: 0x2bde57ffcf8 (aligned: true)
Created staging buffer at: 0x2bde57ffcf8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8708098007125468269), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff7b8, alignment: 0
Returning buffer pointer: 0x2bde57ff7b8 (aligned: true)
Created staging buffer at: 0x2bde57ff7b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8515493256753063023), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffbf8, alignment: 0
Returning buffer pointer: 0x2bde57ffbf8 (aligned: true)
Created staging buffer at: 0x2bde57ffbf8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7748348600890958961), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffe38, alignment: 0
Returning buffer pointer: 0x2bde57ffe38 (aligned: true)
Created staging buffer at: 0x2bde57ffe38
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43be000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(952995106305090675), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-9.6e1,2.4e1] to [1.3e2,-8.0e1,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffa38, alignment: 0
Returning buffer pointer: 0x2bde57ffa38 (aligned: true)
Submitting readback 801 at frame 850 (will be ready at frame 853)
Successfully queued 7 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 1
Overall bounds: [64, -96, 16] to [128, -80, 24]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffe78, alignment: 0
Returning buffer pointer: 0x2bde57ffe78 (aligned: true)
Created staging buffer at: 0x2bde57ffe78
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7255671734135694456), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffeb8, alignment: 0
Returning buffer pointer: 0x2bde57ffeb8 (aligned: true)
Created staging buffer at: 0x2bde57ffeb8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ca000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5041939212027307130), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff778, alignment: 0
Returning buffer pointer: 0x2bde57ff778 (aligned: true)
Created staging buffer at: 0x2bde57ff778
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1784471087996740732), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff7f8, alignment: 0
Returning buffer pointer: 0x2bde57ff7f8 (aligned: true)
Created staging buffer at: 0x2bde57ff7f8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f3000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11480859624190518398), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-9.6e1,1.6e1] to [1.3e2,-8.0e1,2.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffbb8, alignment: 0
Returning buffer pointer: 0x2bde57ffbb8 (aligned: true)
Submitting readback 802 at frame 850 (will be ready at frame 853)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 36.5ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 851
Processing readbacks: 3 pending, completed_frame: 851, frames_in_flight: 3
Checking readback 800: submitted frame 848, current frame 851, 3 frames elapsed (need 3)
Readback 800 ready (submitted frame 848, current frame 851)
Checking readback 801: submitted frame 850, current frame 851, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 372/512 completed
Minichunk 373/512 completed
Minichunk 374/512 completed
Minichunk 375/512 completed
Minichunk 376/512 completed
Minichunk 377/512 completed
Minichunk 378/512 completed
Minichunk 379/512 completed
Minichunk 380/512 completed
Minichunk 381/512 completed
Minichunk 382/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 851
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 851, frames_in_flight: 3
Checking readback 801: submitted frame 850, current frame 851, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 8 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [64, -112, 24] to [128, -104, 32]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffaf8, alignment: 0
Returning buffer pointer: 0x2bde57ffaf8 (aligned: true)
Created staging buffer at: 0x2bde57ffaf8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cd000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5786149154845631619), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffcb8, alignment: 0
Returning buffer pointer: 0x2bde57ffcb8 (aligned: true)
Created staging buffer at: 0x2bde57ffcb8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3145419093067179141), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffd38, alignment: 0
Returning buffer pointer: 0x2bde57ffd38 (aligned: true)
Created staging buffer at: 0x2bde57ffd38
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43dd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10166880556835415175), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffd78, alignment: 0
Returning buffer pointer: 0x2bde57ffd78 (aligned: true)
Created staging buffer at: 0x2bde57ffd78
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b3000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3284885545980798089), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.1e2,2.4e1] to [1.3e2,-1.0e2,3.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff838, alignment: 0
Returning buffer pointer: 0x2bde57ff838 (aligned: true)
Submitting readback 803 at frame 851 (will be ready at frame 854)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 36.9ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 16)
DeferredReadbackManager: advanced to frame 852
Processing readbacks: 3 pending, completed_frame: 852, frames_in_flight: 3
Checking readback 801: submitted frame 850, current frame 852, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 852
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 852, frames_in_flight: 3
Checking readback 801: submitted frame 850, current frame 852, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 31.7ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 4)
DeferredReadbackManager: advanced to frame 853
Processing readbacks: 3 pending, completed_frame: 853, frames_in_flight: 3
Checking readback 801: submitted frame 850, current frame 853, 3 frames elapsed (need 3)
Readback 801 ready (submitted frame 850, current frame 853)
Checking readback 802: submitted frame 850, current frame 853, 3 frames elapsed (need 3)
Readback 802 ready (submitted frame 850, current frame 853)
Checking readback 803: submitted frame 851, current frame 853, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 383/512 completed
Minichunk 384/512 completed
Minichunk 385/512 completed
Minichunk 386/512 completed
Minichunk 387/512 completed
Minichunk 388/512 completed
Minichunk 389/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (11 minichunks, 22528 bytes)
Minichunk 390/512 completed
Minichunk 391/512 completed
Minichunk 392/512 completed
Minichunk 393/512 completed
Minichunk 394/512 completed
Minichunk 395/512 completed
Minichunk 396/512 completed
Minichunk 397/512 completed
Minichunk 398/512 completed
Minichunk 399/512 completed
Minichunk 400/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 853
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 853, frames_in_flight: 3
Checking readback 803: submitted frame 851, current frame 853, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 7 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 0
Overall bounds: [64, -128, 16] to [128, -64, 32]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff9b8, alignment: 0
Returning buffer pointer: 0x2bde57ff9b8 (aligned: true)
Created staging buffer at: 0x2bde57ff9b8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4908400226299028622), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffab8, alignment: 0
Returning buffer pointer: 0x2bde57ffab8 (aligned: true)
Created staging buffer at: 0x2bde57ffab8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ea000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13448938158909564048), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffb78, alignment: 0
Returning buffer pointer: 0x2bde57ffb78 (aligned: true)
Created staging buffer at: 0x2bde57ffb78
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4572182764664661138), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff878, alignment: 0
Returning buffer pointer: 0x2bde57ff878 (aligned: true)
Created staging buffer at: 0x2bde57ff878
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a5000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13274815099488445588), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.3e2,1.6e1] to [1.3e2,-6.4e1,3.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=7 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff8b8, alignment: 0
Returning buffer pointer: 0x2bde57ff8b8 (aligned: true)
Submitting readback 804 at frame 853 (will be ready at frame 856)
Successfully queued 7 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 12 minichunks in workspace 1
Overall bounds: [64, -112, 16] to [128, -96, 24]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff938, alignment: 0
Returning buffer pointer: 0x2bde57ff938 (aligned: true)
Created staging buffer at: 0x2bde57ff938
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12375947851107148953), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff978, alignment: 0
Returning buffer pointer: 0x2bde57ff978 (aligned: true)
Created staging buffer at: 0x2bde57ff978
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1080460389801534619), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff9f8, alignment: 0
Returning buffer pointer: 0x2bde57ff9f8 (aligned: true)
Created staging buffer at: 0x2bde57ff9f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4397000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12517718880392586397), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffa38, alignment: 0
Returning buffer pointer: 0x2bde57ffa38 (aligned: true)
Created staging buffer at: 0x2bde57ffa38
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4398000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15279988957505397919), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.1e2,1.6e1] to [1.3e2,-9.6e1,2.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffb38, alignment: 0
Returning buffer pointer: 0x2bde57ffb38 (aligned: true)
Submitting readback 805 at frame 853 (will be ready at frame 856)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 37.5ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 16)
DeferredReadbackManager: advanced to frame 854
Processing readbacks: 3 pending, completed_frame: 854, frames_in_flight: 3
Checking readback 803: submitted frame 851, current frame 854, 3 frames elapsed (need 3)
Readback 803 ready (submitted frame 851, current frame 854)
Checking readback 804: submitted frame 853, current frame 854, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 401/512 completed
Minichunk 402/512 completed
Minichunk 403/512 completed
Minichunk 404/512 completed
Minichunk 405/512 completed
Minichunk 406/512 completed
Minichunk 407/512 completed
Minichunk 408/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 854
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 854, frames_in_flight: 3
Checking readback 804: submitted frame 853, current frame 854, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 13 minichunks in workspace 2
Overall bounds: [64, -88, 8] to [128, -64, 16]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffbb8, alignment: 0
Returning buffer pointer: 0x2bde57ffbb8 (aligned: true)
Created staging buffer at: 0x2bde57ffbb8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4393000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2055486410592363684), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff8f8, alignment: 0
Returning buffer pointer: 0x2bde57ff8f8 (aligned: true)
Created staging buffer at: 0x2bde57ff8f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11462046980239271078), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffc38, alignment: 0
Returning buffer pointer: 0x2bde57ffc38 (aligned: true)
Created staging buffer at: 0x2bde57ffc38
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15842257213717488808), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 832, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda298, alignment: 0
Returning buffer pointer: 0x2bd92bda298 (aligned: true)
Created staging buffer at: 0x2bd92bda298
Staging buffer cast successful
About to map memory for staging buffer - size: 832
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c6000
About to memcpy 832 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16196425302186927274), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-8.8e1,8.0e0] to [1.3e2,-6.4e1,1.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 13
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x3x1 workgroups for 64x24x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=3, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=13 (of 24 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=13, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bd92bda098, alignment: 0
Returning buffer pointer: 0x2bd92bda098 (aligned: true)
Submitting readback 806 at frame 854 (will be ready at frame 857)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 13 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 37.2ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 12)
DeferredReadbackManager: advanced to frame 855
Processing readbacks: 3 pending, completed_frame: 855, frames_in_flight: 3
Checking readback 804: submitted frame 853, current frame 855, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 855
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 855, frames_in_flight: 3
Checking readback 804: submitted frame 853, current frame 855, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 856
Processing readbacks: 3 pending, completed_frame: 856, frames_in_flight: 3
Checking readback 804: submitted frame 853, current frame 856, 3 frames elapsed (need 3)
Readback 804 ready (submitted frame 853, current frame 856)
Checking readback 805: submitted frame 853, current frame 856, 3 frames elapsed (need 3)
Readback 805 ready (submitted frame 853, current frame 856)
Checking readback 806: submitted frame 854, current frame 856, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 409/512 completed
Minichunk 410/512 completed
Minichunk 411/512 completed
Minichunk 412/512 completed
Minichunk 413/512 completed
Minichunk 414/512 completed
Minichunk 415/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (12 minichunks, 24576 bytes)
Minichunk 416/512 completed
Minichunk 417/512 completed
Minichunk 418/512 completed
Minichunk 419/512 completed
Minichunk 420/512 completed
Minichunk 421/512 completed
Minichunk 422/512 completed
Minichunk 423/512 completed
Minichunk 424/512 completed
Minichunk 425/512 completed
Minichunk 426/512 completed
Minichunk 427/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 856
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 856, frames_in_flight: 3
Checking readback 806: submitted frame 854, current frame 856, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 7 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 0
Overall bounds: [64, -88, 16] to [128, -72, 24]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda2d8, alignment: 0
Returning buffer pointer: 0x2bd92bda2d8 (aligned: true)
Created staging buffer at: 0x2bd92bda2d8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9285540623312495791), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda198, alignment: 0
Returning buffer pointer: 0x2bd92bda198 (aligned: true)
Created staging buffer at: 0x2bd92bda198
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4394000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16813459133066912945), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda1d8, alignment: 0
Returning buffer pointer: 0x2bd92bda1d8 (aligned: true)
Created staging buffer at: 0x2bd92bda1d8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17469456357500396723), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda218, alignment: 0
Returning buffer pointer: 0x2bd92bda218 (aligned: true)
Created staging buffer at: 0x2bd92bda218
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c2000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17633971884318008501), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-8.8e1,1.6e1] to [1.3e2,-7.2e1,2.4e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bd92bda018, alignment: 0
Returning buffer pointer: 0x2bd92bda018 (aligned: true)
Submitting readback 807 at frame 856 (will be ready at frame 859)
Successfully queued 7 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 6 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [64, -104, 16] to [128, -88, 24]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda258, alignment: 0
Returning buffer pointer: 0x2bd92bda258 (aligned: true)
Created staging buffer at: 0x2bd92bda258
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bb000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18388429275507205306), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda118, alignment: 0
Returning buffer pointer: 0x2bd92bda118 (aligned: true)
Created staging buffer at: 0x2bd92bda118
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18124020918282888380), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda318, alignment: 0
Returning buffer pointer: 0x2bd92bda318 (aligned: true)
Created staging buffer at: 0x2bd92bda318
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16590125231721424062), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda058, alignment: 0
Returning buffer pointer: 0x2bd92bda058 (aligned: true)
Created staging buffer at: 0x2bd92bda058
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bf000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(680721942407292096), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.0e2,1.6e1] to [1.3e2,-8.8e1,2.4e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=6 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bd92bda0d8, alignment: 0
Returning buffer pointer: 0x2bd92bda0d8 (aligned: true)
Submitting readback 808 at frame 856 (will be ready at frame 859)
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 36.9ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 857
Processing readbacks: 3 pending, completed_frame: 857, frames_in_flight: 3
Checking readback 806: submitted frame 854, current frame 857, 3 frames elapsed (need 3)
Readback 806 ready (submitted frame 854, current frame 857)
Checking readback 807: submitted frame 856, current frame 857, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (13 minichunks, 26624 bytes)
Minichunk 428/512 completed
Minichunk 429/512 completed
Minichunk 430/512 completed
Minichunk 431/512 completed
Minichunk 432/512 completed
Minichunk 433/512 completed
Minichunk 434/512 completed
Minichunk 435/512 completed
Minichunk 436/512 completed
Minichunk 437/512 completed
Minichunk 438/512 completed
Minichunk 439/512 completed
Minichunk 440/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 857
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 857, frames_in_flight: 3
Checking readback 807: submitted frame 856, current frame 857, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 5 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [72, -72, 8] to [112, -64, 16]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda098, alignment: 0
Returning buffer pointer: 0x2bd92bda098 (aligned: true)
Created staging buffer at: 0x2bd92bda098
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16823905593042412741), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1f08, alignment: 0
Returning buffer pointer: 0x2be056e1f08 (aligned: true)
Created staging buffer at: 0x2be056e1f08
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15006072023724074183), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e21c8, alignment: 0
Returning buffer pointer: 0x2be056e21c8 (aligned: true)
Created staging buffer at: 0x2be056e21c8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1645503813362132169), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2348, alignment: 0
Returning buffer pointer: 0x2be056e2348 (aligned: true)
Created staging buffer at: 0x2be056e2348
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35ca000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16365028813236610251), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-7.2e1,8.0e0] to [1.1e2,-6.4e1,1.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2248, alignment: 0
Returning buffer pointer: 0x2be056e2248 (aligned: true)
Submitting readback 809 at frame 857 (will be ready at frame 860)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 36.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 8)
DeferredReadbackManager: advanced to frame 858
Processing readbacks: 3 pending, completed_frame: 858, frames_in_flight: 3
Checking readback 807: submitted frame 856, current frame 858, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 858
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 858, frames_in_flight: 3
Checking readback 807: submitted frame 856, current frame 858, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 30.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 859
Processing readbacks: 3 pending, completed_frame: 859, frames_in_flight: 3
Checking readback 807: submitted frame 856, current frame 859, 3 frames elapsed (need 3)
Readback 807 ready (submitted frame 856, current frame 859)
Checking readback 808: submitted frame 856, current frame 859, 3 frames elapsed (need 3)
Readback 808 ready (submitted frame 856, current frame 859)
Checking readback 809: submitted frame 857, current frame 859, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 441/512 completed
Minichunk 442/512 completed
Minichunk 443/512 completed
Minichunk 444/512 completed
Minichunk 445/512 completed
Minichunk 446/512 completed
Minichunk 447/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 448/512 completed
Minichunk 449/512 completed
Minichunk 450/512 completed
Minichunk 451/512 completed
Minichunk 452/512 completed
Minichunk 453/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 859
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 859, frames_in_flight: 3
Checking readback 809: submitted frame 857, current frame 859, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [64, -104, 8] to [128, -88, 16]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2108, alignment: 0
Returning buffer pointer: 0x2be056e2108 (aligned: true)
Created staging buffer at: 0x2be056e2108
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43eb000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14097665412460192976), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e08, alignment: 0
Returning buffer pointer: 0x2be056e1e08 (aligned: true)
Created staging buffer at: 0x2be056e1e08
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2601508282992436434), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1f48, alignment: 0
Returning buffer pointer: 0x2be056e1f48 (aligned: true)
Created staging buffer at: 0x2be056e1f48
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9985566691368641748), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2088, alignment: 0
Returning buffer pointer: 0x2be056e2088 (aligned: true)
Created staging buffer at: 0x2be056e2088
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ec000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15072050417972028630), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.0e2,8.0e0] to [1.3e2,-8.8e1,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2408, alignment: 0
Returning buffer pointer: 0x2be056e2408 (aligned: true)
Submitting readback 810 at frame 859 (will be ready at frame 862)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 1
Overall bounds: [64, -96, 8] to [128, -80, 16]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1f88, alignment: 0
Returning buffer pointer: 0x2be056e1f88 (aligned: true)
Created staging buffer at: 0x2be056e1f88
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cf000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3576653051039065307), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2008, alignment: 0
Returning buffer pointer: 0x2be056e2008 (aligned: true)
Created staging buffer at: 0x2be056e2008
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d0000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13327727997063537885), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e20c8, alignment: 0
Returning buffer pointer: 0x2be056e20c8 (aligned: true)
Created staging buffer at: 0x2be056e20c8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4399000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2539933432813724895), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2148, alignment: 0
Returning buffer pointer: 0x2be056e2148 (aligned: true)
Created staging buffer at: 0x2be056e2148
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d9000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4566999666851325153), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-9.6e1,8.0e0] to [1.3e2,-8.0e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2508, alignment: 0
Returning buffer pointer: 0x2be056e2508 (aligned: true)
Submitting readback 811 at frame 859 (will be ready at frame 862)
Successfully queued 18 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 36.1ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 860
Processing readbacks: 3 pending, completed_frame: 860, frames_in_flight: 3
Checking readback 809: submitted frame 857, current frame 860, 3 frames elapsed (need 3)
Readback 809 ready (submitted frame 857, current frame 860)
Checking readback 810: submitted frame 859, current frame 860, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 454/512 completed
Minichunk 455/512 completed
Minichunk 456/512 completed
Minichunk 457/512 completed
Minichunk 458/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 860
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 860, frames_in_flight: 3
Checking readback 810: submitted frame 859, current frame 860, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [64, -96, 0] to [128, -80, 8]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e48, alignment: 0
Returning buffer pointer: 0x2be056e1e48 (aligned: true)
Created staging buffer at: 0x2be056e1e48
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43da000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11995479444501308646), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2248, alignment: 0
Returning buffer pointer: 0x2be056e2248 (aligned: true)
Created staging buffer at: 0x2be056e2248
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3796902822268642536), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2488, alignment: 0
Returning buffer pointer: 0x2be056e2488 (aligned: true)
Created staging buffer at: 0x2be056e2488
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4391000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5551598035873572074), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e88, alignment: 0
Returning buffer pointer: 0x2be056e1e88 (aligned: true)
Created staging buffer at: 0x2be056e1e88
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4392000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12582154659826771180), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-9.6e1,0.0e0] to [1.3e2,-8.0e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2308, alignment: 0
Returning buffer pointer: 0x2be056e2308 (aligned: true)
Submitting readback 812 at frame 860 (will be ready at frame 863)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.6ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 861
Processing readbacks: 3 pending, completed_frame: 861, frames_in_flight: 3
Checking readback 810: submitted frame 859, current frame 861, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 861
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 861, frames_in_flight: 3
Checking readback 810: submitted frame 859, current frame 861, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 30.5ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 862
Processing readbacks: 3 pending, completed_frame: 862, frames_in_flight: 3
Checking readback 810: submitted frame 859, current frame 862, 3 frames elapsed (need 3)
Readback 810 ready (submitted frame 859, current frame 862)
Checking readback 811: submitted frame 859, current frame 862, 3 frames elapsed (need 3)
Readback 811 ready (submitted frame 859, current frame 862)
Checking readback 812: submitted frame 860, current frame 862, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 459/512 completed
Minichunk 460/512 completed
Minichunk 461/512 completed
Minichunk 462/512 completed
Minichunk 463/512 completed
Minichunk 464/512 completed
Minichunk 465/512 completed
Minichunk 466/512 completed
Minichunk 467/512 completed
Minichunk 468/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 469/512 completed
Minichunk 470/512 completed
Minichunk 471/512 completed
Minichunk 472/512 completed
Minichunk 473/512 completed
Minichunk 474/512 completed
Minichunk 475/512 completed
Minichunk 476/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 862
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 862, frames_in_flight: 3
Checking readback 812: submitted frame 860, current frame 862, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 18 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [64, -120, 8] to [128, -104, 16]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1fc8, alignment: 0
Returning buffer pointer: 0x2be056e1fc8 (aligned: true)
Created staging buffer at: 0x2be056e1fc8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(437744166319957233), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2048, alignment: 0
Returning buffer pointer: 0x2be056e2048 (aligned: true)
Created staging buffer at: 0x2be056e2048
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11770505071807177971), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2188, alignment: 0
Returning buffer pointer: 0x2be056e2188 (aligned: true)
Created staging buffer at: 0x2be056e2188
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6865651870019364085), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1ec8, alignment: 0
Returning buffer pointer: 0x2be056e1ec8 (aligned: true)
Created staging buffer at: 0x2be056e1ec8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c4000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1310142871285802231), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.2e2,8.0e0] to [1.3e2,-1.0e2,1.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2208, alignment: 0
Returning buffer pointer: 0x2be056e2208 (aligned: true)
Submitting readback 813 at frame 862 (will be ready at frame 865)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 1
Overall bounds: [64, -112, 8] to [128, -96, 16]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2288, alignment: 0
Returning buffer pointer: 0x2be056e2288 (aligned: true)
Created staging buffer at: 0x2be056e2288
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10580989621204690172), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e22c8, alignment: 0
Returning buffer pointer: 0x2be056e22c8 (aligned: true)
Created staging buffer at: 0x2be056e22c8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5615329028354352382), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2388, alignment: 0
Returning buffer pointer: 0x2be056e2388 (aligned: true)
Created staging buffer at: 0x2be056e2388
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7835038495671330048), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e23c8, alignment: 0
Returning buffer pointer: 0x2be056e23c8 (aligned: true)
Created staging buffer at: 0x2be056e23c8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c4000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9399263110973367554), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.1e2,8.0e0] to [1.3e2,-9.6e1,1.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2448, alignment: 0
Returning buffer pointer: 0x2be056e2448 (aligned: true)
Submitting readback 814 at frame 862 (will be ready at frame 865)
Successfully queued 18 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 36.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 863
Processing readbacks: 3 pending, completed_frame: 863, frames_in_flight: 3
Checking readback 812: submitted frame 860, current frame 863, 3 frames elapsed (need 3)
Readback 812 ready (submitted frame 860, current frame 863)
Checking readback 813: submitted frame 862, current frame 863, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 477/512 completed
Minichunk 478/512 completed
Minichunk 479/512 completed
Minichunk 480/512 completed
Minichunk 481/512 completed
Minichunk 482/512 completed
Minichunk 483/512 completed
Minichunk 484/512 completed
Minichunk 485/512 completed
Minichunk 486/512 completed
Minichunk 487/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 863
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 863, frames_in_flight: 3
Checking readback 813: submitted frame 862, current frame 863, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -2, 0) with 7 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [64, -88, 0] to [128, -72, 8]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2308, alignment: 0
Returning buffer pointer: 0x2be056e2308 (aligned: true)
Created staging buffer at: 0x2be056e2308
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7167620643960136967), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2408, alignment: 0
Returning buffer pointer: 0x2be056e2408 (aligned: true)
Created staging buffer at: 0x2be056e2408
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9161947819769079049), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e24c8, alignment: 0
Returning buffer pointer: 0x2be056e24c8 (aligned: true)
Created staging buffer at: 0x2be056e24c8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8127876925055051019), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2508, alignment: 0
Returning buffer pointer: 0x2be056e2508 (aligned: true)
Created staging buffer at: 0x2be056e2508
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d1000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8779427724465808653), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-8.8e1,0.0e0] to [1.3e2,-7.2e1,8.0e0]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e1dc8, alignment: 0
Returning buffer pointer: 0x2be056e1dc8 (aligned: true)
Submitting readback 815 at frame 863 (will be ready at frame 866)
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.9ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 13)
DeferredReadbackManager: advanced to frame 864
Processing readbacks: 3 pending, completed_frame: 864, frames_in_flight: 3
Checking readback 813: submitted frame 862, current frame 864, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 864
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 864, frames_in_flight: 3
Checking readback 813: submitted frame 862, current frame 864, 2 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 30.6ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 865
Processing readbacks: 3 pending, completed_frame: 865, frames_in_flight: 3
Checking readback 813: submitted frame 862, current frame 865, 3 frames elapsed (need 3)
Readback 813 ready (submitted frame 862, current frame 865)
Checking readback 814: submitted frame 862, current frame 865, 3 frames elapsed (need 3)
Readback 814 ready (submitted frame 862, current frame 865)
Checking readback 815: submitted frame 863, current frame 865, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 488/512 completed
Minichunk 489/512 completed
Minichunk 490/512 completed
Minichunk 491/512 completed
Minichunk 492/512 completed
Minichunk 493/512 completed
Minichunk 494/512 completed
Minichunk 495/512 completed
Minichunk 496/512 completed
Minichunk 497/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 498/512 completed
Minichunk 499/512 completed
Minichunk 500/512 completed
Minichunk 501/512 completed
Minichunk 502/512 completed
Minichunk 503/512 completed
Minichunk 504/512 completed
Minichunk 505/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 865
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 865, frames_in_flight: 3
Checking readback 815: submitted frame 863, current frame 865, 2 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 26.5ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 866
Processing readbacks: 1 pending, completed_frame: 866, frames_in_flight: 3
Checking readback 815: submitted frame 863, current frame 866, 3 frames elapsed (need 3)
Readback 815 ready (submitted frame 863, current frame 866)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 506/512 completed
Minichunk 507/512 completed
Minichunk 508/512 completed
Minichunk 509/512 completed
Minichunk 510/512 completed
Minichunk 511/512 completed
Minichunk 512/512 completed
Chunk ChunkId(1, -2, 0) complete! All 512 minichunks processed
GPU generation completed successfully
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 3/3
GPU generation completed successfully. Voxel count: 262144
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Non-empty voxels: 0
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 22.4ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 867
Processing 0 completed readbacks
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
GPU pipeline worker: Processing request 25 with priority 7
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
GPU generation thread spawned for bounds: [64.0,-64.0,64.0] to [128.0,0.0,128.0]
No effective draws to render
Submitting command buffer with wait semaphore: GPU generation: starting for 262144 voxels
vk.Semaphore(15941205563635925013), signal semaphore: vk.SemaphoreGPU generation: waiting for result...
(15607181627698970646)
Frame time: 18.4ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 868
Processing 0 completed readbacks
queue_generation_blocking returned: true
Async generation completed for chunk ChunkId(1, -2, 0)
Sending result for chunk ChunkId(1, -2, 0) through channel
Result sent successfully for chunk ChunkId(1, -2, 0)
get_chunks_for_rendering called - active chunks: 13, pending meshes: 0
Checking 13 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing 0 completed readbacks
Main thread: Execute GPU worldgen for bounds [64.0,-64.0,64.0] to [128.0,0.0,128.0]
Processing chunk ChunkId(1, -1, 1) as minichunks
Creating ChunkAccumulator: 262144 voxels, 512 minichunks (8 per axis)
Queuing 512 minichunks for chunk ChunkId(1, -1, 1)
Processing 512 minichunks in 32 batches of up to 16 each (frames_in_flight: 3)
PID controller: Processing 8 minichunks per workspace (workgroup budget: 8)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 2/3
Processing 8 minichunks in workspace 0
Overall bounds: [64, -64, 64] to [128, -56, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2448, alignment: 0
Returning buffer pointer: 0x2be056e2448 (aligned: true)
Created staging buffer at: 0x2be056e2448
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5318280568947877138), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1dc8, alignment: 0
Returning buffer pointer: 0x2be056e1dc8 (aligned: true)
Created staging buffer at: 0x2be056e1dc8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7879066239782364436), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea18, alignment: 0
Returning buffer pointer: 0x2bde57fea18 (aligned: true)
Created staging buffer at: 0x2bde57fea18
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ce000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(293423369569707286), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb18, alignment: 0
Returning buffer pointer: 0x2bde57feb18 (aligned: true)
Created staging buffer at: 0x2bde57feb18
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bc000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6308695354481059096), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,6.4e1] to [1.3e2,-5.6e1,7.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fedd8, alignment: 0
Returning buffer pointer: 0x2bde57fedd8 (aligned: true)
Submitting readback 816 at frame 868 (will be ready at frame 871)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [64, -56, 64] to [128, -48, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb58, alignment: 0
Returning buffer pointer: 0x2bde57feb58 (aligned: true)
Created staging buffer at: 0x2bde57feb58
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6846694090533250333), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea98, alignment: 0
Returning buffer pointer: 0x2bde57fea98 (aligned: true)
Created staging buffer at: 0x2bde57fea98
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1364003547884037407), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe798, alignment: 0
Returning buffer pointer: 0x2bde57fe798 (aligned: true)
Created staging buffer at: 0x2bde57fe798
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10968371756925986081), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee98, alignment: 0
Returning buffer pointer: 0x2bde57fee98 (aligned: true)
Created staging buffer at: 0x2bde57fee98
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43af000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4719471143298278691), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-5.6e1,6.4e1] to [1.3e2,-4.8e1,7.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fec98, alignment: 0
Returning buffer pointer: 0x2bde57fec98 (aligned: true)
Submitting readback 817 at frame 868 (will be ready at frame 871)
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 24.5ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 869
Processing readbacks: 2 pending, completed_frame: 869, frames_in_flight: 3
Checking readback 816: submitted frame 868, current frame 869, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 869
Received generation result 1 for region RegionId(0, -1, 0)
Processing single chunk workspace for chunk ChunkId(1, -2, 0)
Chunk ChunkId(1, -2, 0) has 0 non-empty voxels out of 262144
Extracted 1 chunks from region RegionId(0, -1, 0)
  Chunk ChunkId(1, -2, 0): palette size 1, 32768 bytes compressed
Adding chunk ChunkId(1, -2, 0) to active_chunks (total: 14)
Decompressed 262144 voxels for chunk ChunkId(1, -2, 0)
Successfully sent chunk ChunkId(1, -2, 0) to mesh generation
Creating generation params for region RegionId(0, -1, 0)
Region RegionId(0, -1, 0) world bounds: min=[0,-256,0] max=[256,0,256]
Creating plane SDF with normal [0, 0, 1] and distance 0
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 869, frames_in_flight: 3
Checking readback 816: submitted frame 868, current frame 869, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 31 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [64, -48, 64] to [128, -32, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe758, alignment: 0
Returning buffer pointer: 0x2bde57fe758 (aligned: true)
Created staging buffer at: 0x2bde57fe758
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2411269681643005224), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea58, alignment: 0
Returning buffer pointer: 0x2bde57fea58 (aligned: true)
Created staging buffer at: 0x2bde57fea58
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43aa000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9961398326278497578), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fead8, alignment: 0
Returning buffer pointer: 0x2bde57fead8 (aligned: true)
Created staging buffer at: 0x2bde57fead8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4027072387404014892), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe918, alignment: 0
Returning buffer pointer: 0x2bde57fe918 (aligned: true)
Created staging buffer at: 0x2bde57fe918
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a7000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3677992838747923758), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.8e1,6.4e1] to [1.3e2,-3.2e1,7.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57feb98, alignment: 0
Returning buffer pointer: 0x2bde57feb98 (aligned: true)
Submitting readback 818 at frame 869 (will be ready at frame 872)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 50.0ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 870
Processing readbacks: 3 pending, completed_frame: 870, frames_in_flight: 3
Checking readback 816: submitted frame 868, current frame 870, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 870
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 870, frames_in_flight: 3
Checking readback 816: submitted frame 868, current frame 870, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 31 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 43.8ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 871
Processing readbacks: 3 pending, completed_frame: 871, frames_in_flight: 3
Checking readback 816: submitted frame 868, current frame 871, 3 frames elapsed (need 3)
Readback 816 ready (submitted frame 868, current frame 871)
Checking readback 817: submitted frame 868, current frame 871, 3 frames elapsed (need 3)
Readback 817 ready (submitted frame 868, current frame 871)
Checking readback 818: submitted frame 869, current frame 871, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 1/512 completed
Minichunk 2/512 completed
Minichunk 3/512 completed
Minichunk 4/512 completed
Minichunk 5/512 completed
Minichunk 6/512 completed
Minichunk 7/512 completed
Minichunk 8/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 9/512 completed
Minichunk 10/512 completed
Minichunk 11/512 completed
Minichunk 12/512 completed
Minichunk 13/512 completed
Minichunk 14/512 completed
Minichunk 15/512 completed
Minichunk 16/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 871
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 871, frames_in_flight: 3
Checking readback 818: submitted frame 869, current frame 871, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 31 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 0
Overall bounds: [64, -16, 64] to [128, 0, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57febd8, alignment: 0
Returning buffer pointer: 0x2bde57febd8 (aligned: true)
Created staging buffer at: 0x2bde57febd8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bd000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13597351337938396467), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe898, alignment: 0
Returning buffer pointer: 0x2bde57fe898 (aligned: true)
Created staging buffer at: 0x2bde57fe898
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2740986830533961013), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe818, alignment: 0
Returning buffer pointer: 0x2bde57fe818 (aligned: true)
Created staging buffer at: 0x2bde57fe818
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35be000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13951961430082200887), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec58, alignment: 0
Returning buffer pointer: 0x2bde57fec58 (aligned: true)
Created staging buffer at: 0x2bde57fec58
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e8000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12165512320667100473), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.6e1,6.4e1] to [1.3e2,0.0e0,7.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fe958, alignment: 0
Returning buffer pointer: 0x2bde57fe958 (aligned: true)
Submitting readback 819 at frame 871 (will be ready at frame 874)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [72, -8, 64] to [128, 0, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe8d8, alignment: 0
Returning buffer pointer: 0x2bde57fe8d8 (aligned: true)
Created staging buffer at: 0x2bde57fe8d8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(639346220342453566), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fed18, alignment: 0
Returning buffer pointer: 0x2bde57fed18 (aligned: true)
Created staging buffer at: 0x2bde57fed18
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bf000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15546958077310805312), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe858, alignment: 0
Returning buffer pointer: 0x2bde57fe858 (aligned: true)
Created staging buffer at: 0x2bde57fe858
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15792054612304864578), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec18, alignment: 0
Returning buffer pointer: 0x2bde57fec18 (aligned: true)
Created staging buffer at: 0x2bde57fec18
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a8000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2121793558817023300), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-8.0e0,6.4e1] to [1.3e2,0.0e0,7.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fec98, alignment: 0
Returning buffer pointer: 0x2bde57fec98 (aligned: true)
Submitting readback 820 at frame 871 (will be ready at frame 874)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 47.5ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 872
Processing readbacks: 3 pending, completed_frame: 872, frames_in_flight: 3
Checking readback 818: submitted frame 869, current frame 872, 3 frames elapsed (need 3)
Readback 818 ready (submitted frame 869, current frame 872)
Checking readback 819: submitted frame 871, current frame 872, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 17/512 completed
Minichunk 18/512 completed
Minichunk 19/512 completed
Minichunk 20/512 completed
Minichunk 21/512 completed
Minichunk 22/512 completed
Minichunk 23/512 completed
Minichunk 24/512 completed
Minichunk 25/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 872
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 872, frames_in_flight: 3
Checking readback 819: submitted frame 871, current frame 872, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 30 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 2
Overall bounds: [64, -16, 72] to [128, 0, 80]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee58, alignment: 0
Returning buffer pointer: 0x2bde57fee58 (aligned: true)
Created staging buffer at: 0x2bde57fee58
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16459395498202113353), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe9d8, alignment: 0
Returning buffer pointer: 0x2bde57fe9d8 (aligned: true)
Created staging buffer at: 0x2bde57fe9d8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43de000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14248764698395682123), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee18, alignment: 0
Returning buffer pointer: 0x2bde57fee18 (aligned: true)
Created staging buffer at: 0x2bde57fee18
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16930779222773867853), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe998, alignment: 0
Returning buffer pointer: 0x2bde57fe998 (aligned: true)
Created staging buffer at: 0x2bde57fe998
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439c000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10351580918115738959), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.6e1,7.2e1] to [1.3e2,0.0e0,8.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fed98, alignment: 0
Returning buffer pointer: 0x2bde57fed98 (aligned: true)
Submitting readback 821 at frame 872 (will be ready at frame 875)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 45.9ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 9)
DeferredReadbackManager: advanced to frame 873
Processing readbacks: 3 pending, completed_frame: 873, frames_in_flight: 3
Checking readback 819: submitted frame 871, current frame 873, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 873
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 873, frames_in_flight: 3
Checking readback 819: submitted frame 871, current frame 873, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 30 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 40.0ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 874
Processing readbacks: 3 pending, completed_frame: 874, frames_in_flight: 3
Checking readback 819: submitted frame 871, current frame 874, 3 frames elapsed (need 3)
Readback 819 ready (submitted frame 871, current frame 874)
Checking readback 820: submitted frame 871, current frame 874, 3 frames elapsed (need 3)
Readback 820 ready (submitted frame 871, current frame 874)
Checking readback 821: submitted frame 872, current frame 874, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 26/512 completed
Minichunk 27/512 completed
Minichunk 28/512 completed
Minichunk 29/512 completed
Minichunk 30/512 completed
Minichunk 31/512 completed
Minichunk 32/512 completed
Minichunk 33/512 completed
Minichunk 34/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 35/512 completed
Minichunk 36/512 completed
Minichunk 37/512 completed
Minichunk 38/512 completed
Minichunk 39/512 completed
Minichunk 40/512 completed
Minichunk 41/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 874
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 874, frames_in_flight: 3
Checking readback 821: submitted frame 872, current frame 874, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 30 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 0
Overall bounds: [64, -16, 88] to [128, -8, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe958, alignment: 0
Returning buffer pointer: 0x2bde57fe958 (aligned: true)
Created staging buffer at: 0x2bde57fe958
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17302925425869071700), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec98, alignment: 0
Returning buffer pointer: 0x2bde57fec98 (aligned: true)
Created staging buffer at: 0x2bde57fec98
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18108469425819624790), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fed58, alignment: 0
Returning buffer pointer: 0x2bde57fed58 (aligned: true)
Created staging buffer at: 0x2bde57fed58
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18254420798313866584), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fedd8, alignment: 0
Returning buffer pointer: 0x2bde57fedd8 (aligned: true)
Created staging buffer at: 0x2bde57fedd8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439f000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18168234479859017050), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.6e1,8.8e1] to [1.3e2,-8.0e0,9.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff168, alignment: 0
Returning buffer pointer: 0x2bde57ff168 (aligned: true)
Submitting readback 822 at frame 874 (will be ready at frame 877)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 1
Overall bounds: [64, -8, 88] to [128, 0, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff0e8, alignment: 0
Returning buffer pointer: 0x2bde57ff0e8 (aligned: true)
Created staging buffer at: 0x2bde57ff0e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14256747152813335903), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff3a8, alignment: 0
Returning buffer pointer: 0x2bde57ff3a8 (aligned: true)
Created staging buffer at: 0x2bde57ff3a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17082612982476711265), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff428, alignment: 0
Returning buffer pointer: 0x2bde57ff428 (aligned: true)
Created staging buffer at: 0x2bde57ff428
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17261910343618143587), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff468, alignment: 0
Returning buffer pointer: 0x2bde57ff468 (aligned: true)
Created staging buffer at: 0x2bde57ff468
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43db000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14440614084279805285), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-8.0e0,8.8e1] to [1.3e2,0.0e0,9.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff068, alignment: 0
Returning buffer pointer: 0x2bde57ff068 (aligned: true)
Submitting readback 823 at frame 874 (will be ready at frame 877)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 44.1ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 875
Processing readbacks: 3 pending, completed_frame: 875, frames_in_flight: 3
Checking readback 821: submitted frame 872, current frame 875, 3 frames elapsed (need 3)
Readback 821 ready (submitted frame 872, current frame 875)
Checking readback 822: submitted frame 874, current frame 875, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (10 minichunks, 20480 bytes)
Minichunk 42/512 completed
Minichunk 43/512 completed
Minichunk 44/512 completed
Minichunk 45/512 completed
Minichunk 46/512 completed
Minichunk 47/512 completed
Minichunk 48/512 completed
Minichunk 49/512 completed
Minichunk 50/512 completed
Minichunk 51/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 875
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 875, frames_in_flight: 3
Checking readback 822: submitted frame 874, current frame 875, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [64, -32, 120] to [128, -16, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff328, alignment: 0
Returning buffer pointer: 0x2bde57ff328 (aligned: true)
Created staging buffer at: 0x2bde57ff328
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4390000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15812059126860621162), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff2a8, alignment: 0
Returning buffer pointer: 0x2bde57ff2a8 (aligned: true)
Created staging buffer at: 0x2bde57ff2a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d8000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(87061529710568812), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff6a8, alignment: 0
Returning buffer pointer: 0x2bde57ff6a8 (aligned: true)
Created staging buffer at: 0x2bde57ff6a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43dc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15979646689166239086), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff028, alignment: 0
Returning buffer pointer: 0x2bde57ff028 (aligned: true)
Created staging buffer at: 0x2bde57ff028
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b2000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15324432317011731824), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-3.2e1,1.2e2] to [1.3e2,-1.6e1,1.3e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fefa8, alignment: 0
Returning buffer pointer: 0x2bde57fefa8 (aligned: true)
Submitting readback 824 at frame 875 (will be ready at frame 878)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 7 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 43.1ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 11)
DeferredReadbackManager: advanced to frame 876
Processing readbacks: 3 pending, completed_frame: 876, frames_in_flight: 3
Checking readback 822: submitted frame 874, current frame 876, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 876
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 876, frames_in_flight: 3
Checking readback 822: submitted frame 874, current frame 876, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 36.3ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 877
Processing readbacks: 3 pending, completed_frame: 877, frames_in_flight: 3
Checking readback 822: submitted frame 874, current frame 877, 3 frames elapsed (need 3)
Readback 822 ready (submitted frame 874, current frame 877)
Checking readback 823: submitted frame 874, current frame 877, 3 frames elapsed (need 3)
Readback 823 ready (submitted frame 874, current frame 877)
Checking readback 824: submitted frame 875, current frame 877, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 52/512 completed
Minichunk 53/512 completed
Minichunk 54/512 completed
Minichunk 55/512 completed
Minichunk 56/512 completed
Minichunk 57/512 completed
Minichunk 58/512 completed
Minichunk 59/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 60/512 completed
Minichunk 61/512 completed
Minichunk 62/512 completed
Minichunk 63/512 completed
Minichunk 64/512 completed
Minichunk 65/512 completed
Minichunk 66/512 completed
Minichunk 67/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 877
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 877, frames_in_flight: 3
Checking readback 824: submitted frame 875, current frame 877, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 0
Overall bounds: [64, -16, 120] to [128, 0, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff568, alignment: 0
Returning buffer pointer: 0x2bde57ff568 (aligned: true)
Created staging buffer at: 0x2bde57ff568
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43df000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3257174554425959797), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff628, alignment: 0
Returning buffer pointer: 0x2bde57ff628 (aligned: true)
Created staging buffer at: 0x2bde57ff628
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e0000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12640791614936065399), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff4a8, alignment: 0
Returning buffer pointer: 0x2bde57ff4a8 (aligned: true)
Created staging buffer at: 0x2bde57ff4a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b9000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14556983096428733817), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff528, alignment: 0
Returning buffer pointer: 0x2bde57ff528 (aligned: true)
Created staging buffer at: 0x2bde57ff528
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ba000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2350449096440948091), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.6e1,1.2e2] to [1.3e2,0.0e0,1.3e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fef68, alignment: 0
Returning buffer pointer: 0x2bde57fef68 (aligned: true)
Submitting readback 825 at frame 877 (will be ready at frame 880)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [72, -8, 120] to [128, 0, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff0a8, alignment: 0
Returning buffer pointer: 0x2bde57ff0a8 (aligned: true)
Created staging buffer at: 0x2bde57ff0a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4395000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9301940938752402816), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff268, alignment: 0
Returning buffer pointer: 0x2bde57ff268 (aligned: true)
Created staging buffer at: 0x2bde57ff268
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4170723581572949378), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff3e8, alignment: 0
Returning buffer pointer: 0x2bde57ff3e8 (aligned: true)
Created staging buffer at: 0x2bde57ff3e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3623960638335755652), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff5e8, alignment: 0
Returning buffer pointer: 0x2bde57ff5e8 (aligned: true)
Created staging buffer at: 0x2bde57ff5e8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4396000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13219304055936918918), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-8.0e0,1.2e2] to [1.3e2,0.0e0,1.3e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff228, alignment: 0
Returning buffer pointer: 0x2bde57ff228 (aligned: true)
Submitting readback 826 at frame 877 (will be ready at frame 880)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 38.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 878
Processing readbacks: 3 pending, completed_frame: 878, frames_in_flight: 3
Checking readback 824: submitted frame 875, current frame 878, 3 frames elapsed (need 3)
Readback 824 ready (submitted frame 875, current frame 878)
Checking readback 825: submitted frame 877, current frame 878, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 68/512 completed
Minichunk 69/512 completed
Minichunk 70/512 completed
Minichunk 71/512 completed
Minichunk 72/512 completed
Minichunk 73/512 completed
Minichunk 74/512 completed
Minichunk 75/512 completed
Minichunk 76/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 878
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0°, Pitch: 0.0°, Roll: -45.0°]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 878, frames_in_flight: 3
Checking readback 825: submitted frame 877, current frame 878, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 28 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 7 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [72, -40, 64] to [128, -32, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff2e8, alignment: 0
Returning buffer pointer: 0x2bde57ff2e8 (aligned: true)
Created staging buffer at: 0x2bde57ff2e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3405717475826869643), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff5a8, alignment: 0
Returning buffer pointer: 0x2bde57ff5a8 (aligned: true)
Created staging buffer at: 0x2bde57ff5a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5488326639253202317), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff128, alignment: 0
Returning buffer pointer: 0x2bde57ff128 (aligned: true)
Created staging buffer at: 0x2bde57ff128
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12029385084567037327), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fefa8, alignment: 0
Returning buffer pointer: 0x2bde57fefa8 (aligned: true)
Created staging buffer at: 0x2bde57fefa8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c7000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1803216661738694033), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-4.0e1,6.4e1] to [1.3e2,-3.2e1,7.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff668, alignment: 0
Returning buffer pointer: 0x2bde57ff668 (aligned: true)
Submitting readback 827 at frame 878 (will be ready at frame 881)
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 37.1ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 5)
DeferredReadbackManager: advanced to frame 879
Processing readbacks: 3 pending, completed_frame: 879, frames_in_flight: 3
Checking readback 825: submitted frame 877, current frame 879, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 879
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 879, frames_in_flight: 3
Checking readback 825: submitted frame 877, current frame 879, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.8ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 880
Processing readbacks: 3 pending, completed_frame: 880, frames_in_flight: 3
Checking readback 825: submitted frame 877, current frame 880, 3 frames elapsed (need 3)
Readback 825 ready (submitted frame 877, current frame 880)
Checking readback 826: submitted frame 877, current frame 880, 3 frames elapsed (need 3)
Readback 826 ready (submitted frame 877, current frame 880)
Checking readback 827: submitted frame 878, current frame 880, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 77/512 completed
Minichunk 78/512 completed
Minichunk 79/512 completed
Minichunk 80/512 completed
Minichunk 81/512 completed
Minichunk 82/512 completed
Minichunk 83/512 completed
Minichunk 84/512 completed
Minichunk 85/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 86/512 completed
Minichunk 87/512 completed
Minichunk 88/512 completed
Minichunk 89/512 completed
Minichunk 90/512 completed
Minichunk 91/512 completed
Minichunk 92/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 880
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 880, frames_in_flight: 3
Checking readback 827: submitted frame 878, current frame 880, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 6 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 0
Overall bounds: [80, -8, 72] to [128, 0, 80]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff368, alignment: 0
Returning buffer pointer: 0x2bde57ff368 (aligned: true)
Created staging buffer at: 0x2bde57ff368
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bd000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6467159169299391894), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fef68, alignment: 0
Returning buffer pointer: 0x2bde57fef68 (aligned: true)
Created staging buffer at: 0x2bde57fef68
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5797391661239641496), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fefe8, alignment: 0
Returning buffer pointer: 0x2bde57fefe8 (aligned: true)
Created staging buffer at: 0x2bde57fefe8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ca000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1633341015735674266), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff068, alignment: 0
Returning buffer pointer: 0x2bde57ff068 (aligned: true)
Created staging buffer at: 0x2bde57ff068
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43be000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7188760954027386268), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-8.0e0,7.2e1] to [1.3e2,0.0e0,8.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff168, alignment: 0
Returning buffer pointer: 0x2bde57ff168 (aligned: true)
Submitting readback 828 at frame 880 (will be ready at frame 883)
Successfully queued 6 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 1
Overall bounds: [64, -48, 120] to [128, -40, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff1a8, alignment: 0
Returning buffer pointer: 0x2bde57ff1a8 (aligned: true)
Created staging buffer at: 0x2bde57ff1a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4885245610929694113), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff1e8, alignment: 0
Returning buffer pointer: 0x2bde57ff1e8 (aligned: true)
Created staging buffer at: 0x2bde57ff1e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7264978000553190819), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff228, alignment: 0
Returning buffer pointer: 0x2bde57ff228 (aligned: true)
Created staging buffer at: 0x2bde57ff228
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8441044224924722597), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffe38, alignment: 0
Returning buffer pointer: 0x2bde57ffe38 (aligned: true)
Created staging buffer at: 0x2bde57ffe38
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a4000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8182810725001995687), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.8e1,1.2e2] to [1.3e2,-4.0e1,1.3e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffa78, alignment: 0
Returning buffer pointer: 0x2bde57ffa78 (aligned: true)
Submitting readback 829 at frame 880 (will be ready at frame 883)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 8 remaining minichunks from batch
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.4ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 881
Processing readbacks: 3 pending, completed_frame: 881, frames_in_flight: 3
Checking readback 827: submitted frame 878, current frame 881, 3 frames elapsed (need 3)
Readback 827 ready (submitted frame 878, current frame 881)
Checking readback 828: submitted frame 880, current frame 881, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 93/512 completed
Minichunk 94/512 completed
Minichunk 95/512 completed
Minichunk 96/512 completed
Minichunk 97/512 completed
Minichunk 98/512 completed
Minichunk 99/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 881
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 881, frames_in_flight: 3
Checking readback 828: submitted frame 880, current frame 881, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 26 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 7 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [72, -24, 120] to [128, -16, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff9b8, alignment: 0
Returning buffer pointer: 0x2bde57ff9b8 (aligned: true)
Created staging buffer at: 0x2bde57ff9b8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8221193576416028076), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffab8, alignment: 0
Returning buffer pointer: 0x2bde57ffab8 (aligned: true)
Created staging buffer at: 0x2bde57ffab8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43dd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9838498215060579758), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffaf8, alignment: 0
Returning buffer pointer: 0x2bde57ffaf8 (aligned: true)
Created staging buffer at: 0x2bde57ffaf8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ea000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7197051271700817328), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffb78, alignment: 0
Returning buffer pointer: 0x2bde57ffb78 (aligned: true)
Created staging buffer at: 0x2bde57ffb78
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b3000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5673183131184670130), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-2.4e1,1.2e2] to [1.3e2,-1.6e1,1.3e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffb38, alignment: 0
Returning buffer pointer: 0x2bde57ffb38 (aligned: true)
Submitting readback 830 at frame 881 (will be ready at frame 884)
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.7ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 15)
DeferredReadbackManager: advanced to frame 882
Processing readbacks: 3 pending, completed_frame: 882, frames_in_flight: 3
Checking readback 828: submitted frame 880, current frame 882, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 882
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 882, frames_in_flight: 3
Checking readback 828: submitted frame 880, current frame 882, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 25 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 30.6ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 883
Processing readbacks: 3 pending, completed_frame: 883, frames_in_flight: 3
Checking readback 828: submitted frame 880, current frame 883, 3 frames elapsed (need 3)
Readback 828 ready (submitted frame 880, current frame 883)
Checking readback 829: submitted frame 880, current frame 883, 3 frames elapsed (need 3)
Readback 829 ready (submitted frame 880, current frame 883)
Checking readback 830: submitted frame 881, current frame 883, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 100/512 completed
Minichunk 101/512 completed
Minichunk 102/512 completed
Minichunk 103/512 completed
Minichunk 104/512 completed
Minichunk 105/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 106/512 completed
Minichunk 107/512 completed
Minichunk 108/512 completed
Minichunk 109/512 completed
Minichunk 110/512 completed
Minichunk 111/512 completed
Minichunk 112/512 completed
Minichunk 113/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 883
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 883, frames_in_flight: 3
Checking readback 830: submitted frame 881, current frame 883, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 25 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 0
Overall bounds: [64, -64, 120] to [128, -48, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff938, alignment: 0
Returning buffer pointer: 0x2bde57ff938 (aligned: true)
Created staging buffer at: 0x2bde57ff938
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7364475006773896631), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffc78, alignment: 0
Returning buffer pointer: 0x2bde57ffc78 (aligned: true)
Created staging buffer at: 0x2bde57ffc78
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4397000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1532646641352320441), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff978, alignment: 0
Returning buffer pointer: 0x2bde57ff978 (aligned: true)
Created staging buffer at: 0x2bde57ff978
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4398000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6750539599660983739), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff9f8, alignment: 0
Returning buffer pointer: 0x2bde57ff9f8 (aligned: true)
Created staging buffer at: 0x2bde57ff9f8
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cb000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6780030700541191613), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,1.2e2] to [1.3e2,-4.8e1,1.3e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffcb8, alignment: 0
Returning buffer pointer: 0x2bde57ffcb8 (aligned: true)
Submitting readback 831 at frame 883 (will be ready at frame 886)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [72, -56, 120] to [128, -48, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffcf8, alignment: 0
Returning buffer pointer: 0x2bde57ffcf8 (aligned: true)
Created staging buffer at: 0x2bde57ffcf8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(499667561684673986), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffd38, alignment: 0
Returning buffer pointer: 0x2bde57ffd38 (aligned: true)
Created staging buffer at: 0x2bde57ffd38
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11747282286716921284), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff778, alignment: 0
Returning buffer pointer: 0x2bde57ff778 (aligned: true)
Created staging buffer at: 0x2bde57ff778
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5232242684562777542), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffd78, alignment: 0
Returning buffer pointer: 0x2bde57ffd78 (aligned: true)
Created staging buffer at: 0x2bde57ffd78
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c9000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3633233919404418504), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-5.6e1,1.2e2] to [1.3e2,-4.8e1,1.3e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffe78, alignment: 0
Returning buffer pointer: 0x2bde57ffe78 (aligned: true)
Submitting readback 832 at frame 883 (will be ready at frame 886)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 36.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 884
Processing readbacks: 3 pending, completed_frame: 884, frames_in_flight: 3
Checking readback 830: submitted frame 881, current frame 884, 3 frames elapsed (need 3)
Readback 830 ready (submitted frame 881, current frame 884)
Checking readback 831: submitted frame 883, current frame 884, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (7 minichunks, 14336 bytes)
Minichunk 114/512 completed
Minichunk 115/512 completed
Minichunk 116/512 completed
Minichunk 117/512 completed
Minichunk 118/512 completed
Minichunk 119/512 completed
Minichunk 120/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 884
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 884, frames_in_flight: 3
Checking readback 831: submitted frame 883, current frame 884, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 2
Overall bounds: [64, -16, 112] to [128, 0, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffeb8, alignment: 0
Returning buffer pointer: 0x2bde57ffeb8 (aligned: true)
Created staging buffer at: 0x2bde57ffeb8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12782255880477353421), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffbb8, alignment: 0
Returning buffer pointer: 0x2bde57ffbb8 (aligned: true)
Created staging buffer at: 0x2bde57ffbb8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4452001745702233551), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffa38, alignment: 0
Returning buffer pointer: 0x2bde57ffa38 (aligned: true)
Created staging buffer at: 0x2bde57ffa38
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4392722675802318289), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff7b8, alignment: 0
Returning buffer pointer: 0x2bde57ff7b8 (aligned: true)
Created staging buffer at: 0x2bde57ff7b8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c2000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9493540735497020883), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.6e1,1.1e2] to [1.3e2,0.0e0,1.2e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff7f8, alignment: 0
Returning buffer pointer: 0x2bde57ff7f8 (aligned: true)
Submitting readback 833 at frame 884 (will be ready at frame 887)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.7ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 885
Processing readbacks: 3 pending, completed_frame: 885, frames_in_flight: 3
Checking readback 831: submitted frame 883, current frame 885, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 885
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 885, frames_in_flight: 3
Checking readback 831: submitted frame 883, current frame 885, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 30.5ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 886
Processing readbacks: 3 pending, completed_frame: 886, frames_in_flight: 3
Checking readback 831: submitted frame 883, current frame 886, 3 frames elapsed (need 3)
Readback 831 ready (submitted frame 883, current frame 886)
Checking readback 832: submitted frame 883, current frame 886, 3 frames elapsed (need 3)
Readback 832 ready (submitted frame 883, current frame 886)
Checking readback 833: submitted frame 884, current frame 886, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 121/512 completed
Minichunk 122/512 completed
Minichunk 123/512 completed
Minichunk 124/512 completed
Minichunk 125/512 completed
Minichunk 126/512 completed
Minichunk 127/512 completed
Minichunk 128/512 completed
Minichunk 129/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 130/512 completed
Minichunk 131/512 completed
Minichunk 132/512 completed
Minichunk 133/512 completed
Minichunk 134/512 completed
Minichunk 135/512 completed
Minichunk 136/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 886
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 886, frames_in_flight: 3
Checking readback 833: submitted frame 884, current frame 886, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 0
Overall bounds: [64, -32, 112] to [128, -16, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffcb8, alignment: 0
Returning buffer pointer: 0x2bde57ffcb8 (aligned: true)
Created staging buffer at: 0x2bde57ffcb8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4393000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2532225856303015384), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff838, alignment: 0
Returning buffer pointer: 0x2bde57ff838 (aligned: true)
Created staging buffer at: 0x2bde57ff838
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14951392210963146202), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffe78, alignment: 0
Returning buffer pointer: 0x2bde57ffe78 (aligned: true)
Created staging buffer at: 0x2bde57ffe78
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10378617909042750940), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffc38, alignment: 0
Returning buffer pointer: 0x2bde57ffc38 (aligned: true)
Created staging buffer at: 0x2bde57ffc38
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4394000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3018396912756729310), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-3.2e1,1.1e2] to [1.3e2,-1.6e1,1.2e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff878, alignment: 0
Returning buffer pointer: 0x2bde57ff878 (aligned: true)
Submitting readback 834 at frame 886 (will be ready at frame 889)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [72, -24, 112] to [128, -16, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff8b8, alignment: 0
Returning buffer pointer: 0x2bde57ff8b8 (aligned: true)
Created staging buffer at: 0x2bde57ff8b8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15702403732710893027), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff8f8, alignment: 0
Returning buffer pointer: 0x2bde57ff8f8 (aligned: true)
Created staging buffer at: 0x2bde57ff8f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16056699364529153509), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffa78, alignment: 0
Returning buffer pointer: 0x2bde57ffa78 (aligned: true)
Created staging buffer at: 0x2bde57ffa78
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(314522997706728935), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffb38, alignment: 0
Returning buffer pointer: 0x2bde57ffb38 (aligned: true)
Created staging buffer at: 0x2bde57ffb38
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e6000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15521655016220796393), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-2.4e1,1.1e2] to [1.3e2,-1.6e1,1.2e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bd92bda0d8, alignment: 0
Returning buffer pointer: 0x2bd92bda0d8 (aligned: true)
Submitting readback 835 at frame 886 (will be ready at frame 889)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.3ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 887
Processing readbacks: 3 pending, completed_frame: 887, frames_in_flight: 3
Checking readback 833: submitted frame 884, current frame 887, 3 frames elapsed (need 3)
Readback 833 ready (submitted frame 884, current frame 887)
Checking readback 834: submitted frame 886, current frame 887, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (10 minichunks, 20480 bytes)
Minichunk 137/512 completed
Minichunk 138/512 completed
Minichunk 139/512 completed
Minichunk 140/512 completed
Minichunk 141/512 completed
Minichunk 142/512 completed
Minichunk 143/512 completed
Minichunk 144/512 completed
Minichunk 145/512 completed
Minichunk 146/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 887
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 887, frames_in_flight: 3
Checking readback 834: submitted frame 886, current frame 887, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 23 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 8 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [64, -40, 120] to [128, -32, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda198, alignment: 0
Returning buffer pointer: 0x2bd92bda198 (aligned: true)
Created staging buffer at: 0x2bd92bda198
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35ca000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14942820418313004526), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda118, alignment: 0
Returning buffer pointer: 0x2bd92bda118 (aligned: true)
Created staging buffer at: 0x2bd92bda118
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bf000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17448894390549358064), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda298, alignment: 0
Returning buffer pointer: 0x2bd92bda298 (aligned: true)
Created staging buffer at: 0x2bd92bda298
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a9000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16829247020530148850), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda2d8, alignment: 0
Returning buffer pointer: 0x2bd92bda2d8 (aligned: true)
Created staging buffer at: 0x2bd92bda2d8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43eb000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13921727059341616628), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.0e1,1.2e2] to [1.3e2,-3.2e1,1.3e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bd92bda1d8, alignment: 0
Returning buffer pointer: 0x2bd92bda1d8 (aligned: true)
Submitting readback 836 at frame 887 (will be ready at frame 890)
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 888
Processing readbacks: 3 pending, completed_frame: 888, frames_in_flight: 3
Checking readback 834: submitted frame 886, current frame 888, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 888
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 888, frames_in_flight: 3
Checking readback 834: submitted frame 886, current frame 888, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 22 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 889
Processing readbacks: 3 pending, completed_frame: 889, frames_in_flight: 3
Checking readback 834: submitted frame 886, current frame 889, 3 frames elapsed (need 3)
Readback 834 ready (submitted frame 886, current frame 889)
Checking readback 835: submitted frame 886, current frame 889, 3 frames elapsed (need 3)
Readback 835 ready (submitted frame 886, current frame 889)
Checking readback 836: submitted frame 887, current frame 889, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 147/512 completed
Minichunk 148/512 completed
Minichunk 149/512 completed
Minichunk 150/512 completed
Minichunk 151/512 completed
Minichunk 152/512 completed
Minichunk 153/512 completed
Minichunk 154/512 completed
Minichunk 155/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 156/512 completed
Minichunk 157/512 completed
Minichunk 158/512 completed
Minichunk 159/512 completed
Minichunk 160/512 completed
Minichunk 161/512 completed
Minichunk 162/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 889
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 889, frames_in_flight: 3
Checking readback 836: submitted frame 887, current frame 889, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 22 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [64, -48, 112] to [128, -32, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda318, alignment: 0
Returning buffer pointer: 0x2bd92bda318 (aligned: true)
Created staging buffer at: 0x2bd92bda318
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cf000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16180109649142359545), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda018, alignment: 0
Returning buffer pointer: 0x2bd92bda018 (aligned: true)
Created staging buffer at: 0x2bd92bda018
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d0000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18042262333153093115), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda218, alignment: 0
Returning buffer pointer: 0x2bd92bda218 (aligned: true)
Created staging buffer at: 0x2bd92bda218
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17850368966803858941), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda258, alignment: 0
Returning buffer pointer: 0x2bd92bda258 (aligned: true)
Created staging buffer at: 0x2bd92bda258
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cc000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17640461201945142783), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.8e1,1.1e2] to [1.3e2,-3.2e1,1.2e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bd92bda058, alignment: 0
Returning buffer pointer: 0x2bd92bda058 (aligned: true)
Submitting readback 837 at frame 889 (will be ready at frame 892)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [80, -40, 112] to [128, -32, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda098, alignment: 0
Returning buffer pointer: 0x2bd92bda098 (aligned: true)
Created staging buffer at: 0x2bd92bda098
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10144209726582302212), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1f08, alignment: 0
Returning buffer pointer: 0x2be056e1f08 (aligned: true)
Created staging buffer at: 0x2be056e1f08
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4399000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16549861115912267270), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2008, alignment: 0
Returning buffer pointer: 0x2be056e2008 (aligned: true)
Created staging buffer at: 0x2be056e2008
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d9000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13912064551156721160), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e20c8, alignment: 0
Returning buffer pointer: 0x2be056e20c8 (aligned: true)
Created staging buffer at: 0x2be056e20c8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ab000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10996618210643551754), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-4.0e1,1.1e2] to [1.3e2,-3.2e1,1.2e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2148, alignment: 0
Returning buffer pointer: 0x2be056e2148 (aligned: true)
Submitting readback 838 at frame 889 (will be ready at frame 892)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.8ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 890
Processing readbacks: 3 pending, completed_frame: 890, frames_in_flight: 3
Checking readback 836: submitted frame 887, current frame 890, 3 frames elapsed (need 3)
Readback 836 ready (submitted frame 887, current frame 890)
Checking readback 837: submitted frame 889, current frame 890, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 163/512 completed
Minichunk 164/512 completed
Minichunk 165/512 completed
Minichunk 166/512 completed
Minichunk 167/512 completed
Minichunk 168/512 completed
Minichunk 169/512 completed
Minichunk 170/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 890
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 890, frames_in_flight: 3
Checking readback 837: submitted frame 889, current frame 890, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [64, -64, 112] to [128, -48, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2188, alignment: 0
Returning buffer pointer: 0x2be056e2188 (aligned: true)
Created staging buffer at: 0x2be056e2188
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1730353125677606415), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e08, alignment: 0
Returning buffer pointer: 0x2be056e1e08 (aligned: true)
Created staging buffer at: 0x2be056e1e08
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43da000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15535964060544673297), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2048, alignment: 0
Returning buffer pointer: 0x2be056e2048 (aligned: true)
Created staging buffer at: 0x2be056e2048
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12316244369718912531), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e48, alignment: 0
Returning buffer pointer: 0x2be056e1e48 (aligned: true)
Created staging buffer at: 0x2be056e1e48
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c7000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(884439456801629717), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,1.1e2] to [1.3e2,-4.8e1,1.2e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e1e88, alignment: 0
Returning buffer pointer: 0x2be056e1e88 (aligned: true)
Submitting readback 839 at frame 890 (will be ready at frame 893)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.5ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 891
Processing readbacks: 3 pending, completed_frame: 891, frames_in_flight: 3
Checking readback 837: submitted frame 889, current frame 891, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 891
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 891, frames_in_flight: 3
Checking readback 837: submitted frame 889, current frame 891, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.3ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 892
Processing readbacks: 3 pending, completed_frame: 892, frames_in_flight: 3
Checking readback 837: submitted frame 889, current frame 892, 3 frames elapsed (need 3)
Readback 837 ready (submitted frame 889, current frame 892)
Checking readback 838: submitted frame 889, current frame 892, 3 frames elapsed (need 3)
Readback 838 ready (submitted frame 889, current frame 892)
Checking readback 839: submitted frame 890, current frame 892, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 171/512 completed
Minichunk 172/512 completed
Minichunk 173/512 completed
Minichunk 174/512 completed
Minichunk 175/512 completed
Minichunk 176/512 completed
Minichunk 177/512 completed
Minichunk 178/512 completed
Minichunk 179/512 completed
Minichunk 180/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 181/512 completed
Minichunk 182/512 completed
Minichunk 183/512 completed
Minichunk 184/512 completed
Minichunk 185/512 completed
Minichunk 186/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 892
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 892, frames_in_flight: 3
Checking readback 839: submitted frame 890, current frame 892, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 6 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 0
Overall bounds: [80, -8, 112] to [128, 0, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e23c8, alignment: 0
Returning buffer pointer: 0x2be056e23c8 (aligned: true)
Created staging buffer at: 0x2be056e23c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11839477436217566746), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e21c8, alignment: 0
Returning buffer pointer: 0x2be056e21c8 (aligned: true)
Created staging buffer at: 0x2be056e21c8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14226871222863406620), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2088, alignment: 0
Returning buffer pointer: 0x2be056e2088 (aligned: true)
Created staging buffer at: 0x2be056e2088
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4231767367635445278), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1ec8, alignment: 0
Returning buffer pointer: 0x2be056e1ec8 (aligned: true)
Created staging buffer at: 0x2be056e1ec8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c4000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12683187683791480352), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-8.0e0,1.1e2] to [1.3e2,0.0e0,1.2e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e1f48, alignment: 0
Returning buffer pointer: 0x2be056e1f48 (aligned: true)
Submitting readback 840 at frame 892 (will be ready at frame 895)
Successfully queued 6 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 1
Overall bounds: [64, -16, 104] to [128, 0, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2108, alignment: 0
Returning buffer pointer: 0x2be056e2108 (aligned: true)
Created staging buffer at: 0x2be056e2108
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4391000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4034126854007825957), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2348, alignment: 0
Returning buffer pointer: 0x2be056e2348 (aligned: true)
Created staging buffer at: 0x2be056e2348
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ef000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3101489205491017255), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2208, alignment: 0
Returning buffer pointer: 0x2be056e2208 (aligned: true)
Created staging buffer at: 0x2be056e2208
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4392000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10259677139196454441), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1f88, alignment: 0
Returning buffer pointer: 0x2be056e1f88 (aligned: true)
Created staging buffer at: 0x2be056e1f88
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439d000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3197362221386573355), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.6e1,1.0e2] to [1.3e2,0.0e0,1.1e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e1fc8, alignment: 0
Returning buffer pointer: 0x2be056e1fc8 (aligned: true)
Submitting readback 841 at frame 892 (will be ready at frame 895)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 6 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.2ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 893
Processing readbacks: 3 pending, completed_frame: 893, frames_in_flight: 3
Checking readback 839: submitted frame 890, current frame 893, 3 frames elapsed (need 3)
Readback 839 ready (submitted frame 890, current frame 893)
Checking readback 840: submitted frame 892, current frame 893, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 187/512 completed
Minichunk 188/512 completed
Minichunk 189/512 completed
Minichunk 190/512 completed
Minichunk 191/512 completed
Minichunk 192/512 completed
Minichunk 193/512 completed
Minichunk 194/512 completed
Minichunk 195/512 completed
Minichunk 196/512 completed
Minichunk 197/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 893
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 893, frames_in_flight: 3
Checking readback 840: submitted frame 892, current frame 893, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [64, -32, 104] to [128, -16, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2148, alignment: 0
Returning buffer pointer: 0x2be056e2148 (aligned: true)
Created staging buffer at: 0x2be056e2148
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4996368853102503472), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2248, alignment: 0
Returning buffer pointer: 0x2be056e2248 (aligned: true)
Created staging buffer at: 0x2be056e2248
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11303112574444250674), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e24c8, alignment: 0
Returning buffer pointer: 0x2be056e24c8 (aligned: true)
Created staging buffer at: 0x2be056e24c8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2298294861889021492), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2288, alignment: 0
Returning buffer pointer: 0x2be056e2288 (aligned: true)
Created staging buffer at: 0x2be056e2288
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d2000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6391554550750258742), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-3.2e1,1.0e2] to [1.3e2,-1.6e1,1.1e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e22c8, alignment: 0
Returning buffer pointer: 0x2be056e22c8 (aligned: true)
Submitting readback 842 at frame 893 (will be ready at frame 896)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.1ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 12)
DeferredReadbackManager: advanced to frame 894
Processing readbacks: 3 pending, completed_frame: 894, frames_in_flight: 3
Checking readback 840: submitted frame 892, current frame 894, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 894
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 894, frames_in_flight: 3
Checking readback 840: submitted frame 892, current frame 894, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.2ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 895
Processing readbacks: 3 pending, completed_frame: 895, frames_in_flight: 3
Checking readback 840: submitted frame 892, current frame 895, 3 frames elapsed (need 3)
Readback 840 ready (submitted frame 892, current frame 895)
Checking readback 841: submitted frame 892, current frame 895, 3 frames elapsed (need 3)
Readback 841 ready (submitted frame 892, current frame 895)
Checking readback 842: submitted frame 893, current frame 895, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (6 minichunks, 12288 bytes)
Minichunk 198/512 completed
Minichunk 199/512 completed
Minichunk 200/512 completed
Minichunk 201/512 completed
Minichunk 202/512 completed
Minichunk 203/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 204/512 completed
Minichunk 205/512 completed
Minichunk 206/512 completed
Minichunk 207/512 completed
Minichunk 208/512 completed
Minichunk 209/512 completed
Minichunk 210/512 completed
Minichunk 211/512 completed
Minichunk 212/512 completed
Minichunk 213/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 895
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 895, frames_in_flight: 3
Checking readback 842: submitted frame 893, current frame 895, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 0
Overall bounds: [64, -48, 104] to [128, -32, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2308, alignment: 0
Returning buffer pointer: 0x2be056e2308 (aligned: true)
Created staging buffer at: 0x2be056e2308
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ce000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7721632667359258171), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2448, alignment: 0
Returning buffer pointer: 0x2be056e2448 (aligned: true)
Created staging buffer at: 0x2be056e2448
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f0000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(36888615111894589), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2388, alignment: 0
Returning buffer pointer: 0x2be056e2388 (aligned: true)
Created staging buffer at: 0x2be056e2388
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7943747210309543487), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2488, alignment: 0
Returning buffer pointer: 0x2be056e2488 (aligned: true)
Created staging buffer at: 0x2be056e2488
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439e000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8428358059763443265), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.8e1,1.0e2] to [1.3e2,-3.2e1,1.1e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e2508, alignment: 0
Returning buffer pointer: 0x2be056e2508 (aligned: true)
Submitting readback 843 at frame 895 (will be ready at frame 898)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 1
Overall bounds: [88, -40, 104] to [128, -32, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e88, alignment: 0
Returning buffer pointer: 0x2be056e1e88 (aligned: true)
Created staging buffer at: 0x2be056e1e88
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8286390217896633926), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1f48, alignment: 0
Returning buffer pointer: 0x2be056e1f48 (aligned: true)
Created staging buffer at: 0x2be056e1f48
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9207418123135755848), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1fc8, alignment: 0
Returning buffer pointer: 0x2be056e1fc8 (aligned: true)
Created staging buffer at: 0x2be056e1fc8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8813984275415180874), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1dc8, alignment: 0
Returning buffer pointer: 0x2be056e1dc8 (aligned: true)
Created staging buffer at: 0x2be056e1dc8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ec000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6997034713445574220), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.8e1,-4.0e1,1.0e2] to [1.3e2,-3.2e1,1.1e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be062fa3b8, alignment: 0
Returning buffer pointer: 0x2be062fa3b8 (aligned: true)
Submitting readback 844 at frame 895 (will be ready at frame 898)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.9ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 896
Processing readbacks: 3 pending, completed_frame: 896, frames_in_flight: 3
Checking readback 842: submitted frame 893, current frame 896, 3 frames elapsed (need 3)
Readback 842 ready (submitted frame 893, current frame 896)
Checking readback 843: submitted frame 895, current frame 896, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 214/512 completed
Minichunk 215/512 completed
Minichunk 216/512 completed
Minichunk 217/512 completed
Minichunk 218/512 completed
Minichunk 219/512 completed
Minichunk 220/512 completed
Minichunk 221/512 completed
Minichunk 222/512 completed
Minichunk 223/512 completed
Minichunk 224/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 896
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 896, frames_in_flight: 3
Checking readback 843: submitted frame 895, current frame 896, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 19 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 5 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [88, -56, 112] to [128, -48, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be062fa138, alignment: 0
Returning buffer pointer: 0x2be062fa138 (aligned: true)
Created staging buffer at: 0x2be062fa138
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10277947723915208273), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be062fa178, alignment: 0
Returning buffer pointer: 0x2be062fa178 (aligned: true)
Created staging buffer at: 0x2be062fa178
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43aa000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7501986528013330003), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be062fa1b8, alignment: 0
Returning buffer pointer: 0x2be062fa1b8 (aligned: true)
Created staging buffer at: 0x2be062fa1b8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5952042369732847189), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be062fa238, alignment: 0
Returning buffer pointer: 0x2be062fa238 (aligned: true)
Created staging buffer at: 0x2be062fa238
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e8000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10889814949656274519), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.8e1,-5.6e1,1.1e2] to [1.3e2,-4.8e1,1.2e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be062fa2b8, alignment: 0
Returning buffer pointer: 0x2be062fa2b8 (aligned: true)
Submitting readback 845 at frame 896 (will be ready at frame 899)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.7ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 897
Processing readbacks: 3 pending, completed_frame: 897, frames_in_flight: 3
Checking readback 843: submitted frame 895, current frame 897, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 897
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 897, frames_in_flight: 3
Checking readback 843: submitted frame 895, current frame 897, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.9ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 898
Processing readbacks: 3 pending, completed_frame: 898, frames_in_flight: 3
Checking readback 843: submitted frame 895, current frame 898, 3 frames elapsed (need 3)
Readback 843 ready (submitted frame 895, current frame 898)
Checking readback 844: submitted frame 895, current frame 898, 3 frames elapsed (need 3)
Readback 844 ready (submitted frame 895, current frame 898)
Checking readback 845: submitted frame 896, current frame 898, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 225/512 completed
Minichunk 226/512 completed
Minichunk 227/512 completed
Minichunk 228/512 completed
Minichunk 229/512 completed
Minichunk 230/512 completed
Minichunk 231/512 completed
Minichunk 232/512 completed
Minichunk 233/512 completed
Minichunk 234/512 completed
Minichunk 235/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (5 minichunks, 10240 bytes)
Minichunk 236/512 completed
Minichunk 237/512 completed
Minichunk 238/512 completed
Minichunk 239/512 completed
Minichunk 240/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 898
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 898, frames_in_flight: 3
Checking readback 845: submitted frame 896, current frame 898, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [64, -64, 104] to [128, -48, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be062fa078, alignment: 0
Returning buffer pointer: 0x2be062fa078 (aligned: true)
Created staging buffer at: 0x2be062fa078
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bd000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2276786215426467420), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be062fa0b8, alignment: 0
Returning buffer pointer: 0x2be062fa0b8 (aligned: true)
Created staging buffer at: 0x2be062fa0b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bf000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6660268595508946526), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be062fa0f8, alignment: 0
Returning buffer pointer: 0x2be062fa0f8 (aligned: true)
Created staging buffer at: 0x2be062fa0f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35be000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12017284959103362656), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea18, alignment: 0
Returning buffer pointer: 0x2bde57fea18 (aligned: true)
Created staging buffer at: 0x2bde57fea18
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c0000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(719039922635286114), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,1.0e2] to [1.3e2,-4.8e1,1.1e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fed98, alignment: 0
Returning buffer pointer: 0x2bde57fed98 (aligned: true)
Submitting readback 846 at frame 898 (will be ready at frame 901)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [80, -56, 104] to [128, -48, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee98, alignment: 0
Returning buffer pointer: 0x2bde57fee98 (aligned: true)
Created staging buffer at: 0x2bde57fee98
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12246120816634242663), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fed18, alignment: 0
Returning buffer pointer: 0x2bde57fed18 (aligned: true)
Created staging buffer at: 0x2bde57fed18
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12734051091692398185), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea98, alignment: 0
Returning buffer pointer: 0x2bde57fea98 (aligned: true)
Created staging buffer at: 0x2bde57fea98
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3963609675760412267), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb18, alignment: 0
Returning buffer pointer: 0x2bde57feb18 (aligned: true)
Created staging buffer at: 0x2bde57feb18
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a8000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11787991704735327853), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-5.6e1,1.0e2] to [1.3e2,-4.8e1,1.1e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fe898, alignment: 0
Returning buffer pointer: 0x2bde57fe898 (aligned: true)
Submitting readback 847 at frame 898 (will be ready at frame 901)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.8ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 899
Processing readbacks: 3 pending, completed_frame: 899, frames_in_flight: 3
Checking readback 845: submitted frame 896, current frame 899, 3 frames elapsed (need 3)
Readback 845 ready (submitted frame 896, current frame 899)
Checking readback 846: submitted frame 898, current frame 899, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 241/512 completed
Minichunk 242/512 completed
Minichunk 243/512 completed
Minichunk 244/512 completed
Minichunk 245/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 899
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 899, frames_in_flight: 3
Checking readback 846: submitted frame 898, current frame 899, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 17 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 6 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 2
Overall bounds: [80, -8, 104] to [128, 0, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe8d8, alignment: 0
Returning buffer pointer: 0x2bde57fe8d8 (aligned: true)
Created staging buffer at: 0x2bde57fe8d8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ed000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13982826920497129074), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe918, alignment: 0
Returning buffer pointer: 0x2bde57fe918 (aligned: true)
Created staging buffer at: 0x2bde57fe918
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2659213951753004660), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb58, alignment: 0
Returning buffer pointer: 0x2bde57feb58 (aligned: true)
Created staging buffer at: 0x2bde57feb58
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13103538675671639670), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe998, alignment: 0
Returning buffer pointer: 0x2bde57fe998 (aligned: true)
Created staging buffer at: 0x2bde57fe998
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b6000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3626277309335479928), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-8.0e0,1.0e2] to [1.3e2,0.0e0,1.1e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fead8, alignment: 0
Returning buffer pointer: 0x2bde57fead8 (aligned: true)
Submitting readback 848 at frame 899 (will be ready at frame 902)
Successfully queued 6 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.7ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 12)
DeferredReadbackManager: advanced to frame 900
Processing readbacks: 3 pending, completed_frame: 900, frames_in_flight: 3
Checking readback 846: submitted frame 898, current frame 900, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 900
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 900, frames_in_flight: 3
Checking readback 846: submitted frame 898, current frame 900, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.7ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 901
Processing readbacks: 3 pending, completed_frame: 901, frames_in_flight: 3
Checking readback 846: submitted frame 898, current frame 901, 3 frames elapsed (need 3)
Readback 846 ready (submitted frame 898, current frame 901)
Checking readback 847: submitted frame 898, current frame 901, 3 frames elapsed (need 3)
Readback 847 ready (submitted frame 898, current frame 901)
Checking readback 848: submitted frame 899, current frame 901, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 246/512 completed
Minichunk 247/512 completed
Minichunk 248/512 completed
Minichunk 249/512 completed
Minichunk 250/512 completed
Minichunk 251/512 completed
Minichunk 252/512 completed
Minichunk 253/512 completed
Minichunk 254/512 completed
Minichunk 255/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 256/512 completed
Minichunk 257/512 completed
Minichunk 258/512 completed
Minichunk 259/512 completed
Minichunk 260/512 completed
Minichunk 261/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 901
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 901, frames_in_flight: 3
Checking readback 848: submitted frame 899, current frame 901, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 5 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 5 minichunks in workspace 0
Overall bounds: [88, -24, 104] to [128, -16, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fedd8, alignment: 0
Returning buffer pointer: 0x2bde57fedd8 (aligned: true)
Created staging buffer at: 0x2bde57fedd8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15157652895752529533), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe818, alignment: 0
Returning buffer pointer: 0x2bde57fe818 (aligned: true)
Created staging buffer at: 0x2bde57fe818
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9755675302675097215), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb98, alignment: 0
Returning buffer pointer: 0x2bde57feb98 (aligned: true)
Created staging buffer at: 0x2bde57feb98
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ee000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2573183763949299329), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57febd8, alignment: 0
Returning buffer pointer: 0x2bde57febd8 (aligned: true)
Created staging buffer at: 0x2bde57febd8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43de000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16068486129178912387), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.8e1,-2.4e1,1.0e2] to [1.3e2,-1.6e1,1.1e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fee58, alignment: 0
Returning buffer pointer: 0x2bde57fee58 (aligned: true)
Submitting readback 849 at frame 901 (will be ready at frame 904)
Successfully queued 5 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 1
Overall bounds: [64, -16, 96] to [128, 0, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec98, alignment: 0
Returning buffer pointer: 0x2bde57fec98 (aligned: true)
Created staging buffer at: 0x2bde57fec98
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439f000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16609574492905154184), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe958, alignment: 0
Returning buffer pointer: 0x2bde57fe958 (aligned: true)
Created staging buffer at: 0x2bde57fe958
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1531032558282745482), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe798, alignment: 0
Returning buffer pointer: 0x2bde57fe798 (aligned: true)
Created staging buffer at: 0x2bde57fe798
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14732879668105455244), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea58, alignment: 0
Returning buffer pointer: 0x2bde57fea58 (aligned: true)
Created staging buffer at: 0x2bde57fea58
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43af000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17171158852884768398), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.6e1,9.6e1] to [1.3e2,0.0e0,1.0e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fec18, alignment: 0
Returning buffer pointer: 0x2bde57fec18 (aligned: true)
Submitting readback 850 at frame 901 (will be ready at frame 904)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.4ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 902
Processing readbacks: 3 pending, completed_frame: 902, frames_in_flight: 3
Checking readback 848: submitted frame 899, current frame 902, 3 frames elapsed (need 3)
Readback 848 ready (submitted frame 899, current frame 902)
Checking readback 849: submitted frame 901, current frame 902, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (6 minichunks, 12288 bytes)
Minichunk 262/512 completed
Minichunk 263/512 completed
Minichunk 264/512 completed
Minichunk 265/512 completed
Minichunk 266/512 completed
Minichunk 267/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 902
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 902, frames_in_flight: 3
Checking readback 849: submitted frame 901, current frame 902, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 12 minichunks in workspace 2
Overall bounds: [64, -32, 96] to [128, -16, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fead8, alignment: 0
Returning buffer pointer: 0x2bde57fead8 (aligned: true)
Created staging buffer at: 0x2bde57fead8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43db000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(523732572681807507), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee18, alignment: 0
Returning buffer pointer: 0x2bde57fee18 (aligned: true)
Created staging buffer at: 0x2bde57fee18
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43df000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16416643187579299477), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fed58, alignment: 0
Returning buffer pointer: 0x2bde57fed58 (aligned: true)
Created staging buffer at: 0x2bde57fed58
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43dc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17877073905219282583), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe758, alignment: 0
Returning buffer pointer: 0x2bde57fe758 (aligned: true)
Created staging buffer at: 0x2bde57fe758
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e0000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17403639591461725849), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-3.2e1,9.6e1] to [1.3e2,-1.6e1,1.0e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fe858, alignment: 0
Returning buffer pointer: 0x2bde57fe858 (aligned: true)
Submitting readback 851 at frame 902 (will be ready at frame 905)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 4 remaining minichunks from batch
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.9ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 9)
DeferredReadbackManager: advanced to frame 903
Processing readbacks: 3 pending, completed_frame: 903, frames_in_flight: 3
Checking readback 849: submitted frame 901, current frame 903, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 903
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 903, frames_in_flight: 3
Checking readback 849: submitted frame 901, current frame 903, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.4ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 904
Processing readbacks: 3 pending, completed_frame: 904, frames_in_flight: 3
Checking readback 849: submitted frame 901, current frame 904, 3 frames elapsed (need 3)
Readback 849 ready (submitted frame 901, current frame 904)
Checking readback 850: submitted frame 901, current frame 904, 3 frames elapsed (need 3)
Readback 850 ready (submitted frame 901, current frame 904)
Checking readback 851: submitted frame 902, current frame 904, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 268/512 completed
Minichunk 269/512 completed
Minichunk 270/512 completed
Minichunk 271/512 completed
Minichunk 272/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (11 minichunks, 22528 bytes)
Minichunk 273/512 completed
Minichunk 274/512 completed
Minichunk 275/512 completed
Minichunk 276/512 completed
Minichunk 277/512 completed
Minichunk 278/512 completed
Minichunk 279/512 completed
Minichunk 280/512 completed
Minichunk 281/512 completed
Minichunk 282/512 completed
Minichunk 283/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 904
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 904, frames_in_flight: 3
Checking readback 851: submitted frame 902, current frame 904, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [64, -48, 96] to [128, -32, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe9d8, alignment: 0
Returning buffer pointer: 0x2bde57fe9d8 (aligned: true)
Created staging buffer at: 0x2bde57fe9d8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17374527822093100702), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec18, alignment: 0
Returning buffer pointer: 0x2bde57fec18 (aligned: true)
Created staging buffer at: 0x2bde57fec18
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4395000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14813525547467941536), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec58, alignment: 0
Returning buffer pointer: 0x2bde57fec58 (aligned: true)
Created staging buffer at: 0x2bde57fec58
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4396000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17018633500368053922), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fed98, alignment: 0
Returning buffer pointer: 0x2bde57fed98 (aligned: true)
Created staging buffer at: 0x2bde57fed98
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4390000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9509512241402095268), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.8e1,9.6e1] to [1.3e2,-3.2e1,1.0e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fee58, alignment: 0
Returning buffer pointer: 0x2bde57fee58 (aligned: true)
Submitting readback 852 at frame 904 (will be ready at frame 907)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [80, -40, 96] to [128, -32, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff268, alignment: 0
Returning buffer pointer: 0x2bde57ff268 (aligned: true)
Created staging buffer at: 0x2bde57ff268
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ba000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16424687214648108713), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff2a8, alignment: 0
Returning buffer pointer: 0x2bde57ff2a8 (aligned: true)
Created staging buffer at: 0x2bde57ff2a8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439a000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16013625996511028907), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff628, alignment: 0
Returning buffer pointer: 0x2bde57ff628 (aligned: true)
Created staging buffer at: 0x2bde57ff628
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439b000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10404891838900086445), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff3a8, alignment: 0
Returning buffer pointer: 0x2bde57ff3a8 (aligned: true)
Created staging buffer at: 0x2bde57ff3a8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439c000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1805601502459340463), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-4.0e1,9.6e1] to [1.3e2,-3.2e1,1.0e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff168, alignment: 0
Returning buffer pointer: 0x2bde57ff168 (aligned: true)
Submitting readback 853 at frame 904 (will be ready at frame 907)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.3ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 905
Processing readbacks: 3 pending, completed_frame: 905, frames_in_flight: 3
Checking readback 851: submitted frame 902, current frame 905, 3 frames elapsed (need 3)
Readback 851 ready (submitted frame 902, current frame 905)
Checking readback 852: submitted frame 904, current frame 905, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (12 minichunks, 24576 bytes)
Minichunk 284/512 completed
Minichunk 285/512 completed
Minichunk 286/512 completed
Minichunk 287/512 completed
Minichunk 288/512 completed
Minichunk 289/512 completed
Minichunk 290/512 completed
Minichunk 291/512 completed
Minichunk 292/512 completed
Minichunk 293/512 completed
Minichunk 294/512 completed
Minichunk 295/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 905
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 905, frames_in_flight: 3
Checking readback 852: submitted frame 904, current frame 905, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [64, -32, 88] to [128, -16, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff128, alignment: 0
Returning buffer pointer: 0x2bde57ff128 (aligned: true)
Created staging buffer at: 0x2bde57ff128
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14534982968268564148), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff468, alignment: 0
Returning buffer pointer: 0x2bde57ff468 (aligned: true)
Created staging buffer at: 0x2bde57ff468
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12542489777854752438), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff568, alignment: 0
Returning buffer pointer: 0x2bde57ff568 (aligned: true)
Created staging buffer at: 0x2bde57ff568
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(835820152133002936), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fefa8, alignment: 0
Returning buffer pointer: 0x2bde57fefa8 (aligned: true)
Created staging buffer at: 0x2bde57fefa8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43be000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13209897733961295546), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-3.2e1,8.8e1] to [1.3e2,-1.6e1,9.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fefe8, alignment: 0
Returning buffer pointer: 0x2bde57fefe8 (aligned: true)
Submitting readback 854 at frame 905 (will be ready at frame 908)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.1ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 906
Processing readbacks: 3 pending, completed_frame: 906, frames_in_flight: 3
Checking readback 852: submitted frame 904, current frame 906, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 906
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 906, frames_in_flight: 3
Checking readback 852: submitted frame 904, current frame 906, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.3ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 907
Processing readbacks: 3 pending, completed_frame: 907, frames_in_flight: 3
Checking readback 852: submitted frame 904, current frame 907, 3 frames elapsed (need 3)
Readback 852 ready (submitted frame 904, current frame 907)
Checking readback 853: submitted frame 904, current frame 907, 3 frames elapsed (need 3)
Readback 853 ready (submitted frame 904, current frame 907)
Checking readback 854: submitted frame 905, current frame 907, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 296/512 completed
Minichunk 297/512 completed
Minichunk 298/512 completed
Minichunk 299/512 completed
Minichunk 300/512 completed
Minichunk 301/512 completed
Minichunk 302/512 completed
Minichunk 303/512 completed
Minichunk 304/512 completed
Minichunk 305/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 306/512 completed
Minichunk 307/512 completed
Minichunk 308/512 completed
Minichunk 309/512 completed
Minichunk 310/512 completed
Minichunk 311/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 907
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 907, frames_in_flight: 3
Checking readback 854: submitted frame 905, current frame 907, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [64, -64, 96] to [128, -48, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff168, alignment: 0
Returning buffer pointer: 0x2bde57ff168 (aligned: true)
Created staging buffer at: 0x2bde57ff168
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13575354508313110207), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff228, alignment: 0
Returning buffer pointer: 0x2bde57ff228 (aligned: true)
Created staging buffer at: 0x2bde57ff228
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3628510417451493057), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff5a8, alignment: 0
Returning buffer pointer: 0x2bde57ff5a8 (aligned: true)
Created staging buffer at: 0x2bde57ff5a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ca000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13389620606102677187), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff1a8, alignment: 0
Returning buffer pointer: 0x2bde57ff1a8 (aligned: true)
Created staging buffer at: 0x2bde57ff1a8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d4000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4677255394349819589), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,9.6e1] to [1.3e2,-4.8e1,1.0e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff2e8, alignment: 0
Returning buffer pointer: 0x2bde57ff2e8 (aligned: true)
Submitting readback 855 at frame 907 (will be ready at frame 910)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [80, -56, 96] to [128, -48, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff4a8, alignment: 0
Returning buffer pointer: 0x2bde57ff4a8 (aligned: true)
Created staging buffer at: 0x2bde57ff4a8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2369191371648018122), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff1e8, alignment: 0
Returning buffer pointer: 0x2bde57ff1e8 (aligned: true)
Created staging buffer at: 0x2bde57ff1e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10067789270405359308), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff028, alignment: 0
Returning buffer pointer: 0x2bde57ff028 (aligned: true)
Created staging buffer at: 0x2bde57ff028
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6304066410528122574), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff328, alignment: 0
Returning buffer pointer: 0x2bde57ff328 (aligned: true)
Created staging buffer at: 0x2bde57ff328
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c8000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6098653449203754704), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-5.6e1,9.6e1] to [1.3e2,-4.8e1,1.0e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff4e8, alignment: 0
Returning buffer pointer: 0x2bde57ff4e8 (aligned: true)
Submitting readback 856 at frame 907 (will be ready at frame 910)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.4ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 908
Processing readbacks: 3 pending, completed_frame: 908, frames_in_flight: 3
Checking readback 854: submitted frame 905, current frame 908, 3 frames elapsed (need 3)
Readback 854 ready (submitted frame 905, current frame 908)
Checking readback 855: submitted frame 907, current frame 908, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 312/512 completed
Minichunk 313/512 completed
Minichunk 314/512 completed
Minichunk 315/512 completed
Minichunk 316/512 completed
Minichunk 317/512 completed
Minichunk 318/512 completed
Minichunk 319/512 completed
Minichunk 320/512 completed
Minichunk 321/512 completed
Minichunk 322/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 908
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 908, frames_in_flight: 3
Checking readback 855: submitted frame 907, current frame 908, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 5 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [88, -8, 96] to [128, 0, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff368, alignment: 0
Returning buffer pointer: 0x2bde57ff368 (aligned: true)
Created staging buffer at: 0x2bde57ff368
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11257134296705541845), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fefe8, alignment: 0
Returning buffer pointer: 0x2bde57fefe8 (aligned: true)
Created staging buffer at: 0x2bde57fefe8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43dd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7346463906799298263), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff6a8, alignment: 0
Returning buffer pointer: 0x2bde57ff6a8 (aligned: true)
Created staging buffer at: 0x2bde57ff6a8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4397000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5100999479113295577), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff528, alignment: 0
Returning buffer pointer: 0x2bde57ff528 (aligned: true)
Created staging buffer at: 0x2bde57ff528
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4398000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7519927259243751131), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.8e1,-8.0e0,9.6e1] to [1.3e2,0.0e0,1.0e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff068, alignment: 0
Returning buffer pointer: 0x2bde57ff068 (aligned: true)
Submitting readback 857 at frame 908 (will be ready at frame 911)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.8ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 15)
DeferredReadbackManager: advanced to frame 909
Processing readbacks: 3 pending, completed_frame: 909, frames_in_flight: 3
Checking readback 855: submitted frame 907, current frame 909, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 909
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0°, Pitch: 0.0°, Roll: -45.0°]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 909, frames_in_flight: 3
Checking readback 855: submitted frame 907, current frame 909, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.2ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 910
Processing readbacks: 3 pending, completed_frame: 910, frames_in_flight: 3
Checking readback 855: submitted frame 907, current frame 910, 3 frames elapsed (need 3)
Readback 855 ready (submitted frame 907, current frame 910)
Checking readback 856: submitted frame 907, current frame 910, 3 frames elapsed (need 3)
Readback 856 ready (submitted frame 907, current frame 910)
Checking readback 857: submitted frame 908, current frame 910, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 323/512 completed
Minichunk 324/512 completed
Minichunk 325/512 completed
Minichunk 326/512 completed
Minichunk 327/512 completed
Minichunk 328/512 completed
Minichunk 329/512 completed
Minichunk 330/512 completed
Minichunk 331/512 completed
Minichunk 332/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 333/512 completed
Minichunk 334/512 completed
Minichunk 335/512 completed
Minichunk 336/512 completed
Minichunk 337/512 completed
Minichunk 338/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 910
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 910, frames_in_flight: 3
Checking readback 857: submitted frame 908, current frame 910, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 4 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 4 minichunks in workspace 0
Overall bounds: [96, -24, 96] to [128, -16, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff5e8, alignment: 0
Returning buffer pointer: 0x2bde57ff5e8 (aligned: true)
Created staging buffer at: 0x2bde57ff5e8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(600233293207578336), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff2e8, alignment: 0
Returning buffer pointer: 0x2bde57ff2e8 (aligned: true)
Created staging buffer at: 0x2bde57ff2e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8583323228582192866), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fef68, alignment: 0
Returning buffer pointer: 0x2bde57fef68 (aligned: true)
Created staging buffer at: 0x2bde57fef68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ea000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8827144330088031972), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff0a8, alignment: 0
Returning buffer pointer: 0x2bde57ff0a8 (aligned: true)
Created staging buffer at: 0x2bde57ff0a8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cc000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9073260112361039590), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [9.6e1,-2.4e1,9.6e1] to [1.3e2,-1.6e1,1.0e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff3e8, alignment: 0
Returning buffer pointer: 0x2bde57ff3e8 (aligned: true)
Submitting readback 858 at frame 910 (will be ready at frame 913)
Successfully queued 4 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 5 minichunks (available workspaces: 1)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 1
Overall bounds: [88, -24, 88] to [128, -16, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff428, alignment: 0
Returning buffer pointer: 0x2bde57ff428 (aligned: true)
Created staging buffer at: 0x2bde57ff428
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7318937633197926123), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff4e8, alignment: 0
Returning buffer pointer: 0x2bde57ff4e8 (aligned: true)
Created staging buffer at: 0x2bde57ff4e8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4984316006638823149), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff668, alignment: 0
Returning buffer pointer: 0x2bde57ff668 (aligned: true)
Created staging buffer at: 0x2bde57ff668
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c9000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7672597747295332079), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff0e8, alignment: 0
Returning buffer pointer: 0x2bde57ff0e8 (aligned: true)
Created staging buffer at: 0x2bde57ff0e8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ac000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8048281079297091313), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.8e1,-2.4e1,8.8e1] to [1.3e2,-1.6e1,9.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffcf8, alignment: 0
Returning buffer pointer: 0x2bde57ffcf8 (aligned: true)
Submitting readback 859 at frame 910 (will be ready at frame 913)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.5ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 911
Processing readbacks: 3 pending, completed_frame: 911, frames_in_flight: 3
Checking readback 857: submitted frame 908, current frame 911, 3 frames elapsed (need 3)
Readback 857 ready (submitted frame 908, current frame 911)
Checking readback 858: submitted frame 910, current frame 911, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 339/512 completed
Minichunk 340/512 completed
Minichunk 341/512 completed
Minichunk 342/512 completed
Minichunk 343/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 911
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 911, frames_in_flight: 3
Checking readback 858: submitted frame 910, current frame 911, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 12 minichunks in workspace 2
Overall bounds: [64, -48, 88] to [128, -32, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffab8, alignment: 0
Returning buffer pointer: 0x2bde57ffab8 (aligned: true)
Created staging buffer at: 0x2bde57ffab8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6285232875855947510), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff778, alignment: 0
Returning buffer pointer: 0x2bde57ff778 (aligned: true)
Created staging buffer at: 0x2bde57ff778
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6406278110957807352), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffe38, alignment: 0
Returning buffer pointer: 0x2bde57ffe38 (aligned: true)
Created staging buffer at: 0x2bde57ffe38
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11388827202410784506), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffaf8, alignment: 0
Returning buffer pointer: 0x2bde57ffaf8 (aligned: true)
Created staging buffer at: 0x2bde57ffaf8
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bc000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6671282403484378876), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.8e1,8.8e1] to [1.3e2,-3.2e1,9.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffbf8, alignment: 0
Returning buffer pointer: 0x2bde57ffbf8 (aligned: true)
Submitting readback 860 at frame 911 (will be ready at frame 914)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 4 remaining minichunks from batch
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.1ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 10)
DeferredReadbackManager: advanced to frame 912
Processing readbacks: 3 pending, completed_frame: 912, frames_in_flight: 3
Checking readback 858: submitted frame 910, current frame 912, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 912
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 912, frames_in_flight: 3
Checking readback 858: submitted frame 910, current frame 912, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 913
Processing readbacks: 3 pending, completed_frame: 913, frames_in_flight: 3
Checking readback 858: submitted frame 910, current frame 913, 3 frames elapsed (need 3)
Readback 858 ready (submitted frame 910, current frame 913)
Checking readback 859: submitted frame 910, current frame 913, 3 frames elapsed (need 3)
Readback 859 ready (submitted frame 910, current frame 913)
Checking readback 860: submitted frame 911, current frame 913, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (4 minichunks, 8192 bytes)
Minichunk 344/512 completed
Minichunk 345/512 completed
Minichunk 346/512 completed
Minichunk 347/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (5 minichunks, 10240 bytes)
Minichunk 348/512 completed
Minichunk 349/512 completed
Minichunk 350/512 completed
Minichunk 351/512 completed
Minichunk 352/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 913
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 913, frames_in_flight: 3
Checking readback 860: submitted frame 911, current frame 913, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 10 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [64, -64, 88] to [128, -48, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffb78, alignment: 0
Returning buffer pointer: 0x2bde57ffb78 (aligned: true)
Created staging buffer at: 0x2bde57ffb78
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4393000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4975828876384020225), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff938, alignment: 0
Returning buffer pointer: 0x2bde57ff938 (aligned: true)
Created staging buffer at: 0x2bde57ff938
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12437587572471899907), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffc38, alignment: 0
Returning buffer pointer: 0x2bde57ffc38 (aligned: true)
Created staging buffer at: 0x2bde57ffc38
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3445585767450027781), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffe78, alignment: 0
Returning buffer pointer: 0x2bde57ffe78 (aligned: true)
Created staging buffer at: 0x2bde57ffe78
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f4000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5246302139747149575), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,8.8e1] to [1.3e2,-4.8e1,9.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffbb8, alignment: 0
Returning buffer pointer: 0x2bde57ffbb8 (aligned: true)
Submitting readback 861 at frame 913 (will be ready at frame 916)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [80, -56, 88] to [128, -48, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffeb8, alignment: 0
Returning buffer pointer: 0x2bde57ffeb8 (aligned: true)
Created staging buffer at: 0x2bde57ffeb8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13458232330699155212), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff7f8, alignment: 0
Returning buffer pointer: 0x2bde57ff7f8 (aligned: true)
Created staging buffer at: 0x2bde57ff7f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13313986300749582), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff7b8, alignment: 0
Returning buffer pointer: 0x2bde57ff7b8 (aligned: true)
Created staging buffer at: 0x2bde57ff7b8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13724300950481413904), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffa78, alignment: 0
Returning buffer pointer: 0x2bde57ffa78 (aligned: true)
Created staging buffer at: 0x2bde57ffa78
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c2000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12898380801044915986), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-5.6e1,8.8e1] to [1.3e2,-4.8e1,9.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffb38, alignment: 0
Returning buffer pointer: 0x2bde57ffb38 (aligned: true)
Submitting readback 862 at frame 913 (will be ready at frame 916)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.7ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 914
Processing readbacks: 3 pending, completed_frame: 914, frames_in_flight: 3
Checking readback 860: submitted frame 911, current frame 914, 3 frames elapsed (need 3)
Readback 860 ready (submitted frame 911, current frame 914)
Checking readback 861: submitted frame 913, current frame 914, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (12 minichunks, 24576 bytes)
Minichunk 353/512 completed
Minichunk 354/512 completed
Minichunk 355/512 completed
Minichunk 356/512 completed
Minichunk 357/512 completed
Minichunk 358/512 completed
Minichunk 359/512 completed
Minichunk 360/512 completed
Minichunk 361/512 completed
Minichunk 362/512 completed
Minichunk 363/512 completed
Minichunk 364/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 914
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 914, frames_in_flight: 3
Checking readback 861: submitted frame 913, current frame 914, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [64, -16, 80] to [128, 0, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffbf8, alignment: 0
Returning buffer pointer: 0x2bde57ffbf8 (aligned: true)
Created staging buffer at: 0x2bde57ffbf8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4394000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3655141688587855639), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffc78, alignment: 0
Returning buffer pointer: 0x2bde57ffc78 (aligned: true)
Created staging buffer at: 0x2bde57ffc78
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35ca000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12678646700768765721), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffcf8, alignment: 0
Returning buffer pointer: 0x2bde57ffcf8 (aligned: true)
Created staging buffer at: 0x2bde57ffcf8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14604302778353329947), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff9b8, alignment: 0
Returning buffer pointer: 0x2bde57ff9b8 (aligned: true)
Created staging buffer at: 0x2bde57ff9b8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cb000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2397734693505083165), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-1.6e1,8.0e1] to [1.3e2,0.0e0,8.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffa38, alignment: 0
Returning buffer pointer: 0x2bde57ffa38 (aligned: true)
Submitting readback 863 at frame 914 (will be ready at frame 917)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.9ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 14)
DeferredReadbackManager: advanced to frame 915
Processing readbacks: 3 pending, completed_frame: 915, frames_in_flight: 3
Checking readback 861: submitted frame 913, current frame 915, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 915
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 915, frames_in_flight: 3
Checking readback 861: submitted frame 913, current frame 915, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.9ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 916
Processing readbacks: 3 pending, completed_frame: 916, frames_in_flight: 3
Checking readback 861: submitted frame 913, current frame 916, 3 frames elapsed (need 3)
Readback 861 ready (submitted frame 913, current frame 916)
Checking readback 862: submitted frame 913, current frame 916, 3 frames elapsed (need 3)
Readback 862 ready (submitted frame 913, current frame 916)
Checking readback 863: submitted frame 914, current frame 916, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 365/512 completed
Minichunk 366/512 completed
Minichunk 367/512 completed
Minichunk 368/512 completed
Minichunk 369/512 completed
Minichunk 370/512 completed
Minichunk 371/512 completed
Minichunk 372/512 completed
Minichunk 373/512 completed
Minichunk 374/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 375/512 completed
Minichunk 376/512 completed
Minichunk 377/512 completed
Minichunk 378/512 completed
Minichunk 379/512 completed
Minichunk 380/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 916
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 916, frames_in_flight: 3
Checking readback 863: submitted frame 914, current frame 916, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 9 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 0
Overall bounds: [64, -32, 80] to [128, -16, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff878, alignment: 0
Returning buffer pointer: 0x2bde57ff878 (aligned: true)
Created staging buffer at: 0x2bde57ff878
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11417135228779505442), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff8b8, alignment: 0
Returning buffer pointer: 0x2bde57ff8b8 (aligned: true)
Created staging buffer at: 0x2bde57ff8b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bf000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15584730699771422500), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffb38, alignment: 0
Returning buffer pointer: 0x2bde57ffb38 (aligned: true)
Created staging buffer at: 0x2bde57ffb38
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a9000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15194850473631819558), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff8f8, alignment: 0
Returning buffer pointer: 0x2bde57ff8f8 (aligned: true)
Created staging buffer at: 0x2bde57ff8f8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43eb000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10922489136698894120), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-3.2e1,8.0e1] to [1.3e2,-1.6e1,8.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffcb8, alignment: 0
Returning buffer pointer: 0x2bde57ffcb8 (aligned: true)
Submitting readback 864 at frame 916 (will be ready at frame 919)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 1
Overall bounds: [88, -24, 80] to [128, -16, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff978, alignment: 0
Returning buffer pointer: 0x2bde57ff978 (aligned: true)
Created staging buffer at: 0x2bde57ff978
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17157596376956151597), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffd38, alignment: 0
Returning buffer pointer: 0x2bde57ffd38 (aligned: true)
Created staging buffer at: 0x2bde57ffd38
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cf000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14736416797012010799), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff9f8, alignment: 0
Returning buffer pointer: 0x2bde57ff9f8 (aligned: true)
Created staging buffer at: 0x2bde57ff9f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16530606468286654257), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffbb8, alignment: 0
Returning buffer pointer: 0x2bde57ffbb8 (aligned: true)
Created staging buffer at: 0x2bde57ffbb8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4399000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17992233454577657651), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.8e1,-2.4e1,8.0e1] to [1.3e2,-1.6e1,8.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ffd78, alignment: 0
Returning buffer pointer: 0x2bde57ffd78 (aligned: true)
Submitting readback 865 at frame 916 (will be ready at frame 919)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.3ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 917
Processing readbacks: 3 pending, completed_frame: 917, frames_in_flight: 3
Checking readback 863: submitted frame 914, current frame 917, 3 frames elapsed (need 3)
Readback 863 ready (submitted frame 914, current frame 917)
Checking readback 864: submitted frame 916, current frame 917, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 381/512 completed
Minichunk 382/512 completed
Minichunk 383/512 completed
Minichunk 384/512 completed
Minichunk 385/512 completed
Minichunk 386/512 completed
Minichunk 387/512 completed
Minichunk 388/512 completed
Minichunk 389/512 completed
Minichunk 390/512 completed
Minichunk 391/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 917
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 917, frames_in_flight: 3
Checking readback 864: submitted frame 916, current frame 917, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 8 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 4 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 2
Overall bounds: [96, -40, 88] to [128, -32, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff838, alignment: 0
Returning buffer pointer: 0x2bde57ff838 (aligned: true)
Created staging buffer at: 0x2bde57ff838
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18314425545888114488), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ffa38, alignment: 0
Returning buffer pointer: 0x2bde57ffa38 (aligned: true)
Created staging buffer at: 0x2bde57ffa38
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17365733928094148410), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1ec8, alignment: 0
Returning buffer pointer: 0x2be056e1ec8 (aligned: true)
Created staging buffer at: 0x2be056e1ec8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17849714757385332540), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2008, alignment: 0
Returning buffer pointer: 0x2be056e2008 (aligned: true)
Created staging buffer at: 0x2be056e2008
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43da000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16314605209986803518), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [9.6e1,-4.0e1,8.8e1] to [1.3e2,-3.2e1,9.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e22c8, alignment: 0
Returning buffer pointer: 0x2be056e22c8 (aligned: true)
Submitting readback 866 at frame 917 (will be ready at frame 920)
Successfully queued 4 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 918
Processing readbacks: 3 pending, completed_frame: 918, frames_in_flight: 3
Checking readback 864: submitted frame 916, current frame 918, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 918
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 918, frames_in_flight: 3
Checking readback 864: submitted frame 916, current frame 918, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 30.0ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 919
Processing readbacks: 3 pending, completed_frame: 919, frames_in_flight: 3
Checking readback 864: submitted frame 916, current frame 919, 3 frames elapsed (need 3)
Readback 864 ready (submitted frame 916, current frame 919)
Checking readback 865: submitted frame 916, current frame 919, 3 frames elapsed (need 3)
Readback 865 ready (submitted frame 916, current frame 919)
Checking readback 866: submitted frame 917, current frame 919, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 392/512 completed
Minichunk 393/512 completed
Minichunk 394/512 completed
Minichunk 395/512 completed
Minichunk 396/512 completed
Minichunk 397/512 completed
Minichunk 398/512 completed
Minichunk 399/512 completed
Minichunk 400/512 completed
Minichunk 401/512 completed
Minichunk 402/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (5 minichunks, 10240 bytes)
Minichunk 403/512 completed
Minichunk 404/512 completed
Minichunk 405/512 completed
Minichunk 406/512 completed
Minichunk 407/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 919
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 919, frames_in_flight: 3
Checking readback 866: submitted frame 917, current frame 919, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 7 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [64, -48, 80] to [128, -32, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2508, alignment: 0
Returning buffer pointer: 0x2be056e2508 (aligned: true)
Created staging buffer at: 0x2be056e2508
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ab000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14006742397912885059), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2208, alignment: 0
Returning buffer pointer: 0x2be056e2208 (aligned: true)
Created staging buffer at: 0x2be056e2208
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16504404006685124421), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e08, alignment: 0
Returning buffer pointer: 0x2be056e1e08 (aligned: true)
Created staging buffer at: 0x2be056e1e08
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10777920949832394567), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1f08, alignment: 0
Returning buffer pointer: 0x2be056e1f08 (aligned: true)
Created staging buffer at: 0x2be056e1f08
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c4000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15196737235585083209), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.8e1,8.0e1] to [1.3e2,-3.2e1,8.8e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e1f88, alignment: 0
Returning buffer pointer: 0x2be056e1f88 (aligned: true)
Submitting readback 867 at frame 919 (will be ready at frame 922)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [80, -40, 80] to [128, -32, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2088, alignment: 0
Returning buffer pointer: 0x2be056e2088 (aligned: true)
Created staging buffer at: 0x2be056e2088
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15176302811982866254), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2408, alignment: 0
Returning buffer pointer: 0x2be056e2408 (aligned: true)
Created staging buffer at: 0x2be056e2408
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9752334986349913936), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2188, alignment: 0
Returning buffer pointer: 0x2be056e2188 (aligned: true)
Created staging buffer at: 0x2be056e2188
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ef000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2326253243560109906), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2348, alignment: 0
Returning buffer pointer: 0x2be056e2348 (aligned: true)
Created staging buffer at: 0x2be056e2348
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4391000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14889538084830979924), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-4.0e1,8.0e1] to [1.3e2,-3.2e1,8.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e20c8, alignment: 0
Returning buffer pointer: 0x2be056e20c8 (aligned: true)
Submitting readback 868 at frame 919 (will be ready at frame 922)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.6ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 920
Processing readbacks: 3 pending, completed_frame: 920, frames_in_flight: 3
Checking readback 866: submitted frame 917, current frame 920, 3 frames elapsed (need 3)
Readback 866 ready (submitted frame 917, current frame 920)
Checking readback 867: submitted frame 919, current frame 920, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (4 minichunks, 8192 bytes)
Minichunk 408/512 completed
Minichunk 409/512 completed
Minichunk 410/512 completed
Minichunk 411/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 920
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 920, frames_in_flight: 3
Checking readback 867: submitted frame 919, current frame 920, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 6 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 5 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [88, -8, 80] to [128, 0, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2048, alignment: 0
Returning buffer pointer: 0x2be056e2048 (aligned: true)
Created staging buffer at: 0x2be056e2048
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cd000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12190638360385038169), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2108, alignment: 0
Returning buffer pointer: 0x2be056e2108 (aligned: true)
Created staging buffer at: 0x2be056e2108
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3887920394815940443), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2148, alignment: 0
Returning buffer pointer: 0x2be056e2148 (aligned: true)
Created staging buffer at: 0x2be056e2148
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13547448903200155485), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e21c8, alignment: 0
Returning buffer pointer: 0x2be056e21c8 (aligned: true)
Created staging buffer at: 0x2be056e21c8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439e000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13792334331961681759), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.8e1,-8.0e0,8.0e1] to [1.3e2,0.0e0,8.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e22c8, alignment: 0
Returning buffer pointer: 0x2be056e22c8 (aligned: true)
Submitting readback 869 at frame 920 (will be ready at frame 923)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.3ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 921
Processing readbacks: 3 pending, completed_frame: 921, frames_in_flight: 3
Checking readback 867: submitted frame 919, current frame 921, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 921
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 921, frames_in_flight: 3
Checking readback 867: submitted frame 919, current frame 921, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 5 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 922
Processing readbacks: 3 pending, completed_frame: 922, frames_in_flight: 3
Checking readback 867: submitted frame 919, current frame 922, 3 frames elapsed (need 3)
Readback 867 ready (submitted frame 919, current frame 922)
Checking readback 868: submitted frame 919, current frame 922, 3 frames elapsed (need 3)
Readback 868 ready (submitted frame 919, current frame 922)
Checking readback 869: submitted frame 920, current frame 922, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 412/512 completed
Minichunk 413/512 completed
Minichunk 414/512 completed
Minichunk 415/512 completed
Minichunk 416/512 completed
Minichunk 417/512 completed
Minichunk 418/512 completed
Minichunk 419/512 completed
Minichunk 420/512 completed
Minichunk 421/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 422/512 completed
Minichunk 423/512 completed
Minichunk 424/512 completed
Minichunk 425/512 completed
Minichunk 426/512 completed
Minichunk 427/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 922
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 922, frames_in_flight: 3
Checking readback 869: submitted frame 920, current frame 922, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 5 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [64, -32, 72] to [128, -16, 80]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1f88, alignment: 0
Returning buffer pointer: 0x2be056e1f88 (aligned: true)
Created staging buffer at: 0x2be056e1f88
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(536442927098898276), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1fc8, alignment: 0
Returning buffer pointer: 0x2be056e1fc8 (aligned: true)
Created staging buffer at: 0x2be056e1fc8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11794423847757817702), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2248, alignment: 0
Returning buffer pointer: 0x2be056e2248 (aligned: true)
Created staging buffer at: 0x2be056e2248
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ec000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5243377438817265512), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e88, alignment: 0
Returning buffer pointer: 0x2be056e1e88 (aligned: true)
Created staging buffer at: 0x2be056e1e88
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d6000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1287371985474561898), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-3.2e1,7.2e1] to [1.3e2,-1.6e1,8.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e1dc8, alignment: 0
Returning buffer pointer: 0x2be056e1dc8 (aligned: true)
Submitting readback 870 at frame 922 (will be ready at frame 925)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [80, -24, 72] to [128, -16, 80]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e20c8, alignment: 0
Returning buffer pointer: 0x2be056e20c8 (aligned: true)
Created staging buffer at: 0x2be056e20c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10508586780515641199), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2288, alignment: 0
Returning buffer pointer: 0x2be056e2288 (aligned: true)
Created staging buffer at: 0x2be056e2288
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6494408365970564977), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2308, alignment: 0
Returning buffer pointer: 0x2be056e2308 (aligned: true)
Created staging buffer at: 0x2be056e2308
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6668287333810317171), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2388, alignment: 0
Returning buffer pointer: 0x2be056e2388 (aligned: true)
Created staging buffer at: 0x2be056e2388
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ce000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9454702686269089653), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-2.4e1,7.2e1] to [1.3e2,-1.6e1,8.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e23c8, alignment: 0
Returning buffer pointer: 0x2be056e23c8 (aligned: true)
Submitting readback 871 at frame 922 (will be ready at frame 925)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.6ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 923
Processing readbacks: 3 pending, completed_frame: 923, frames_in_flight: 3
Checking readback 869: submitted frame 920, current frame 923, 3 frames elapsed (need 3)
Readback 869 ready (submitted frame 920, current frame 923)
Checking readback 870: submitted frame 922, current frame 923, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 428/512 completed
Minichunk 429/512 completed
Minichunk 430/512 completed
Minichunk 431/512 completed
Minichunk 432/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 923
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 923, frames_in_flight: 3
Checking readback 870: submitted frame 922, current frame 923, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [64, -64, 80] to [128, -48, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1e48, alignment: 0
Returning buffer pointer: 0x2be056e1e48 (aligned: true)
Created staging buffer at: 0x2be056e1e48
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7173588793075705722), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2488, alignment: 0
Returning buffer pointer: 0x2be056e2488 (aligned: true)
Created staging buffer at: 0x2be056e2488
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bf000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5685393207811123068), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e22c8, alignment: 0
Returning buffer pointer: 0x2be056e22c8 (aligned: true)
Created staging buffer at: 0x2be056e22c8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8196358907279452030), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e2448, alignment: 0
Returning buffer pointer: 0x2be056e2448 (aligned: true)
Created staging buffer at: 0x2be056e2448
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e7000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7586611539956737920), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,8.0e1] to [1.3e2,-4.8e1,8.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be056e24c8, alignment: 0
Returning buffer pointer: 0x2be056e24c8 (aligned: true)
Submitting readback 872 at frame 923 (will be ready at frame 926)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.3ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 924
Processing readbacks: 3 pending, completed_frame: 924, frames_in_flight: 3
Checking readback 870: submitted frame 922, current frame 924, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 924

Region Loading Status:
  Camera region: RegionId(0, -1, 0)
  View distance: 1 regions
  Loaded regions: 3
  Pending generations: 2
  Active chunks: 14
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 924, frames_in_flight: 3
Checking readback 870: submitted frame 922, current frame 924, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.4ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 925
Processing readbacks: 3 pending, completed_frame: 925, frames_in_flight: 3
Checking readback 870: submitted frame 922, current frame 925, 3 frames elapsed (need 3)
Readback 870 ready (submitted frame 922, current frame 925)
Checking readback 871: submitted frame 922, current frame 925, 3 frames elapsed (need 3)
Readback 871 ready (submitted frame 922, current frame 925)
Checking readback 872: submitted frame 923, current frame 925, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 433/512 completed
Minichunk 434/512 completed
Minichunk 435/512 completed
Minichunk 436/512 completed
Minichunk 437/512 completed
Minichunk 438/512 completed
Minichunk 439/512 completed
Minichunk 440/512 completed
Minichunk 441/512 completed
Minichunk 442/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 443/512 completed
Minichunk 444/512 completed
Minichunk 445/512 completed
Minichunk 446/512 completed
Minichunk 447/512 completed
Minichunk 448/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 925
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 925, frames_in_flight: 3
Checking readback 872: submitted frame 923, current frame 925, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 4 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 0
Overall bounds: [64, -48, 72] to [128, -32, 80]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e23c8, alignment: 0
Returning buffer pointer: 0x2be056e23c8 (aligned: true)
Created staging buffer at: 0x2be056e23c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8665394075014276997), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be056e1dc8, alignment: 0
Returning buffer pointer: 0x2be056e1dc8 (aligned: true)
Created staging buffer at: 0x2be056e1dc8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9127415458075518855), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda018, alignment: 0
Returning buffer pointer: 0x2bd92bda018 (aligned: true)
Created staging buffer at: 0x2bd92bda018
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ad000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8929351632471205769), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda058, alignment: 0
Returning buffer pointer: 0x2bd92bda058 (aligned: true)
Created staging buffer at: 0x2bd92bda058
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a8000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8395269356837152651), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-4.8e1,7.2e1] to [1.3e2,-3.2e1,8.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bd92bda198, alignment: 0
Returning buffer pointer: 0x2bd92bda198 (aligned: true)
Submitting readback 873 at frame 925 (will be ready at frame 928)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 6 minichunks in workspace 1
Overall bounds: [80, -40, 72] to [128, -32, 80]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda298, alignment: 0
Returning buffer pointer: 0x2bd92bda298 (aligned: true)
Created staging buffer at: 0x2bd92bda298
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5478943407021762448), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda258, alignment: 0
Returning buffer pointer: 0x2bd92bda258 (aligned: true)
Created staging buffer at: 0x2bd92bda258
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ae000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(977505419511474066), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda098, alignment: 0
Returning buffer pointer: 0x2bd92bda098 (aligned: true)
Created staging buffer at: 0x2bd92bda098
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7595173437002229652), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda2d8, alignment: 0
Returning buffer pointer: 0x2bd92bda2d8 (aligned: true)
Created staging buffer at: 0x2bd92bda2d8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f6000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4669608290978637718), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.0e1,-4.0e1,7.2e1] to [1.3e2,-3.2e1,8.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bd92bda318, alignment: 0
Returning buffer pointer: 0x2bd92bda318 (aligned: true)
Submitting readback 874 at frame 925 (will be ready at frame 928)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.6ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 926
Processing readbacks: 3 pending, completed_frame: 926, frames_in_flight: 3
Checking readback 872: submitted frame 923, current frame 926, 3 frames elapsed (need 3)
Readback 872 ready (submitted frame 923, current frame 926)
Checking readback 873: submitted frame 925, current frame 926, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 449/512 completed
Minichunk 450/512 completed
Minichunk 451/512 completed
Minichunk 452/512 completed
Minichunk 453/512 completed
Minichunk 454/512 completed
Minichunk 455/512 completed
Minichunk 456/512 completed
Minichunk 457/512 completed
Minichunk 458/512 completed
Minichunk 459/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 926
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 926, frames_in_flight: 3
Checking readback 873: submitted frame 925, current frame 926, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [64, -64, 72] to [128, -48, 80]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda0d8, alignment: 0
Returning buffer pointer: 0x2bd92bda0d8 (aligned: true)
Created staging buffer at: 0x2bd92bda0d8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2365917026020501403), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda1d8, alignment: 0
Returning buffer pointer: 0x2bd92bda1d8 (aligned: true)
Created staging buffer at: 0x2bd92bda1d8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11226052202499942301), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bd92bda218, alignment: 0
Returning buffer pointer: 0x2bd92bda218 (aligned: true)
Created staging buffer at: 0x2bd92bda218
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ed000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6242113328349456287), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe898, alignment: 0
Returning buffer pointer: 0x2bde57fe898 (aligned: true)
Created staging buffer at: 0x2bde57fe898
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ee000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6087203135112095649), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-6.4e1,7.2e1] to [1.3e2,-4.8e1,8.0e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fedd8, alignment: 0
Returning buffer pointer: 0x2bde57fedd8 (aligned: true)
Submitting readback 875 at frame 926 (will be ready at frame 929)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 927
Processing readbacks: 3 pending, completed_frame: 927, frames_in_flight: 3
Checking readback 873: submitted frame 925, current frame 927, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 927
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 927, frames_in_flight: 3
Checking readback 873: submitted frame 925, current frame 927, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.2ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 928
Processing readbacks: 3 pending, completed_frame: 928, frames_in_flight: 3
Checking readback 873: submitted frame 925, current frame 928, 3 frames elapsed (need 3)
Readback 873 ready (submitted frame 925, current frame 928)
Checking readback 874: submitted frame 925, current frame 928, 3 frames elapsed (need 3)
Readback 874 ready (submitted frame 925, current frame 928)
Checking readback 875: submitted frame 926, current frame 928, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 460/512 completed
Minichunk 461/512 completed
Minichunk 462/512 completed
Minichunk 463/512 completed
Minichunk 464/512 completed
Minichunk 465/512 completed
Minichunk 466/512 completed
Minichunk 467/512 completed
Minichunk 468/512 completed
Minichunk 469/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Minichunk 470/512 completed
Minichunk 471/512 completed
Minichunk 472/512 completed
Minichunk 473/512 completed
Minichunk 474/512 completed
Minichunk 475/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 928
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 928, frames_in_flight: 3
Checking readback 875: submitted frame 926, current frame 928, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 3 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 16 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 0
Overall bounds: [64, -32, 64] to [128, -16, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57febd8, alignment: 0
Returning buffer pointer: 0x2bde57febd8 (aligned: true)
Created staging buffer at: 0x2bde57febd8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10120286552585152422), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb18, alignment: 0
Returning buffer pointer: 0x2bde57feb18 (aligned: true)
Created staging buffer at: 0x2bde57feb18
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2667508667472947112), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe818, alignment: 0
Returning buffer pointer: 0x2bde57fe818 (aligned: true)
Created staging buffer at: 0x2bde57fe818
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4392000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5111135876809762730), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fed18, alignment: 0
Returning buffer pointer: 0x2bde57fed18 (aligned: true)
Created staging buffer at: 0x2bde57fed18
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e2000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13533775376597133228), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [6.4e1,-3.2e1,6.4e1] to [1.3e2,-1.6e1,7.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fec98, alignment: 0
Returning buffer pointer: 0x2bde57fec98 (aligned: true)
Submitting readback 876 at frame 928 (will be ready at frame 931)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 1
Overall bounds: [72, -24, 64] to [128, -16, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe858, alignment: 0
Returning buffer pointer: 0x2bde57fe858 (aligned: true)
Created staging buffer at: 0x2bde57fe858
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4298690242371659697), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee58, alignment: 0
Returning buffer pointer: 0x2bde57fee58 (aligned: true)
Created staging buffer at: 0x2bde57fee58
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43aa000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13205334760706025395), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe918, alignment: 0
Returning buffer pointer: 0x2bde57fe918 (aligned: true)
Created staging buffer at: 0x2bde57fe918
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43de000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12275572335095850933), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea98, alignment: 0
Returning buffer pointer: 0x2bde57fea98 (aligned: true)
Created staging buffer at: 0x2bde57fea98
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b4000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(985665994812827575), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [7.2e1,-2.4e1,6.4e1] to [1.3e2,-1.6e1,7.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 7x1x1 workgroups for 56x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=7 (of 7 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57feb58, alignment: 0
Returning buffer pointer: 0x2bde57feb58 (aligned: true)
Submitting readback 877 at frame 928 (will be ready at frame 931)
Successfully queued 16 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.7ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 929
Processing readbacks: 3 pending, completed_frame: 929, frames_in_flight: 3
Checking readback 875: submitted frame 926, current frame 929, 3 frames elapsed (need 3)
Readback 875 ready (submitted frame 926, current frame 929)
Checking readback 876: submitted frame 928, current frame 929, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 476/512 completed
Minichunk 477/512 completed
Minichunk 478/512 completed
Minichunk 479/512 completed
Minichunk 480/512 completed
Minichunk 481/512 completed
Minichunk 482/512 completed
Minichunk 483/512 completed
Minichunk 484/512 completed
Minichunk 485/512 completed
Minichunk 486/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 929
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 929, frames_in_flight: 3
Checking readback 876: submitted frame 928, current frame 929, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 2 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 5 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [88, -56, 80] to [128, -48, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fead8, alignment: 0
Returning buffer pointer: 0x2bde57fead8 (aligned: true)
Created staging buffer at: 0x2bde57fead8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11899162225908131772), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fed58, alignment: 0
Returning buffer pointer: 0x2bde57fed58 (aligned: true)
Created staging buffer at: 0x2bde57fed58
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43db000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14161730656475817918), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee18, alignment: 0
Returning buffer pointer: 0x2bde57fee18 (aligned: true)
Created staging buffer at: 0x2bde57fee18
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43df000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1889063231100561344), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe8d8, alignment: 0
Returning buffer pointer: 0x2bde57fe8d8 (aligned: true)
Created staging buffer at: 0x2bde57fe8d8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4395000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11492409993840306114), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.8e1,-5.6e1,8.0e1] to [1.3e2,-4.8e1,8.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fee98, alignment: 0
Returning buffer pointer: 0x2bde57fee98 (aligned: true)
Submitting readback 878 at frame 929 (will be ready at frame 932)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 930
Processing readbacks: 3 pending, completed_frame: 930, frames_in_flight: 3
Checking readback 876: submitted frame 928, current frame 930, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 930
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 930, frames_in_flight: 3
Checking readback 876: submitted frame 928, current frame 930, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.2ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 931
Processing readbacks: 3 pending, completed_frame: 931, frames_in_flight: 3
Checking readback 876: submitted frame 928, current frame 931, 3 frames elapsed (need 3)
Readback 876 ready (submitted frame 928, current frame 931)
Checking readback 877: submitted frame 928, current frame 931, 3 frames elapsed (need 3)
Readback 877 ready (submitted frame 928, current frame 931)
Checking readback 878: submitted frame 929, current frame 931, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 487/512 completed
Minichunk 488/512 completed
Minichunk 489/512 completed
Minichunk 490/512 completed
Minichunk 491/512 completed
Minichunk 492/512 completed
Minichunk 493/512 completed
Minichunk 494/512 completed
Minichunk 495/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 496/512 completed
Minichunk 497/512 completed
Minichunk 498/512 completed
Minichunk 499/512 completed
Minichunk 500/512 completed
Minichunk 501/512 completed
Minichunk 502/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 931
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 931, frames_in_flight: 3
Checking readback 878: submitted frame 929, current frame 931, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 1 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(1, -1, 1) with 5 minichunks (available workspaces: 2)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 1/3
Processing 5 minichunks in workspace 0
Overall bounds: [88, -56, 72] to [128, -48, 80]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec58, alignment: 0
Returning buffer pointer: 0x2bde57fec58 (aligned: true)
Created staging buffer at: 0x2bde57fec58
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43dc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15520911746360420295), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb58, alignment: 0
Returning buffer pointer: 0x2bde57feb58 (aligned: true)
Created staging buffer at: 0x2bde57feb58
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16770610065420855241), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fed98, alignment: 0
Returning buffer pointer: 0x2bde57fed98 (aligned: true)
Created staging buffer at: 0x2bde57fed98
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9352638320397526987), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe758, alignment: 0
Returning buffer pointer: 0x2bde57fe758 (aligned: true)
Created staging buffer at: 0x2bde57fe758
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b9000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17087115482592454605), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [8.8e1,-5.6e1,7.2e1] to [1.3e2,-4.8e1,8.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fedd8, alignment: 0
Returning buffer pointer: 0x2bde57fedd8 (aligned: true)
Submitting readback 879 at frame 931 (will be ready at frame 934)
Successfully queued 5 minichunks from this batch
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.7ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 14)
DeferredReadbackManager: advanced to frame 932
Processing readbacks: 2 pending, completed_frame: 932, frames_in_flight: 3
Checking readback 878: submitted frame 929, current frame 932, 3 frames elapsed (need 3)
Readback 878 ready (submitted frame 929, current frame 932)
Checking readback 879: submitted frame 931, current frame 932, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 503/512 completed
Minichunk 504/512 completed
Minichunk 505/512 completed
Minichunk 506/512 completed
Minichunk 507/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 932
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 932, frames_in_flight: 3
Checking readback 879: submitted frame 931, current frame 932, 1 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 25.0ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 933
Processing readbacks: 1 pending, completed_frame: 933, frames_in_flight: 3
Checking readback 879: submitted frame 931, current frame 933, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 933
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 933, frames_in_flight: 3
Checking readback 879: submitted frame 931, current frame 933, 2 frames elapsed (need 3)
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 20.7ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 934
Processing readbacks: 1 pending, completed_frame: 934, frames_in_flight: 3
Checking readback 879: submitted frame 931, current frame 934, 3 frames elapsed (need 3)
Readback 879 ready (submitted frame 931, current frame 934)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (5 minichunks, 10240 bytes)
Minichunk 508/512 completed
Minichunk 509/512 completed
Minichunk 510/512 completed
Minichunk 511/512 completed
Minichunk 512/512 completed
Chunk ChunkId(1, -1, 1) complete! All 512 minichunks processed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 3/3
GPU generation completed successfully
GPU generation completed successfully. Voxel count: 262144
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing 0 completed readbacks
Non-empty voxels: 0
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 17.9ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 935
Processing 0 completed readbacks
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing 0 completed readbacks
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 14.2ms (target: 10.0ms), Workgroups: 6 -> 6 (PID: 4)
DeferredReadbackManager: advanced to frame 936
Processing 0 completed readbacks
GPU pipeline worker: Processing request 46 with priority 7
get_chunks_for_rendering called - active chunks: 14, pending meshes: 0
Checking 14 active chunks for mesh generation
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0GPU generation thread spawned for bounds: [-64.0,-128.0,64.0] to [0.0,-64.0,128.0]
, image_acquired: false
GPU generation: starting for 262144 voxels
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
GPU generation: waiting for result...
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing 0 completed readbacks
Main thread: Execute GPU worldgen for bounds [-64.0,-128.0,64.0] to [0.0,-64.0,128.0]
Processing chunk ChunkId(-1, -2, 1) as minichunks
Creating ChunkAccumulator: 262144 voxels, 512 minichunks (8 per axis)
Queuing 512 minichunks for chunk ChunkId(-1, -2, 1)
Processing 512 minichunks in 43 batches of up to 12 each (frames_in_flight: 3)
PID controller: Processing 6 minichunks per workspace (workgroup budget: 6)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 2/3
Processing 6 minichunks in workspace 1
Overall bounds: [-64, -128, 64] to [-16, -120, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe9d8, alignment: 0
queue_generation_blocking returned: true
Async generation completed for chunk ChunkId(1, -1, 1)
Returning buffer pointer: 0x2bde57fe9d8 (aligned: Sending result for chunk ChunkId(1, -1, 1) through channel
true)
Created staging buffer at: 0xResult sent successfully for chunk ChunkId(1, -1, 1)
2bde57fe9d8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ba000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14314988283736631250), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fe798, alignment: 0
Returning buffer pointer: 0x2bde57fe798 (aligned: true)
Created staging buffer at: 0x2bde57fe798
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4396000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18164486244719929300), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57feb98, alignment: 0
Returning buffer pointer: 0x2bde57feb98 (aligned: true)
Created staging buffer at: 0x2bde57feb98
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18419592733573261270), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fedd8, alignment: 0
Returning buffer pointer: 0x2bde57fedd8 (aligned: true)
Created staging buffer at: 0x2bde57fedd8
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bd000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17953129323535804376), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,6.4e1] to [-1.6e1,-1.2e2,7.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 6x1x1 workgroups for 48x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=6 (of 6 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fe998, alignment: 0
Returning buffer pointer: 0x2bde57fe998 (aligned: true)
Submitting readback 880 at frame 936 (will be ready at frame 939)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 1/3
Processing 6 minichunks in workspace 2
Overall bounds: [-64, -128, 64] to [0, -112, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fee98, alignment: 0
Returning buffer pointer: 0x2bde57fee98 (aligned: true)
Created staging buffer at: 0x2bde57fee98
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43be000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16906158958404708317), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea18, alignment: 0
Returning buffer pointer: 0x2bde57fea18 (aligned: true)
Created staging buffer at: 0x2bde57fea18
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(137513720262698975), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fea58, alignment: 0
Returning buffer pointer: 0x2bde57fea58 (aligned: true)
Created staging buffer at: 0x2bde57fea58
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4390000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16808517927811688417), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 384, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57fec18, alignment: 0
Returning buffer pointer: 0x2bde57fec18 (aligned: true)
Created staging buffer at: 0x2bde57fec18
Staging buffer cast successful
About to map memory for staging buffer - size: 384
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c6000
About to memcpy 384 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15239064035207948259), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,6.4e1] to [0.0e0,-1.1e2,7.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 6
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=6 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=6, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57fec98, alignment: 0
Returning buffer pointer: 0x2bde57fec98 (aligned: true)
Submitting readback 881 at frame 936 (will be ready at frame 939)
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 20.9ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 16)
DeferredReadbackManager: advanced to frame 937
Processing readbacks: 2 pending, completed_frame: 937, frames_in_flight: 3
Checking readback 880: submitted frame 936, current frame 937, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 937
Received generation result 1 for region RegionId(0, -1, 0)
Processing single chunk workspace for chunk ChunkId(1, -1, 1)
Chunk ChunkId(1, -1, 1) has 0 non-empty voxels out of 262144
Extracted 1 chunks from region RegionId(0, -1, 0)
  Chunk ChunkId(1, -1, 1): palette size 1, 32768 bytes compressed
Adding chunk ChunkId(1, -1, 1) to active_chunks (total: 15)
Decompressed 262144 voxels for chunk ChunkId(1, -1, 1)
Successfully sent chunk ChunkId(1, -1, 1) to mesh generation
Creating generation params for region RegionId(0, -1, 0)
Region RegionId(0, -1, 0) world bounds: min=[0,-256,0] max=[256,0,256]
Creating plane SDF with normal [0, 0, 1] and distance 0
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 937, frames_in_flight: 3
Checking readback 880: submitted frame 936, current frame 937, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 42 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 0
Overall bounds: [-64, -120, 64] to [0, -104, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff468, alignment: 0
Returning buffer pointer: 0x2bde57ff468 (aligned: true)
Created staging buffer at: 0x2bde57ff468
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1329867010376476648), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff168, alignment: 0
Returning buffer pointer: 0x2bde57ff168 (aligned: true)
Created staging buffer at: 0x2bde57ff168
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11510673981489293290), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff1e8, alignment: 0
Returning buffer pointer: 0x2bde57ff1e8 (aligned: true)
Created staging buffer at: 0x2bde57ff1e8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15926952594405074924), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2bde57ff1a8, alignment: 0
Returning buffer pointer: 0x2bde57ff1a8 (aligned: true)
Created staging buffer at: 0x2bde57ff1a8
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c2000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2417981100618950638), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.2e2,6.4e1] to [0.0e0,-1.0e2,7.2e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2bde57ff5a8, alignment: 0
Returning buffer pointer: 0x2bde57ff5a8 (aligned: true)
Submitting readback 882 at frame 937 (will be ready at frame 940)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 48.4ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 938
Processing readbacks: 3 pending, completed_frame: 938, frames_in_flight: 3
Checking readback 880: submitted frame 936, current frame 938, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 938
Generation timed out for region RegionId(0, -2, 0)
Starting async generation for region RegionId(0, -2, 0) (contains chunks 0-3, -8--5, 0-3)
Creating generation params for region RegionId(0, -2, 0)
Region RegionId(0, -2, 0) world bounds: min=[0,-512,0] max=[256,-256,256]
Creating plane SDF with normal [0, 0, 1] and distance 0
Generating chunk ChunkId(0, -8, 0)
Generating chunk ChunkId(1, -8, 0)
Generating chunk ChunkId(2, -8, 0)
Generating chunk ChunkId(3, -8, 0)
Generating chunk ChunkId(0, -7, 0)
Generating chunk ChunkId(1, -7, 0)
Generating chunk ChunkId(2, -7, 0)
Generating chunk ChunkId(3, -7, 0)
Generating chunk ChunkId(0, -6, 0)
Generating chunk ChunkId(1, -6, 0)
Generating chunk ChunkId(2, -6, 0)
Generating chunk ChunkId(3, -6, 0)
Generating chunk ChunkId(0, -5, 0)
Generating chunk ChunkId(1, -5, 0)
Generating chunk ChunkId(2, -5, 0)
Generating chunk ChunkId(3, -5, 0)
Generating chunk ChunkId(0, -8, 1)
Generating chunk ChunkId(1, -8, 1)
Generating chunk ChunkId(2, -8, 1)
Generating chunk ChunkId(3, -8, 1)
Generating chunk ChunkId(0, -7, 1)
Generating chunk ChunkId(1, -7, 1)
Generating chunk ChunkId(2, -7, 1)
Generating chunk ChunkId(3, -7, 1)
Generating chunk ChunkId(0, -6, 1)
Generating chunk ChunkId(1, -6, 1)
Generating chunk ChunkId(2, -6, 1)
Generating chunk ChunkId(3, -6, 1)
Generating chunk ChunkId(0, -5, 1)
Generating chunk ChunkId(1, -5, 1)
Generating chunk ChunkId(2, -5, 1)
Generating chunk ChunkId(3, -5, 1)
Generating 32 chunks in region RegionId(0, -2, 0), closest chunk distance: 286.1
Async task started for chunk ChunkId(0, -5, 0)
Async task started for chunk ChunkId(0, -5, 1)
Async task started for chunk ChunkId(2, -5, 0)
Async task started for chunk ChunkId(0, -7, 0)
Async task started for chunk ChunkId(1, -5, 0)
Async task started for chunk ChunkId(2, -5, 1)
Async task started for chunk ChunkId(3, -5, 0)
Async task started for chunk ChunkId(0, -6, 1)
Async task started for chunk ChunkId(0, -8, 0)
Async task started for chunk ChunkId(0, -6, 0)
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
Async task started for chunk ChunkId(2, -7, 1)
Async task started for chunk ChunkId(3, -5, 1)
Async task started for chunk ChunkId(1, -7, 0)
Async task started for chunk ChunkId(3, -6, 1)
Async task started for chunk ChunkId(2, -6, 1)
Async task started for chunk ChunkId(0, -7, 1)
Async task started for chunk ChunkId(2, -6, 0)
Async task started for chunk ChunkId(1, -7, 1)
Async task started for chunk ChunkId(1, -5, 1)
Async task started for chunk ChunkId(1, -8, 0)
Async task started for chunk ChunkId(1, -8, 1)
Async task started for chunk ChunkId(1, -6, 1)
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0Async task started for chunk ChunkId(2, -7, 0)
, image_acquired: false
Calling queue_generation_blocking for chunk bounds: [64.0,-448.0,64.0] to [128.0,-384.0,128.0]
queue_generation_blocking called for bounds [64.0,-448.0,64.0] to [128.0,-384.0,128.0]
Calling queue_generation_blocking for chunk bounds: [0.0,-320.0,0.0] to [64.0,-256.0,64.0]
queue_generation_blocking called for bounds [0.0,-320.0,0.0] to [64.0,-256.0,64.0]
Calling queue_generation_blocking for chunk bounds: [0.0,-320.0,64.0] to [64.0,-256.0,128.0]
queue_generation_blocking called for bounds [0.0,-320.0,64.0] to [64.0,-256.0,128.0]
Async task started for chunk ChunkId(3, -7, 1)
Calling queue_generation_blocking for chunk bounds: [64.0,-320.0,0.0] to [128.0,-256.0,64.0]
queue_generation_blocking called for bounds [64.0,-320.0,0.0] to [128.0,-256.0,64.0]
Async task started for chunk ChunkId(3, -7, 0)
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146Calling queue_generation_blocking for chunk bounds: [128.0,-320.0,64.0] to [192.0,-256.0,128.0]
), semaphore: vk.Semaphore(15909243860128104466queue_generation_blocking called for bounds [128.0,-320.0,64.0] to [192.0,-256.0,128.0]
), current frame: 0
Async task started for chunk ChunkId(3, -6, 0)
Async task started for chunk ChunkId(3, -8, 1)
Acquire result: vk.Result.Calling queue_generation_blocking for chunk bounds: [192.0,-320.0,0.0] to [256.0,-256.0,64.0]
success, image index: 2
queue_generation_blocking called for bounds [192.0,-320.0,0.0] to [256.0,-256.0,64.0]
Command buffer begun in frame_begin
Calling queue_generation_blocking for chunk bounds: [0.0,-384.0,64.0] to [64.0,-320.0,128.0]
queue_generation_blocking called for bounds [0.0,-384.0,64.0] to [64.0,-320.0,128.0]
Calling queue_generation_blocking for chunk bounds: [0.0,-448.0,0.0] to [64.0,-384.0,64.0]
queue_generation_blocking called for bounds [0.0,-448.0,0.0] to [64.0,-384.0,64.0]
Calling queue_generation_blocking for chunk bounds: [0.0,-512.0,0.0] to [64.0,-448.0,64.0]
queue_generation_blocking called for bounds [0.0,-512.0,0.0] to [64.0,-448.0,64.0]
Async task started for chunk ChunkId(1, -6, 0)
Async task started for chunk ChunkId(2, -8, 0)
Calling queue_generation_blocking for chunk bounds: [128.0,-448.0,64.0] to [192.0,-384.0,128.0]
queue_generation_blocking called for bounds [128.0,-448.0,64.0] to [192.0,-384.0,128.0]
Calling queue_generation_blocking for chunk bounds: [64.0,-448.0,0.0] to [128.0,-384.0,64.0]
queue_generation_blocking called for bounds [64.0,-448.0,0.0] to [128.0,-384.0,64.0]
Calling queue_generation_blocking for chunk bounds: [128.0,-384.0,64.0] to [192.0,-320.0,128.0]
queue_generation_blocking called for bounds [128.0,-384.0,64.0] to [192.0,-320.0,128.0]
Async task started for chunk ChunkId(2, -8, 1)
Calling queue_generation_blocking for chunk bounds: [192.0,-384.0,0.0] to [256.0,-320.0,64.0]
queue_generation_blocking called for bounds [192.0,-384.0,0.0] to [256.0,-320.0,64.0]
Calling queue_generation_blocking for chunk bounds: [128.0,-384.0,0.0] to [192.0,-320.0,64.0]
queue_generation_blocking called for bounds [128.0,-384.0,0.0] to [192.0,-320.0,64.0]
Calling queue_generation_blocking for chunk bounds: [128.0,-320.0,0.0] to [192.0,-256.0,64.0]
queue_generation_blocking called for bounds [128.0,-320.0,0.0] to [192.0,-256.0,64.0]
Calling queue_generation_blocking for chunk bounds: [64.0,-320.0,64.0] to [128.0,-256.0,128.0]
queue_generation_blocking called for bounds [64.0,-320.0,64.0] to [128.0,-256.0,128.0]
Calling queue_generation_blocking for chunk bounds: [64.0,-512.0,0.0] to [128.0,-448.0,64.0]
queue_generation_blocking called for bounds [64.0,-512.0,0.0] to [128.0,-448.0,64.0]
Calling queue_generation_blocking for chunk bounds: [64.0,-384.0,64.0] to [128.0,-320.0,128.0]
queue_generation_blocking called for bounds [64.0,-384.0,64.0] to [128.0,-320.0,128.0]
Calling queue_generation_blocking for chunk bounds: [192.0,-384.0,64.0] to [256.0,-320.0,128.0]
queue_generation_blocking called for bounds [192.0,-384.0,64.0] to [256.0,-320.0,128.0]
Async task started for chunk ChunkId(0, -8, 1)
Calling queue_generation_blocking for chunk bounds: [192.0,-448.0,64.0] to [256.0,-384.0,128.0]
queue_generation_blocking called for bounds [192.0,-448.0,64.0] to [256.0,-384.0,128.0]
Calling queue_generation_blocking for chunk bounds: [0.0,-448.0,64.0] to [64.0,-384.0,128.0]
queue_generation_blocking called for bounds [0.0,-448.0,64.0] to [64.0,-384.0,128.0]
Processing readbacks: 3 pending, completed_frame: 938, frames_in_flight: 3
Checking readback 880: submitted frame 936, current frame 938, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Calling queue_generation_blocking for chunk bounds: [128.0,-512.0,0.0] to [192.0,-448.0,64.0]
queue_generation_blocking called for bounds [128.0,-512.0,0.0] to [192.0,-448.0,64.0]
Async task started for chunk ChunkId(3, -8, 0)
Calling queue_generation_blocking for chunk bounds: [0.0,-384.0,0.0] to [64.0,-320.0,64.0]
queue_generation_blocking called for bounds [0.0,-384.0,0.0] to [64.0,-320.0,64.0]
Calling queue_generation_blocking for chunk bounds: [192.0,-320.0,64.0] to [256.0,-256.0,128.0]
queue_generation_blocking called for bounds [192.0,-320.0,64.0] to [256.0,-256.0,128.0]
Calling queue_generation_blocking for chunk bounds: [192.0,-448.0,0.0] to [256.0,-384.0,64.0]
queue_generation_blocking called for bounds [192.0,-448.0,0.0] to [256.0,-384.0,64.0]
Calling queue_generation_blocking for chunk bounds: [192.0,-512.0,64.0] to [256.0,-448.0,128.0]
queue_generation_blocking called for bounds [192.0,-512.0,64.0] to [256.0,-448.0,128.0]
Request 112 added to queue at position 93. Queue length: 97
Processing pending minichunk batches: 42 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
Calling queue_generation_blocking for chunk bounds: [64.0,-512.0,64.0] to [128.0,-448.0,128.0]
queue_generation_blocking called for bounds [64.0,-512.0,64.0] to [128.0,-448.0,128.0]
Calling queue_generation_blocking for chunk bounds: [128.0,-448.0,0.0] to [192.0,-384.0,64.0]
queue_generation_blocking called for bounds [128.0,-448.0,0.0] to [192.0,-384.0,64.0]
Calling queue_generation_blocking for chunk bounds: [64.0,-384.0,0.0] to [128.0,-320.0,64.0]
queue_generation_blocking called for bounds [64.0,-384.0,0.0] to [128.0,-320.0,64.0]
Calling queue_generation_blocking for chunk bounds: [128.0,-512.0,64.0] to [192.0,-448.0,128.0]
queue_generation_blocking called for bounds [128.0,-512.0,64.0] to [192.0,-448.0,128.0]
Calling queue_generation_blocking for chunk bounds: [192.0,-512.0,0.0] to [256.0,-448.0,64.0]
queue_generation_blocking called for bounds [192.0,-512.0,0.0] to [256.0,-448.0,64.0]
Request 113 added to queue at position 70. Queue length: 98
batch_queue_draw called with 0 meshes
Calling queue_generation_blocking for chunk bounds: [0.0,-512.0,64.0] to [64.0,-448.0,128.0]
queue_generation_blocking called for bounds [0.0,-512.0,64.0] to [64.0,-448.0,128.0]
VertexPool render: 0 effective draws, 0 total commands
Request 114 added to queue at position 71. Queue length: 99
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)Request 115 added to queue at position 72. Queue length: 100

Request 116 added to queue at position 97. Queue length: 101
Request 117 added to queue at position 98. Queue length: 102
Request 118 added to queue at position 99. Queue length: 103
Request 119 added to queue at position 100. Queue length: 104
Request 120 added to queue at position 101. Queue length: 105
Frame time: 45.0ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 939
Processing readbacks: 3 pending, completed_frame: 939, frames_in_flight: 3
Checking readback 880: submitted frame 936, current frame 939, 3 frames elapsed (need 3)
Readback 880 ready (submitted frame 936, current frame 939)
Checking readback 881: submitted frame 936, current frame 939, 3 frames elapsed (need 3)
Readback 881 ready (submitted frame 936, current frame 939)
Checking readback 882: submitted frame 937, current frame 939, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Request 121 added to queue at position 102. Queue length: 106
Request 122 added to queue at position 103. Queue length: 107
Request 123 added to queue at position 104. Queue length: 108
Request 124 added to queue at position 105. Queue length: 109
Request 125 added to queue at position 106. Queue length: 110
Request 126 added to queue at position 73. Queue length: 111
Request 127 added to queue at position 74. Queue length: 112
Minichunk batch readback complete for workspace 1 (6 minichunks, 12288 bytes)
Request 128 added to queue at position 109. Queue length: 113
Minichunk 1/512 completed
Request 129 added to queue at position 110. Queue length: 114
Minichunk 2/512 completed
Request 130 added to queue at position 111. Queue length: 115
Minichunk 3/512 completed
Request 131 added to queue at position 112. Queue length: 116
Minichunk 4/512 completed
Request 132 added to queue at position 113. Queue length: 117
Minichunk 5/512 completed
Request 133 added to queue at position 118. Queue length: 118
Minichunk 6/512 completed
Request 134 added to queue at position 114. Queue length: 119
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Request 135 added to queue at position 115. Queue length: 120
Request 136 added to queue at position 116. Queue length: 121
Request 137 added to queue at position 122. Queue length: 122
Request 138 added to queue at position 117. Queue length: 123
Request 139 added to queue at position 118. Queue length: 124
Request 140 added to queue at position 119. Queue length: 125
Request 141 added to queue at position 126. Queue length: 126
Minichunk batch readback complete for workspace 2 (6 minichunks, 12288 bytes)
Request 142 added to queue at position 127. Queue length: 127
Minichunk 7/512 completed
Request 143 added to queue at position 120. Queue length: 128
Minichunk 8/512 completed
Minichunk 9/512 completed
Minichunk 10/512 completed
Minichunk 11/512 completed
Minichunk 12/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 939
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0°, Pitch: 0.0°, Roll: -45.0°]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 939, frames_in_flight: 3
Checking readback 882: submitted frame 937, current frame 939, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 42 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 7 minichunks in workspace 1
Overall bounds: [-64, -96, 64] to [0, -80, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a46f28, alignment: 0
Returning buffer pointer: 0x2be06a46f28 (aligned: true)
Created staging buffer at: 0x2be06a46f28
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10233893591525107699), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a46fe8, alignment: 0
Returning buffer pointer: 0x2be06a46fe8 (aligned: true)
Created staging buffer at: 0x2be06a46fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4397000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2984855211039795189), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a46f68, alignment: 0
Returning buffer pointer: 0x2be06a46f68 (aligned: true)
Created staging buffer at: 0x2be06a46f68
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3698567999838496759), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a47068, alignment: 0
Returning buffer pointer: 0x2be06a47068 (aligned: true)
Created staging buffer at: 0x2be06a47068
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ca000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13247746222724229113), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-9.6e1,6.4e1] to [0.0e0,-8.0e1,7.2e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be06a46fa8, alignment: 0
Returning buffer pointer: 0x2be06a46fa8 (aligned: true)
Submitting readback 883 at frame 939 (will be ready at frame 942)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [-40, -88, 64] to [0, -80, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a47168, alignment: 0
Returning buffer pointer: 0x2be06a47168 (aligned: true)
Created staging buffer at: 0x2be06a47168
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4593904716383004670), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a46e28, alignment: 0
Returning buffer pointer: 0x2be06a46e28 (aligned: true)
Created staging buffer at: 0x2be06a46e28
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c8000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13607215056751175680), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a46ee8, alignment: 0
Returning buffer pointer: 0x2be06a46ee8 (aligned: true)
Created staging buffer at: 0x2be06a46ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4398000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11939033816066172930), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be5d8, alignment: 0
Returning buffer pointer: 0x2be052be5d8 (aligned: true)
Created staging buffer at: 0x2be052be5d8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43af000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3892532846094460932), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-8.8e1,6.4e1] to [0.0e0,-8.0e1,7.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052be758, alignment: 0
Returning buffer pointer: 0x2be052be758 (aligned: true)
Submitting readback 884 at frame 939 (will be ready at frame 942)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 49.4ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 940
Processing readbacks: 3 pending, completed_frame: 940, frames_in_flight: 3
Checking readback 882: submitted frame 937, current frame 940, 3 frames elapsed (need 3)
Readback 882 ready (submitted frame 937, current frame 940)
Checking readback 883: submitted frame 939, current frame 940, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (7 minichunks, 14336 bytes)
Minichunk 13/512 completed
Minichunk 14/512 completed
Minichunk 15/512 completed
Minichunk 16/512 completed
Minichunk 17/512 completed
Minichunk 18/512 completed
Minichunk 19/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 940
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 940, frames_in_flight: 3
Checking readback 883: submitted frame 939, current frame 940, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 41 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 0
Overall bounds: [-64, -112, 72] to [0, -96, 80]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be618, alignment: 0
Returning buffer pointer: 0x2be052be618 (aligned: true)
Created staging buffer at: 0x2be052be618
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43dd000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12506182804393961481), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be718, alignment: 0
Returning buffer pointer: 0x2be052be718 (aligned: true)
Created staging buffer at: 0x2be052be718
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5994679231634745355), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052bea98, alignment: 0
Returning buffer pointer: 0x2be052bea98 (aligned: true)
Created staging buffer at: 0x2be052bea98
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1728237665305765901), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be798, alignment: 0
Returning buffer pointer: 0x2be052be798 (aligned: true)
Created staging buffer at: 0x2be052be798
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ac000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11731134858951403535), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.1e2,7.2e1] to [0.0e0,-9.6e1,8.0e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052be7d8, alignment: 0
Returning buffer pointer: 0x2be052be7d8 (aligned: true)
Submitting readback 885 at frame 940 (will be ready at frame 943)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 4 remaining minichunks from batch
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 48.4ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 13)
DeferredReadbackManager: advanced to frame 941
Processing readbacks: 3 pending, completed_frame: 941, frames_in_flight: 3
Checking readback 883: submitted frame 939, current frame 941, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 941
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 941, frames_in_flight: 3
Checking readback 883: submitted frame 939, current frame 941, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 41 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 42.1ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 942
Processing readbacks: 3 pending, completed_frame: 942, frames_in_flight: 3
Checking readback 883: submitted frame 939, current frame 942, 3 frames elapsed (need 3)
Readback 883 ready (submitted frame 939, current frame 942)
Checking readback 884: submitted frame 939, current frame 942, 3 frames elapsed (need 3)
Readback 884 ready (submitted frame 939, current frame 942)
Checking readback 885: submitted frame 940, current frame 942, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (7 minichunks, 14336 bytes)
Minichunk 20/512 completed
Minichunk 21/512 completed
Minichunk 22/512 completed
Minichunk 23/512 completed
Minichunk 24/512 completed
Minichunk 25/512 completed
Minichunk 26/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 27/512 completed
Minichunk 28/512 completed
Minichunk 29/512 completed
Minichunk 30/512 completed
Minichunk 31/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 942
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 942, frames_in_flight: 3
Checking readback 885: submitted frame 940, current frame 942, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 41 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [-64, -80, 80] to [0, -64, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be558, alignment: 0
Returning buffer pointer: 0x2be052be558 (aligned: true)
Created staging buffer at: 0x2be052be558
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cb000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4806744878752999444), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be858, alignment: 0
Returning buffer pointer: 0x2be052be858 (aligned: true)
Created staging buffer at: 0x2be052be858
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7299577432456046614), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be958, alignment: 0
Returning buffer pointer: 0x2be052be958 (aligned: true)
Created staging buffer at: 0x2be052be958
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10675660870891087896), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be898, alignment: 0
Returning buffer pointer: 0x2be052be898 (aligned: true)
Created staging buffer at: 0x2be052be898
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cc000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5951598167035226138), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e1,8.0e1] to [0.0e0,-6.4e1,8.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052be8d8, alignment: 0
Returning buffer pointer: 0x2be052be8d8 (aligned: true)
Submitting readback 886 at frame 942 (will be ready at frame 945)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 2
Overall bounds: [-32, -72, 80] to [0, -64, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be4d8, alignment: 0
Returning buffer pointer: 0x2be052be4d8 (aligned: true)
Created staging buffer at: 0x2be052be4d8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8291353413384415263), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be9d8, alignment: 0
Returning buffer pointer: 0x2be052be9d8 (aligned: true)
Created staging buffer at: 0x2be052be9d8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9772133892231276577), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be658, alignment: 0
Returning buffer pointer: 0x2be052be658 (aligned: true)
Created staging buffer at: 0x2be052be658
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e9000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6929854552988461091), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be498, alignment: 0
Returning buffer pointer: 0x2be052be498 (aligned: true)
Created staging buffer at: 0x2be052be498
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ea000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8751061423980816421), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-3.2e1,-7.2e1,8.0e1] to [0.0e0,-6.4e1,8.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052be758, alignment: 0
Returning buffer pointer: 0x2be052be758 (aligned: true)
Submitting readback 887 at frame 942 (will be ready at frame 945)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 45.6ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 943
Processing readbacks: 3 pending, completed_frame: 943, frames_in_flight: 3
Checking readback 885: submitted frame 940, current frame 943, 3 frames elapsed (need 3)
Readback 885 ready (submitted frame 940, current frame 943)
Checking readback 886: submitted frame 942, current frame 943, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (8 minichunks, 16384 bytes)
Minichunk 32/512 completed
Minichunk 33/512 completed
Minichunk 34/512 completed
Minichunk 35/512 completed
Minichunk 36/512 completed
Minichunk 37/512 completed
Minichunk 38/512 completed
Minichunk 39/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 943
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 943, frames_in_flight: 3
Checking readback 886: submitted frame 942, current frame 943, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 40 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 0
Overall bounds: [-64, -80, 104] to [0, -64, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be398, alignment: 0
Returning buffer pointer: 0x2be052be398 (aligned: true)
Created staging buffer at: 0x2be052be398
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8749054815260125226), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be7d8, alignment: 0
Returning buffer pointer: 0x2be052be7d8 (aligned: true)
Created staging buffer at: 0x2be052be7d8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8484822379896252460), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be818, alignment: 0
Returning buffer pointer: 0x2be052be818 (aligned: true)
Created staging buffer at: 0x2be052be818
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5547914671920523310), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be998, alignment: 0
Returning buffer pointer: 0x2be052be998 (aligned: true)
Created staging buffer at: 0x2be052be998
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c6000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8013231947138476080), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e1,1.0e2] to [0.0e0,-6.4e1,1.1e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052be6d8, alignment: 0
Returning buffer pointer: 0x2be052be6d8 (aligned: true)
Submitting readback 888 at frame 943 (will be ready at frame 946)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 45.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 944
Processing readbacks: 3 pending, completed_frame: 944, frames_in_flight: 3
Checking readback 886: submitted frame 942, current frame 944, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 944
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 944, frames_in_flight: 3
Checking readback 886: submitted frame 942, current frame 944, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 40 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 38.5ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 945
Processing readbacks: 3 pending, completed_frame: 945, frames_in_flight: 3
Checking readback 886: submitted frame 942, current frame 945, 3 frames elapsed (need 3)
Readback 886 ready (submitted frame 942, current frame 945)
Checking readback 887: submitted frame 942, current frame 945, 3 frames elapsed (need 3)
Readback 887 ready (submitted frame 942, current frame 945)
Checking readback 888: submitted frame 943, current frame 945, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 40/512 completed
Minichunk 41/512 completed
Minichunk 42/512 completed
Minichunk 43/512 completed
Minichunk 44/512 completed
Minichunk 45/512 completed
Minichunk 46/512 completed
Minichunk 47/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (4 minichunks, 8192 bytes)
Minichunk 48/512 completed
Minichunk 49/512 completed
Minichunk 50/512 completed
Minichunk 51/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 945
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 945, frames_in_flight: 3
Checking readback 888: submitted frame 943, current frame 945, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 40 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 8 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [-64, -72, 120] to [0, -64, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be418, alignment: 0
Returning buffer pointer: 0x2be052be418 (aligned: true)
Created staging buffer at: 0x2be052be418
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(557343543631292469), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052bea18, alignment: 0
Returning buffer pointer: 0x2be052bea18 (aligned: true)
Created staging buffer at: 0x2be052bea18
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7064519438623582263), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052bea58, alignment: 0
Returning buffer pointer: 0x2be052bea58 (aligned: true)
Created staging buffer at: 0x2be052bea58
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35ca000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6382639710472251449), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be358, alignment: 0
Returning buffer pointer: 0x2be052be358 (aligned: true)
Created staging buffer at: 0x2be052be358
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e6000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1286572640521168955), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-7.2e1,1.2e2] to [0.0e0,-6.4e1,1.3e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052be698, alignment: 0
Returning buffer pointer: 0x2be052be698 (aligned: true)
Submitting readback 889 at frame 945 (will be ready at frame 948)
Successfully queued 8 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 5 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 5 minichunks in workspace 2
Overall bounds: [-40, -112, 64] to [0, -104, 72]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be518, alignment: 0
Returning buffer pointer: 0x2be052be518 (aligned: true)
Created staging buffer at: 0x2be052be518
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10512184382561724480), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be758, alignment: 0
Returning buffer pointer: 0x2be052be758 (aligned: true)
Created staging buffer at: 0x2be052be758
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5394672437822498882), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be598, alignment: 0
Returning buffer pointer: 0x2be052be598 (aligned: true)
Created staging buffer at: 0x2be052be598
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4393000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3411278805640161348), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 320, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be3d8, alignment: 0
Returning buffer pointer: 0x2be052be3d8 (aligned: true)
Created staging buffer at: 0x2be052be3d8
Staging buffer cast successful
About to map memory for staging buffer - size: 320
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4394000
About to memcpy 320 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9466880877058336838), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-1.1e2,6.4e1] to [0.0e0,-1.0e2,7.2e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 5
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 5x1x1 workgroups for 40x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=5 (of 5 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=5, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052be8d8, alignment: 0
Returning buffer pointer: 0x2be052be8d8 (aligned: true)
Submitting readback 890 at frame 945 (will be ready at frame 948)
Successfully queued 5 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 40.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 946
Processing readbacks: 3 pending, completed_frame: 946, frames_in_flight: 3
Checking readback 888: submitted frame 943, current frame 946, 3 frames elapsed (need 3)
Readback 888 ready (submitted frame 943, current frame 946)
Checking readback 889: submitted frame 945, current frame 946, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 52/512 completed
Minichunk 53/512 completed
Minichunk 54/512 completed
Minichunk 55/512 completed
Minichunk 56/512 completed
Minichunk 57/512 completed
Minichunk 58/512 completed
Minichunk 59/512 completed
Minichunk 60/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 946
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 946, frames_in_flight: 3
Checking readback 889: submitted frame 945, current frame 946, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 38 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 10 minichunks in workspace 0
Overall bounds: [-64, -88, 120] to [0, -72, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be918, alignment: 0
Returning buffer pointer: 0x2be052be918 (aligned: true)
Created staging buffer at: 0x2be052be918
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2623527102850279499), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be6d8, alignment: 0
Returning buffer pointer: 0x2be052be6d8 (aligned: true)
Created staging buffer at: 0x2be052be6d8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4517438080717695053), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a46fa8, alignment: 0
Returning buffer pointer: 0x2be06a46fa8 (aligned: true)
Created staging buffer at: 0x2be06a46fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bf000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12824870752146696271), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a470e8, alignment: 0
Returning buffer pointer: 0x2be06a470e8 (aligned: true)
Created staging buffer at: 0x2be06a470e8
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cf000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4081648846071933009), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.8e1,1.2e2] to [0.0e0,-7.2e1,1.3e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0138, alignment: 0
Returning buffer pointer: 0x2be052c0138 (aligned: true)
Submitting readback 891 at frame 946 (will be ready at frame 949)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 2 remaining minichunks from batch
Successfully queued 10 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 37.8ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 947
Processing readbacks: 3 pending, completed_frame: 947, frames_in_flight: 3
Checking readback 889: submitted frame 945, current frame 947, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 947
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 947, frames_in_flight: 3
Checking readback 889: submitted frame 945, current frame 947, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 38 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 30.2ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 948
Processing readbacks: 3 pending, completed_frame: 948, frames_in_flight: 3
Checking readback 889: submitted frame 945, current frame 948, 3 frames elapsed (need 3)
Readback 889 ready (submitted frame 945, current frame 948)
Checking readback 890: submitted frame 945, current frame 948, 3 frames elapsed (need 3)
Readback 890 ready (submitted frame 945, current frame 948)
Checking readback 891: submitted frame 946, current frame 948, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 61/512 completed
Minichunk 62/512 completed
Minichunk 63/512 completed
Minichunk 64/512 completed
Minichunk 65/512 completed
Minichunk 66/512 completed
Minichunk 67/512 completed
Minichunk 68/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (5 minichunks, 10240 bytes)
Minichunk 69/512 completed
Minichunk 70/512 completed
Minichunk 71/512 completed
Minichunk 72/512 completed
Minichunk 73/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 948
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 948, frames_in_flight: 3
Checking readback 891: submitted frame 946, current frame 948, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 38 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 4 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 4 minichunks in workspace 1
Overall bounds: [-32, -104, 72] to [0, -96, 80]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0338, alignment: 0
Returning buffer pointer: 0x2be052c0338 (aligned: true)
Created staging buffer at: 0x2be052c0338
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14425892723095513174), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c06b8, alignment: 0
Returning buffer pointer: 0x2be052c06b8 (aligned: true)
Created staging buffer at: 0x2be052c06b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12644382619912382552), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0478, alignment: 0
Returning buffer pointer: 0x2be052c0478 (aligned: true)
Created staging buffer at: 0x2be052c0478
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43eb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(814989904344787034), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c04b8, alignment: 0
Returning buffer pointer: 0x2be052c04b8 (aligned: true)
Created staging buffer at: 0x2be052c04b8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d9000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15336721558475384924), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-3.2e1,-1.0e2,7.2e1] to [0.0e0,-9.6e1,8.0e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c02b8, alignment: 0
Returning buffer pointer: 0x2be052c02b8 (aligned: true)
Submitting readback 892 at frame 948 (will be ready at frame 951)
Successfully queued 4 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 8 minichunks in workspace 2
Overall bounds: [-64, -96, 120] to [0, -88, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052bff78, alignment: 0
Returning buffer pointer: 0x2be052bff78 (aligned: true)
Created staging buffer at: 0x2be052bff78
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43da000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15911039362616272993), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0378, alignment: 0
Returning buffer pointer: 0x2be052c0378 (aligned: true)
Created staging buffer at: 0x2be052c0378
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cb000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2100238732866103395), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0538, alignment: 0
Returning buffer pointer: 0x2be052c0538 (aligned: true)
Created staging buffer at: 0x2be052c0538
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11140289196021786725), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0578, alignment: 0
Returning buffer pointer: 0x2be052c0578 (aligned: true)
Created staging buffer at: 0x2be052c0578
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d7000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13839562754421172327), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-9.6e1,1.2e2] to [0.0e0,-8.8e1,1.3e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c05b8, alignment: 0
Returning buffer pointer: 0x2be052c05b8 (aligned: true)
Submitting readback 893 at frame 948 (will be ready at frame 951)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 4 remaining minichunks from batch
Successfully queued 8 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 35.1ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 949
Processing readbacks: 3 pending, completed_frame: 949, frames_in_flight: 3
Checking readback 891: submitted frame 946, current frame 949, 3 frames elapsed (need 3)
Readback 891 ready (submitted frame 946, current frame 949)
Checking readback 892: submitted frame 948, current frame 949, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (10 minichunks, 20480 bytes)
Minichunk 74/512 completed
Minichunk 75/512 completed
Minichunk 76/512 completed
Minichunk 77/512 completed
Minichunk 78/512 completed
Minichunk 79/512 completed
Minichunk 80/512 completed
Minichunk 81/512 completed
Minichunk 82/512 completed
Minichunk 83/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 949
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 949, frames_in_flight: 3
Checking readback 892: submitted frame 948, current frame 949, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 37 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 3 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 0
Overall bounds: [-24, -72, 104] to [0, -64, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c01f8, alignment: 0
Returning buffer pointer: 0x2be052c01f8 (aligned: true)
Created staging buffer at: 0x2be052c01f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ab000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16183801809188431980), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c03b8, alignment: 0
Returning buffer pointer: 0x2be052c03b8 (aligned: true)
Created staging buffer at: 0x2be052c03b8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10028944624107661422), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052bfff8, alignment: 0
Returning buffer pointer: 0x2be052bfff8 (aligned: true)
Created staging buffer at: 0x2be052bfff8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17794977770019760240), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c02f8, alignment: 0
Returning buffer pointer: 0x2be052c02f8 (aligned: true)
Created staging buffer at: 0x2be052c02f8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c3000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17707823881332467826), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-7.2e1,1.0e2] to [0.0e0,-6.4e1,1.1e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052bffb8, alignment: 0
Returning buffer pointer: 0x2be052bffb8 (aligned: true)
Submitting readback 894 at frame 949 (will be ready at frame 952)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.5ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 9)
DeferredReadbackManager: advanced to frame 950
Processing readbacks: 3 pending, completed_frame: 950, frames_in_flight: 3
Checking readback 892: submitted frame 948, current frame 950, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 950
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 950, frames_in_flight: 3
Checking readback 892: submitted frame 948, current frame 950, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 36 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.6ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 951
Processing readbacks: 3 pending, completed_frame: 951, frames_in_flight: 3
Checking readback 892: submitted frame 948, current frame 951, 3 frames elapsed (need 3)
Readback 892 ready (submitted frame 948, current frame 951)
Checking readback 893: submitted frame 948, current frame 951, 3 frames elapsed (need 3)
Readback 893 ready (submitted frame 948, current frame 951)
Checking readback 894: submitted frame 949, current frame 951, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (4 minichunks, 8192 bytes)
Minichunk 84/512 completed
Minichunk 85/512 completed
Minichunk 86/512 completed
Minichunk 87/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (8 minichunks, 16384 bytes)
Minichunk 88/512 completed
Minichunk 89/512 completed
Minichunk 90/512 completed
Minichunk 91/512 completed
Minichunk 92/512 completed
Minichunk 93/512 completed
Minichunk 94/512 completed
Minichunk 95/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 951
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 951, frames_in_flight: 3
Checking readback 894: submitted frame 949, current frame 951, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 36 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [-64, -112, 120] to [0, -96, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c04f8, alignment: 0
Returning buffer pointer: 0x2be052c04f8 (aligned: true)
Created staging buffer at: 0x2be052c04f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18250398784779462775), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c03f8, alignment: 0
Returning buffer pointer: 0x2be052c03f8 (aligned: true)
Created staging buffer at: 0x2be052c03f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35be000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16535519086239557753), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c05f8, alignment: 0
Returning buffer pointer: 0x2be052c05f8 (aligned: true)
Created staging buffer at: 0x2be052c05f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ef000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14281641195577813115), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c02b8, alignment: 0
Returning buffer pointer: 0x2be052c02b8 (aligned: true)
Created staging buffer at: 0x2be052c02b8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f0000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16970930088885364861), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.1e2,1.2e2] to [0.0e0,-9.6e1,1.3e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=8 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0638, alignment: 0
Returning buffer pointer: 0x2be052c0638 (aligned: true)
Submitting readback 895 at frame 951 (will be ready at frame 954)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 2
Overall bounds: [-32, -104, 120] to [0, -96, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0038, alignment: 0
Returning buffer pointer: 0x2be052c0038 (aligned: true)
Created staging buffer at: 0x2be052c0038
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c3000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(796089299463317634), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0078, alignment: 0
Returning buffer pointer: 0x2be052c0078 (aligned: true)
Created staging buffer at: 0x2be052c0078
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439d000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15030061168418891908), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0438, alignment: 0
Returning buffer pointer: 0x2be052c0438 (aligned: true)
Created staging buffer at: 0x2be052c0438
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439e000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15735369290334873734), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c00b8, alignment: 0
Returning buffer pointer: 0x2be052c00b8 (aligned: true)
Created staging buffer at: 0x2be052c00b8
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c7000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2109669244097538184), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-3.2e1,-1.0e2,1.2e2] to [0.0e0,-9.6e1,1.3e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0678, alignment: 0
Returning buffer pointer: 0x2be052c0678 (aligned: true)
Submitting readback 896 at frame 951 (will be ready at frame 954)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.4ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 952
Processing readbacks: 3 pending, completed_frame: 952, frames_in_flight: 3
Checking readback 894: submitted frame 949, current frame 952, 3 frames elapsed (need 3)
Readback 894 ready (submitted frame 949, current frame 952)
Checking readback 895: submitted frame 951, current frame 952, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 96/512 completed
Minichunk 97/512 completed
Minichunk 98/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 952
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 952, frames_in_flight: 3
Checking readback 895: submitted frame 951, current frame 952, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 35 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 0
Overall bounds: [-64, -120, 120] to [0, -104, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c00f8, alignment: 0
Returning buffer pointer: 0x2be052c00f8 (aligned: true)
Created staging buffer at: 0x2be052c00f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c4000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11916357488254920845), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0138, alignment: 0
Returning buffer pointer: 0x2be052c0138 (aligned: true)
Created staging buffer at: 0x2be052c0138
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14183482295008110735), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052bffb8, alignment: 0
Returning buffer pointer: 0x2be052bffb8 (aligned: true)
Created staging buffer at: 0x2be052bffb8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ce000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3162419741855852689), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0178, alignment: 0
Returning buffer pointer: 0x2be052c0178 (aligned: true)
Created staging buffer at: 0x2be052c0178
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d1000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12626613412495894675), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.2e2,1.2e2] to [0.0e0,-1.0e2,1.3e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c01b8, alignment: 0
Returning buffer pointer: 0x2be052c01b8 (aligned: true)
Submitting readback 897 at frame 952 (will be ready at frame 955)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.9ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 10)
DeferredReadbackManager: advanced to frame 953
Processing readbacks: 3 pending, completed_frame: 953, frames_in_flight: 3
Checking readback 895: submitted frame 951, current frame 953, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 953
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 953, frames_in_flight: 3
Checking readback 895: submitted frame 951, current frame 953, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 35 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.8ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 954
Processing readbacks: 3 pending, completed_frame: 954, frames_in_flight: 3
Checking readback 895: submitted frame 951, current frame 954, 3 frames elapsed (need 3)
Readback 895 ready (submitted frame 951, current frame 954)
Checking readback 896: submitted frame 951, current frame 954, 3 frames elapsed (need 3)
Readback 896 ready (submitted frame 951, current frame 954)
Checking readback 897: submitted frame 952, current frame 954, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 99/512 completed
Minichunk 100/512 completed
Minichunk 101/512 completed
Minichunk 102/512 completed
Minichunk 103/512 completed
Minichunk 104/512 completed
Minichunk 105/512 completed
Minichunk 106/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (4 minichunks, 8192 bytes)
Minichunk 107/512 completed
Minichunk 108/512 completed
Minichunk 109/512 completed
Minichunk 110/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 954
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 954, frames_in_flight: 3
Checking readback 897: submitted frame 952, current frame 954, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 35 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 2 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 2 minichunks in workspace 1
Overall bounds: [-16, -80, 120] to [0, -72, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c05b8, alignment: 0
Returning buffer pointer: 0x2be052c05b8 (aligned: true)
Created staging buffer at: 0x2be052c05b8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3941525984716531864), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0638, alignment: 0
Returning buffer pointer: 0x2be052c0638 (aligned: true)
Created staging buffer at: 0x2be052c0638
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4069335415352469658), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0238, alignment: 0
Returning buffer pointer: 0x2be052c0238 (aligned: true)
Created staging buffer at: 0x2be052c0238
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bf000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9342356787166193820), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0278, alignment: 0
Returning buffer pointer: 0x2be052c0278 (aligned: true)
Created staging buffer at: 0x2be052c0278
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c8000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4525178642577238174), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.6e1,-8.0e1,1.2e2] to [0.0e0,-7.2e1,1.3e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0678, alignment: 0
Returning buffer pointer: 0x2be052c0678 (aligned: true)
Submitting readback 898 at frame 954 (will be ready at frame 957)
Successfully queued 2 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 2
Overall bounds: [-64, -128, 112] to [0, -64, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be8d8, alignment: 0
Returning buffer pointer: 0x2be052be8d8 (aligned: true)
Created staging buffer at: 0x2be052be8d8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5113642763321092259), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be698, alignment: 0
Returning buffer pointer: 0x2be052be698 (aligned: true)
Created staging buffer at: 0x2be052be698
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b8000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12952775840294250661), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0d08, alignment: 0
Returning buffer pointer: 0x2be052c0d08 (aligned: true)
Created staging buffer at: 0x2be052c0d08
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3411691122500577447), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0848, alignment: 0
Returning buffer pointer: 0x2be052c0848 (aligned: true)
Created staging buffer at: 0x2be052c0848
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bc000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5373362802964572329), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,1.1e2] to [0.0e0,-6.4e1,1.3e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=9 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0c88, alignment: 0
Returning buffer pointer: 0x2be052c0c88 (aligned: true)
Submitting readback 899 at frame 954 (will be ready at frame 957)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.5ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 955
Processing readbacks: 3 pending, completed_frame: 955, frames_in_flight: 3
Checking readback 897: submitted frame 952, current frame 955, 3 frames elapsed (need 3)
Readback 897 ready (submitted frame 952, current frame 955)
Checking readback 898: submitted frame 954, current frame 955, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 111/512 completed
Minichunk 112/512 completed
Minichunk 113/512 completed
Minichunk 114/512 completed
Minichunk 115/512 completed
Minichunk 116/512 completed
Minichunk 117/512 completed
Minichunk 118/512 completed
Minichunk 119/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 955
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 955, frames_in_flight: 3
Checking readback 898: submitted frame 954, current frame 955, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 34 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 4 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 0
Overall bounds: [-64, -88, 120] to [-32, -80, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0808, alignment: 0
Returning buffer pointer: 0x2be052c0808 (aligned: true)
Created staging buffer at: 0x2be052c0808
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6492987796947478702), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0b08, alignment: 0
Returning buffer pointer: 0x2be052c0b08 (aligned: true)
Created staging buffer at: 0x2be052c0b08
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(109269465568389296), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0888, alignment: 0
Returning buffer pointer: 0x2be052c0888 (aligned: true)
Created staging buffer at: 0x2be052c0888
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ad000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6408083509050615986), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0a08, alignment: 0
Returning buffer pointer: 0x2be052c0a08 (aligned: true)
Created staging buffer at: 0x2be052c0a08
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ae000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6032659661793011892), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.8e1,1.2e2] to [-3.2e1,-8.0e1,1.3e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0a48, alignment: 0
Returning buffer pointer: 0x2be052c0a48 (aligned: true)
Submitting readback 900 at frame 955 (will be ready at frame 958)
Successfully queued 4 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.3ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 956
Processing readbacks: 3 pending, completed_frame: 956, frames_in_flight: 3
Checking readback 898: submitted frame 954, current frame 956, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 956
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 956, frames_in_flight: 3
Checking readback 898: submitted frame 954, current frame 956, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 33 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.2ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 957
Processing readbacks: 3 pending, completed_frame: 957, frames_in_flight: 3
Checking readback 898: submitted frame 954, current frame 957, 3 frames elapsed (need 3)
Readback 898 ready (submitted frame 954, current frame 957)
Checking readback 899: submitted frame 954, current frame 957, 3 frames elapsed (need 3)
Readback 899 ready (submitted frame 954, current frame 957)
Checking readback 900: submitted frame 955, current frame 957, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (2 minichunks, 4096 bytes)
Minichunk 120/512 completed
Minichunk 121/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (9 minichunks, 18432 bytes)
Minichunk 122/512 completed
Minichunk 123/512 completed
Minichunk 124/512 completed
Minichunk 125/512 completed
Minichunk 126/512 completed
Minichunk 127/512 completed
Minichunk 128/512 completed
Minichunk 129/512 completed
Minichunk 130/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 957
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 957, frames_in_flight: 3
Checking readback 900: submitted frame 955, current frame 957, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 33 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 1
Overall bounds: [-64, -80, 112] to [0, -64, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0908, alignment: 0
Returning buffer pointer: 0x2be052c0908 (aligned: true)
Created staging buffer at: 0x2be052c0908
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1306090071425820857), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c08c8, alignment: 0
Returning buffer pointer: 0x2be052c08c8 (aligned: true)
Created staging buffer at: 0x2be052c08c8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8031703742485113019), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0948, alignment: 0
Returning buffer pointer: 0x2be052c0948 (aligned: true)
Created staging buffer at: 0x2be052c0948
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5529547330178525373), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0c88, alignment: 0
Returning buffer pointer: 0x2be052c0c88 (aligned: true)
Created staging buffer at: 0x2be052c0c88
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e7000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7053591392555116735), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e1,1.1e2] to [0.0e0,-6.4e1,1.2e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0e88, alignment: 0
Returning buffer pointer: 0x2be052c0e88 (aligned: true)
Submitting readback 901 at frame 957 (will be ready at frame 960)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [-48, -72, 112] to [-32, -64, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0d48, alignment: 0
Returning buffer pointer: 0x2be052c0d48 (aligned: true)
Created staging buffer at: 0x2be052c0d48
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9078068276709304516), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0b88, alignment: 0
Returning buffer pointer: 0x2be052c0b88 (aligned: true)
Created staging buffer at: 0x2be052c0b88
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439b000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8732907387494607046), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0b48, alignment: 0
Returning buffer pointer: 0x2be052c0b48 (aligned: true)
Created staging buffer at: 0x2be052c0b48
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439c000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8324564162101389512), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0ac8, alignment: 0
Returning buffer pointer: 0x2be052c0ac8 (aligned: true)
Created staging buffer at: 0x2be052c0ac8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d2000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8511654861660498122), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.8e1,-7.2e1,1.1e2] to [-3.2e1,-6.4e1,1.2e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0ec8, alignment: 0
Returning buffer pointer: 0x2be052c0ec8 (aligned: true)
Submitting readback 902 at frame 957 (will be ready at frame 960)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 958
Processing readbacks: 3 pending, completed_frame: 958, frames_in_flight: 3
Checking readback 900: submitted frame 955, current frame 958, 3 frames elapsed (need 3)
Readback 900 ready (submitted frame 955, current frame 958)
Checking readback 901: submitted frame 957, current frame 958, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (4 minichunks, 8192 bytes)
Minichunk 131/512 completed
Minichunk 132/512 completed
Minichunk 133/512 completed
Minichunk 134/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 958
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 958, frames_in_flight: 3
Checking readback 901: submitted frame 957, current frame 958, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 32 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 0
Overall bounds: [-64, -96, 112] to [0, -80, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0cc8, alignment: 0
Returning buffer pointer: 0x2be052c0cc8 (aligned: true)
Created staging buffer at: 0x2be052c0cc8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8041058387414231247), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0788, alignment: 0
Returning buffer pointer: 0x2be052c0788 (aligned: true)
Created staging buffer at: 0x2be052c0788
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4818132520681875665), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0dc8, alignment: 0
Returning buffer pointer: 0x2be052c0dc8 (aligned: true)
Created staging buffer at: 0x2be052c0dc8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b4000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7332688125614893267), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0a48, alignment: 0
Returning buffer pointer: 0x2be052c0a48 (aligned: true)
Created staging buffer at: 0x2be052c0a48
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4392000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1633486151270541525), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-9.6e1,1.1e2] to [0.0e0,-8.0e1,1.2e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c09c8, alignment: 0
Returning buffer pointer: 0x2be052c09c8 (aligned: true)
Submitting readback 903 at frame 958 (will be ready at frame 961)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.1ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 13)
DeferredReadbackManager: advanced to frame 959
Processing readbacks: 3 pending, completed_frame: 959, frames_in_flight: 3
Checking readback 901: submitted frame 957, current frame 959, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 959
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 959, frames_in_flight: 3
Checking readback 901: submitted frame 957, current frame 959, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 32 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.2ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 960
Processing readbacks: 3 pending, completed_frame: 960, frames_in_flight: 3
Checking readback 901: submitted frame 957, current frame 960, 3 frames elapsed (need 3)
Readback 901 ready (submitted frame 957, current frame 960)
Checking readback 902: submitted frame 957, current frame 960, 3 frames elapsed (need 3)
Readback 902 ready (submitted frame 957, current frame 960)
Checking readback 903: submitted frame 958, current frame 960, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 135/512 completed
Minichunk 136/512 completed
Minichunk 137/512 completed
Minichunk 138/512 completed
Minichunk 139/512 completed
Minichunk 140/512 completed
Minichunk 141/512 completed
Minichunk 142/512 completed
Minichunk 143/512 completed
Minichunk 144/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 145/512 completed
Minichunk 146/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 960
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 960, frames_in_flight: 3
Checking readback 903: submitted frame 958, current frame 960, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 32 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 3 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 3 minichunks in workspace 1
Overall bounds: [-56, -112, 120] to [-32, -104, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0d88, alignment: 0
Returning buffer pointer: 0x2be052c0d88 (aligned: true)
Created staging buffer at: 0x2be052c0d88
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e2000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6724973755291936986), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0e08, alignment: 0
Returning buffer pointer: 0x2be052c0e08 (aligned: true)
Created staging buffer at: 0x2be052c0e08
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43aa000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6009347816260905180), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0a88, alignment: 0
Returning buffer pointer: 0x2be052c0a88 (aligned: true)
Created staging buffer at: 0x2be052c0a88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1746530240257075422), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c07c8, alignment: 0
Returning buffer pointer: 0x2be052c07c8 (aligned: true)
Created staging buffer at: 0x2be052c07c8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b5000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11742680830554679520), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-5.6e1,-1.1e2,1.2e2] to [-3.2e1,-1.0e2,1.3e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0988, alignment: 0
Returning buffer pointer: 0x2be052c0988 (aligned: true)
Submitting readback 904 at frame 960 (will be ready at frame 963)
Successfully queued 3 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [-64, -104, 112] to [0, -88, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0c08, alignment: 0
Returning buffer pointer: 0x2be052c0c08 (aligned: true)
Created staging buffer at: 0x2be052c0c08
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a0000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4683742512953698533), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0c48, alignment: 0
Returning buffer pointer: 0x2be052c0c48 (aligned: true)
Created staging buffer at: 0x2be052c0c48
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4399000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2711322006816565479), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0e48, alignment: 0
Returning buffer pointer: 0x2be052c0e48 (aligned: true)
Created staging buffer at: 0x2be052c0e48
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12991436868150110441), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0e88, alignment: 0
Returning buffer pointer: 0x2be052c0e88 (aligned: true)
Created staging buffer at: 0x2be052c0e88
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43de000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3700842889396365547), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.0e2,1.1e2] to [0.0e0,-8.8e1,1.2e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0ec8, alignment: 0
Returning buffer pointer: 0x2be052c0ec8 (aligned: true)
Submitting readback 905 at frame 960 (will be ready at frame 963)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.1ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 961
Processing readbacks: 3 pending, completed_frame: 961, frames_in_flight: 3
Checking readback 903: submitted frame 958, current frame 961, 3 frames elapsed (need 3)
Readback 903 ready (submitted frame 958, current frame 961)
Checking readback 904: submitted frame 960, current frame 961, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 147/512 completed
Minichunk 148/512 completed
Minichunk 149/512 completed
Minichunk 150/512 completed
Minichunk 151/512 completed
Minichunk 152/512 completed
Minichunk 153/512 completed
Minichunk 154/512 completed
Minichunk 155/512 completed
Minichunk 156/512 completed
Minichunk 157/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 961
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 961, frames_in_flight: 3
Checking readback 904: submitted frame 960, current frame 961, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 31 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 3 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 0
Overall bounds: [-24, -128, 120] to [0, -120, 128]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c09c8, alignment: 0
Returning buffer pointer: 0x2be052c09c8 (aligned: true)
Created staging buffer at: 0x2be052c09c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4395000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3694061101676243184), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0bc8, alignment: 0
Returning buffer pointer: 0x2be052c0bc8 (aligned: true)
Created staging buffer at: 0x2be052c0bc8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d8000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9789227999508310258), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0678, alignment: 0
Returning buffer pointer: 0x2be052c0678 (aligned: true)
Created staging buffer at: 0x2be052c0678
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4396000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2346398495604222196), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c01b8, alignment: 0
Returning buffer pointer: 0x2be052c01b8 (aligned: true)
Created staging buffer at: 0x2be052c01b8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b9000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14487999736902068470), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-1.3e2,1.2e2] to [0.0e0,-1.2e2,1.3e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052be458, alignment: 0
Returning buffer pointer: 0x2be052be458 (aligned: true)
Submitting readback 906 at frame 961 (will be ready at frame 964)
Successfully queued 3 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.9ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 962
Processing readbacks: 3 pending, completed_frame: 962, frames_in_flight: 3
Checking readback 904: submitted frame 960, current frame 962, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 962
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 962, frames_in_flight: 3
Checking readback 904: submitted frame 960, current frame 962, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 30 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.0ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 963
Processing readbacks: 3 pending, completed_frame: 963, frames_in_flight: 3
Checking readback 904: submitted frame 960, current frame 963, 3 frames elapsed (need 3)
Readback 904 ready (submitted frame 960, current frame 963)
Checking readback 905: submitted frame 960, current frame 963, 3 frames elapsed (need 3)
Readback 905 ready (submitted frame 960, current frame 963)
Checking readback 906: submitted frame 961, current frame 963, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (3 minichunks, 6144 bytes)
Minichunk 158/512 completed
Minichunk 159/512 completed
Minichunk 160/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 161/512 completed
Minichunk 162/512 completed
Minichunk 163/512 completed
Minichunk 164/512 completed
Minichunk 165/512 completed
Minichunk 166/512 completed
Minichunk 167/512 completed
Minichunk 168/512 completed
Minichunk 169/512 completed
Minichunk 170/512 completed
Minichunk 171/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 963
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 963, frames_in_flight: 3
Checking readback 906: submitted frame 961, current frame 963, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 30 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 1
Overall bounds: [-64, -120, 112] to [0, -104, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0988, alignment: 0
Returning buffer pointer: 0x2be052c0988 (aligned: true)
Created staging buffer at: 0x2be052c0988
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43df000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12215479626591381755), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1558, alignment: 0
Returning buffer pointer: 0x2be052c1558 (aligned: true)
Created staging buffer at: 0x2be052c1558
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1615705948737775869), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1198, alignment: 0
Returning buffer pointer: 0x2be052c1198 (aligned: true)
Created staging buffer at: 0x2be052c1198
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43be000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15905207552942549247), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0f98, alignment: 0
Returning buffer pointer: 0x2be052c0f98 (aligned: true)
Created staging buffer at: 0x2be052c0f98
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e0000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16123907012776962305), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.2e2,1.1e2] to [0.0e0,-1.0e2,1.2e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c1698, alignment: 0
Returning buffer pointer: 0x2be052c1698 (aligned: true)
Submitting readback 907 at frame 963 (will be ready at frame 966)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [-16, -112, 112] to [0, -104, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c16d8, alignment: 0
Returning buffer pointer: 0x2be052c16d8 (aligned: true)
Created staging buffer at: 0x2be052c16d8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4390000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(575272180233808134), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c14d8, alignment: 0
Returning buffer pointer: 0x2be052c14d8 (aligned: true)
Created staging buffer at: 0x2be052c14d8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ba000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16335269431519226120), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1518, alignment: 0
Returning buffer pointer: 0x2be052c1518 (aligned: true)
Created staging buffer at: 0x2be052c1518
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14514180208271042826), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1358, alignment: 0
Returning buffer pointer: 0x2be052c1358 (aligned: true)
Created staging buffer at: 0x2be052c1358
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c6000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17403892479136114956), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.6e1,-1.1e2,1.1e2] to [0.0e0,-1.0e2,1.2e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0fd8, alignment: 0
Returning buffer pointer: 0x2be052c0fd8 (aligned: true)
Submitting readback 908 at frame 963 (will be ready at frame 966)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 34.3ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 964
Processing readbacks: 3 pending, completed_frame: 964, frames_in_flight: 3
Checking readback 906: submitted frame 961, current frame 964, 3 frames elapsed (need 3)
Readback 906 ready (submitted frame 961, current frame 964)
Checking readback 907: submitted frame 963, current frame 964, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (3 minichunks, 6144 bytes)
Minichunk 172/512 completed
Minichunk 173/512 completed
Minichunk 174/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 964
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 964, frames_in_flight: 3
Checking readback 907: submitted frame 963, current frame 964, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 0
Overall bounds: [-64, -128, 112] to [0, -112, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1498, alignment: 0
Returning buffer pointer: 0x2be052c1498 (aligned: true)
Created staging buffer at: 0x2be052c1498
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c1000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17298239307311491345), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1658, alignment: 0
Returning buffer pointer: 0x2be052c1658 (aligned: true)
Created staging buffer at: 0x2be052c1658
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18057520256011741459), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c10d8, alignment: 0
Returning buffer pointer: 0x2be052c10d8 (aligned: true)
Created staging buffer at: 0x2be052c10d8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c9000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18438032643082692885), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1458, alignment: 0
Returning buffer pointer: 0x2be052c1458 (aligned: true)
Created staging buffer at: 0x2be052c1458
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d4000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(18179869511904143639), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,1.1e2] to [0.0e0,-1.1e2,1.2e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c15d8, alignment: 0
Returning buffer pointer: 0x2be052c15d8 (aligned: true)
Submitting readback 909 at frame 964 (will be ready at frame 967)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.2ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 12)
DeferredReadbackManager: advanced to frame 965
Processing readbacks: 3 pending, completed_frame: 965, frames_in_flight: 3
Checking readback 907: submitted frame 963, current frame 965, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 965
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 965, frames_in_flight: 3
Checking readback 907: submitted frame 963, current frame 965, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.2ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 966
Processing readbacks: 3 pending, completed_frame: 966, frames_in_flight: 3
Checking readback 907: submitted frame 963, current frame 966, 3 frames elapsed (need 3)
Readback 907 ready (submitted frame 963, current frame 966)
Checking readback 908: submitted frame 963, current frame 966, 3 frames elapsed (need 3)
Readback 908 ready (submitted frame 963, current frame 966)
Checking readback 909: submitted frame 964, current frame 966, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 175/512 completed
Minichunk 176/512 completed
Minichunk 177/512 completed
Minichunk 178/512 completed
Minichunk 179/512 completed
Minichunk 180/512 completed
Minichunk 181/512 completed
Minichunk 182/512 completed
Minichunk 183/512 completed
Minichunk 184/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 185/512 completed
Minichunk 186/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 966
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 966, frames_in_flight: 3
Checking readback 909: submitted frame 964, current frame 966, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 29 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 1
Overall bounds: [-64, -88, 104] to [0, -72, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1218, alignment: 0
Returning buffer pointer: 0x2be052c1218 (aligned: true)
Created staging buffer at: 0x2be052c1218
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16452559834412230940), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1258, alignment: 0
Returning buffer pointer: 0x2be052c1258 (aligned: true)
Created staging buffer at: 0x2be052c1258
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4397000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14793530928516835614), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c13d8, alignment: 0
Returning buffer pointer: 0x2be052c13d8 (aligned: true)
Created staging buffer at: 0x2be052c13d8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4398000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10495251903493974304), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1098, alignment: 0
Returning buffer pointer: 0x2be052c1098 (aligned: true)
Created staging buffer at: 0x2be052c1098
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c2000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16789386425488386338), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.8e1,1.0e2] to [0.0e0,-7.2e1,1.1e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c1158, alignment: 0
Returning buffer pointer: 0x2be052c1158 (aligned: true)
Submitting readback 910 at frame 966 (will be ready at frame 969)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [-40, -80, 104] to [-32, -72, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1398, alignment: 0
Returning buffer pointer: 0x2be052c1398 (aligned: true)
Created staging buffer at: 0x2be052c1398
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15629540196649806119), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1418, alignment: 0
Returning buffer pointer: 0x2be052c1418 (aligned: true)
Created staging buffer at: 0x2be052c1418
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43db000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16086468641851189545), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1298, alignment: 0
Returning buffer pointer: 0x2be052c1298 (aligned: true)
Created staging buffer at: 0x2be052c1298
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43dc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1906232105168283947), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1598, alignment: 0
Returning buffer pointer: 0x2be052c1598 (aligned: true)
Created staging buffer at: 0x2be052c1598
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ec000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15288579441853212973), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-8.0e1,1.0e2] to [-3.2e1,-7.2e1,1.1e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c1698, alignment: 0
Returning buffer pointer: 0x2be052c1698 (aligned: true)
Submitting readback 911 at frame 966 (will be ready at frame 969)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.1ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 967
Processing readbacks: 3 pending, completed_frame: 967, frames_in_flight: 3
Checking readback 909: submitted frame 964, current frame 967, 3 frames elapsed (need 3)
Readback 909 ready (submitted frame 964, current frame 967)
Checking readback 910: submitted frame 966, current frame 967, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 187/512 completed
Minichunk 188/512 completed
Minichunk 189/512 completed
Minichunk 190/512 completed
Minichunk 191/512 completed
Minichunk 192/512 completed
Minichunk 193/512 completed
Minichunk 194/512 completed
Minichunk 195/512 completed
Minichunk 196/512 completed
Minichunk 197/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 967
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 967, frames_in_flight: 3
Checking readback 910: submitted frame 966, current frame 967, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 28 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 1 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 0
Overall bounds: [-8, -88, 112] to [0, -80, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c11d8, alignment: 0
Returning buffer pointer: 0x2be052c11d8 (aligned: true)
Created staging buffer at: 0x2be052c11d8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ee000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14745802228266707250), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1318, alignment: 0
Returning buffer pointer: 0x2be052c1318 (aligned: true)
Created staging buffer at: 0x2be052c1318
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ca000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(993266918695643444), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c15d8, alignment: 0
Returning buffer pointer: 0x2be052c15d8 (aligned: true)
Created staging buffer at: 0x2be052c15d8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4391000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12312411472184486198), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1618, alignment: 0
Returning buffer pointer: 0x2be052c1618 (aligned: true)
Created staging buffer at: 0x2be052c1618
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ac000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14386686337472276792), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-8.8e1,1.1e2] to [0.0e0,-8.0e1,1.2e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0fd8, alignment: 0
Returning buffer pointer: 0x2be052c0fd8 (aligned: true)
Submitting readback 912 at frame 967 (will be ready at frame 970)
Successfully queued 1 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.3ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 16)
DeferredReadbackManager: advanced to frame 968
Processing readbacks: 3 pending, completed_frame: 968, frames_in_flight: 3
Checking readback 910: submitted frame 966, current frame 968, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 968
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 968, frames_in_flight: 3
Checking readback 910: submitted frame 966, current frame 968, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 30.3ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 4)
DeferredReadbackManager: advanced to frame 969
Processing readbacks: 3 pending, completed_frame: 969, frames_in_flight: 3
Checking readback 910: submitted frame 966, current frame 969, 3 frames elapsed (need 3)
Readback 910 ready (submitted frame 966, current frame 969)
Checking readback 911: submitted frame 966, current frame 969, 3 frames elapsed (need 3)
Readback 911 ready (submitted frame 966, current frame 969)
Checking readback 912: submitted frame 967, current frame 969, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (11 minichunks, 22528 bytes)
Minichunk 198/512 completed
Minichunk 199/512 completed
Minichunk 200/512 completed
Minichunk 201/512 completed
Minichunk 202/512 completed
Minichunk 203/512 completed
Minichunk 204/512 completed
Minichunk 205/512 completed
Minichunk 206/512 completed
Minichunk 207/512 completed
Minichunk 208/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 209/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 969
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 969, frames_in_flight: 3
Checking readback 912: submitted frame 967, current frame 969, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 27 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 1 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 1 minichunks in workspace 1
Overall bounds: [-40, -96, 112] to [-32, -88, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1698, alignment: 0
Returning buffer pointer: 0x2be052c1698 (aligned: true)
Created staging buffer at: 0x2be052c1698
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4565631874386372925), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1018, alignment: 0
Returning buffer pointer: 0x2be052c1018 (aligned: true)
Created staging buffer at: 0x2be052c1018
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13517237622203754815), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1118, alignment: 0
Returning buffer pointer: 0x2be052c1118 (aligned: true)
Created staging buffer at: 0x2be052c1118
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ea000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3893475127559465281), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1058, alignment: 0
Returning buffer pointer: 0x2be052c1058 (aligned: true)
Created staging buffer at: 0x2be052c1058
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a6000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3883199091886270787), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-9.6e1,1.1e2] to [-3.2e1,-8.8e1,1.2e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c1158, alignment: 0
Returning buffer pointer: 0x2be052c1158 (aligned: true)
Submitting readback 913 at frame 969 (will be ready at frame 972)
Successfully queued 1 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 12 minichunks in workspace 2
Overall bounds: [-64, -104, 104] to [0, -88, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c12d8, alignment: 0
Returning buffer pointer: 0x2be052c12d8 (aligned: true)
Created staging buffer at: 0x2be052c12d8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bc000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10226115646270220616), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be458, alignment: 0
Returning buffer pointer: 0x2be052be458 (aligned: true)
Created staging buffer at: 0x2be052be458
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2647258961824196938), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be718, alignment: 0
Returning buffer pointer: 0x2be052be718 (aligned: true)
Created staging buffer at: 0x2be052be718
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43dd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5063543516001478988), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be958, alignment: 0
Returning buffer pointer: 0x2be052be958 (aligned: true)
Created staging buffer at: 0x2be052be958
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f2000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11182173991970285902), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.0e2,1.0e2] to [0.0e0,-8.8e1,1.1e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052be558, alignment: 0
Returning buffer pointer: 0x2be052be558 (aligned: true)
Submitting readback 914 at frame 969 (will be ready at frame 972)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 35.2ms (target: 10.0ms), Workgroups: 13 -> 13 (PID: 16)
DeferredReadbackManager: advanced to frame 970
Processing readbacks: 3 pending, completed_frame: 970, frames_in_flight: 3
Checking readback 912: submitted frame 967, current frame 970, 3 frames elapsed (need 3)
Readback 912 ready (submitted frame 967, current frame 970)
Checking readback 913: submitted frame 969, current frame 970, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (1 minichunks, 2048 bytes)
Minichunk 210/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 970
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true

=== Camera State ===
Position: [0.00, -5.00, 5.00]
Rotation: [Yaw: -0.0°, Pitch: 0.0°, Roll: -45.0°]
Mesh Generator: SimpleCube
==================
Controls:
  WASD/Left Stick: Move
  Mouse/Right Stick: Look
  Left Click/RT: Place voxel
  Right Click/LT: Remove voxel
  B/Circle: Toggle mesh generator
  Start/Menu: Save/Load world

Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 970, frames_in_flight: 3
Checking readback 913: submitted frame 969, current frame 970, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 25 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 1 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 0
Overall bounds: [-40, -120, 112] to [-32, -112, 120]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be418, alignment: 0
Returning buffer pointer: 0x2be052be418 (aligned: true)
Created staging buffer at: 0x2be052be418
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1997193602622564691), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052bea18, alignment: 0
Returning buffer pointer: 0x2be052bea18 (aligned: true)
Created staging buffer at: 0x2be052bea18
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5831821768351820117), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052bea98, alignment: 0
Returning buffer pointer: 0x2be052bea98 (aligned: true)
Created staging buffer at: 0x2be052bea98
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7603511033675655511), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be5d8, alignment: 0
Returning buffer pointer: 0x2be052be5d8 (aligned: true)
Created staging buffer at: 0x2be052be5d8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a4000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(942324345957525849), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-1.2e2,1.1e2] to [-3.2e1,-1.1e2,1.2e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052be358, alignment: 0
Returning buffer pointer: 0x2be052be358 (aligned: true)
Submitting readback 915 at frame 970 (will be ready at frame 973)
Successfully queued 1 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 34.9ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 11)
DeferredReadbackManager: advanced to frame 971
Processing readbacks: 3 pending, completed_frame: 971, frames_in_flight: 3
Checking readback 913: submitted frame 969, current frame 971, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 971
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 971, frames_in_flight: 3
Checking readback 913: submitted frame 969, current frame 971, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.7ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 972
Processing readbacks: 3 pending, completed_frame: 972, frames_in_flight: 3
Checking readback 913: submitted frame 969, current frame 972, 3 frames elapsed (need 3)
Readback 913 ready (submitted frame 969, current frame 972)
Checking readback 914: submitted frame 969, current frame 972, 3 frames elapsed (need 3)
Readback 914 ready (submitted frame 969, current frame 972)
Checking readback 915: submitted frame 970, current frame 972, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (1 minichunks, 2048 bytes)
Minichunk 211/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (12 minichunks, 24576 bytes)
Minichunk 212/512 completed
Minichunk 213/512 completed
Minichunk 214/512 completed
Minichunk 215/512 completed
Minichunk 216/512 completed
Minichunk 217/512 completed
Minichunk 218/512 completed
Minichunk 219/512 completed
Minichunk 220/512 completed
Minichunk 221/512 completed
Minichunk 222/512 completed
Minichunk 223/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 972
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 972, frames_in_flight: 3
Checking readback 915: submitted frame 970, current frame 972, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 24 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 1
Overall bounds: [-64, -112, 104] to [0, -96, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be4d8, alignment: 0
Returning buffer pointer: 0x2be052be4d8 (aligned: true)
Created staging buffer at: 0x2be052be4d8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e6000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7105381688758249822), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be3d8, alignment: 0
Returning buffer pointer: 0x2be052be3d8 (aligned: true)
Created staging buffer at: 0x2be052be3d8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4393000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4927814303110670688), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be518, alignment: 0
Returning buffer pointer: 0x2be052be518 (aligned: true)
Created staging buffer at: 0x2be052be518
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4394000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8919852951518849378), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be7d8, alignment: 0
Returning buffer pointer: 0x2be052be7d8 (aligned: true)
Created staging buffer at: 0x2be052be7d8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c2000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9148984577677601124), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.1e2,1.0e2] to [0.0e0,-9.6e1,1.1e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052be998, alignment: 0
Returning buffer pointer: 0x2be052be998 (aligned: true)
Submitting readback 916 at frame 972 (will be ready at frame 975)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [-40, -104, 104] to [-32, -96, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be498, alignment: 0
Returning buffer pointer: 0x2be052be498 (aligned: true)
Created staging buffer at: 0x2be052be498
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43af000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8561162571724368233), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be758, alignment: 0
Returning buffer pointer: 0x2be052be758 (aligned: true)
Created staging buffer at: 0x2be052be758
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7612365400814135659), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be618, alignment: 0
Returning buffer pointer: 0x2be052be618 (aligned: true)
Created staging buffer at: 0x2be052be618
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ed000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9327429817307507053), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be558, alignment: 0
Returning buffer pointer: 0x2be052be558 (aligned: true)
Created staging buffer at: 0x2be052be558
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35ca000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(7964670916586121583), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-1.0e2,1.0e2] to [-3.2e1,-9.6e1,1.1e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052be658, alignment: 0
Returning buffer pointer: 0x2be052be658 (aligned: true)
Submitting readback 917 at frame 972 (will be ready at frame 975)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.6ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 973
Processing readbacks: 3 pending, completed_frame: 973, frames_in_flight: 3
Checking readback 915: submitted frame 970, current frame 973, 3 frames elapsed (need 3)
Readback 915 ready (submitted frame 970, current frame 973)
Checking readback 916: submitted frame 972, current frame 973, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (1 minichunks, 2048 bytes)
Minichunk 224/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 973
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 973, frames_in_flight: 3
Checking readback 916: submitted frame 972, current frame 973, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 23 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 12 minichunks in workspace 0
Overall bounds: [-64, -128, 104] to [0, -112, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be798, alignment: 0
Returning buffer pointer: 0x2be052be798 (aligned: true)
Created staging buffer at: 0x2be052be798
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5044182215747971444), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be6d8, alignment: 0
Returning buffer pointer: 0x2be052be6d8 (aligned: true)
Created staging buffer at: 0x2be052be6d8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c5000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10658396339311749494), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be9d8, alignment: 0
Returning buffer pointer: 0x2be052be9d8 (aligned: true)
Created staging buffer at: 0x2be052be9d8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2077289726171163000), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be398, alignment: 0
Returning buffer pointer: 0x2be052be398 (aligned: true)
Created staging buffer at: 0x2be052be398
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bf000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6511719077038270842), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,1.0e2] to [0.0e0,-1.1e2,1.1e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=12 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052be918, alignment: 0
Returning buffer pointer: 0x2be052be918 (aligned: true)
Submitting readback 918 at frame 973 (will be ready at frame 976)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.1ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 9)
DeferredReadbackManager: advanced to frame 974
Processing readbacks: 3 pending, completed_frame: 974, frames_in_flight: 3
Checking readback 916: submitted frame 972, current frame 974, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 974
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 974, frames_in_flight: 3
Checking readback 916: submitted frame 972, current frame 974, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 22 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.1ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 975
Processing readbacks: 3 pending, completed_frame: 975, frames_in_flight: 3
Checking readback 916: submitted frame 972, current frame 975, 3 frames elapsed (need 3)
Readback 916 ready (submitted frame 972, current frame 975)
Checking readback 917: submitted frame 972, current frame 975, 3 frames elapsed (need 3)
Readback 917 ready (submitted frame 972, current frame 975)
Checking readback 918: submitted frame 973, current frame 975, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (11 minichunks, 22528 bytes)
Minichunk 225/512 completed
Minichunk 226/512 completed
Minichunk 227/512 completed
Minichunk 228/512 completed
Minichunk 229/512 completed
Minichunk 230/512 completed
Minichunk 231/512 completed
Minichunk 232/512 completed
Minichunk 233/512 completed
Minichunk 234/512 completed
Minichunk 235/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 236/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 975
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 975, frames_in_flight: 3
Checking readback 918: submitted frame 973, current frame 975, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 22 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 1
Overall bounds: [-64, -128, 96] to [0, -64, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be818, alignment: 0
Returning buffer pointer: 0x2be052be818 (aligned: true)
Created staging buffer at: 0x2be052be818
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cb000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12269532717724477823), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be658, alignment: 0
Returning buffer pointer: 0x2be052be658 (aligned: true)
Created staging buffer at: 0x2be052be658
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(94616274105018753), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052bea58, alignment: 0
Returning buffer pointer: 0x2be052bea58 (aligned: true)
Created staging buffer at: 0x2be052bea58
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12153428687877843331), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be858, alignment: 0
Returning buffer pointer: 0x2be052be858 (aligned: true)
Created staging buffer at: 0x2be052be858
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cc000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12827264388960364933), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,9.6e1] to [0.0e0,-6.4e1,1.1e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=10 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052be358, alignment: 0
Returning buffer pointer: 0x2be052be358 (aligned: true)
Submitting readback 919 at frame 975 (will be ready at frame 978)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [-48, -128, 104] to [-32, -120, 112]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be898, alignment: 0
Returning buffer pointer: 0x2be052be898 (aligned: true)
Created staging buffer at: 0x2be052be898
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3716654966115412362), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052be998, alignment: 0
Returning buffer pointer: 0x2be052be998 (aligned: true)
Created staging buffer at: 0x2be052be998
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43da000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13765973540685752716), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a46e28, alignment: 0
Returning buffer pointer: 0x2be06a46e28 (aligned: true)
Created staging buffer at: 0x2be06a46e28
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cf000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(4350989612458453390), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a46ee8, alignment: 0
Returning buffer pointer: 0x2be06a46ee8 (aligned: true)
Created staging buffer at: 0x2be06a46ee8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d0000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2465558068264446352), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.8e1,-1.3e2,1.0e2] to [-3.2e1,-1.2e2,1.1e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be06a46f68, alignment: 0
Returning buffer pointer: 0x2be06a46f68 (aligned: true)
Submitting readback 920 at frame 975 (will be ready at frame 978)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 976
Processing readbacks: 3 pending, completed_frame: 976, frames_in_flight: 3
Checking readback 918: submitted frame 973, current frame 976, 3 frames elapsed (need 3)
Readback 918 ready (submitted frame 973, current frame 976)
Checking readback 919: submitted frame 975, current frame 976, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (12 minichunks, 24576 bytes)
Minichunk 237/512 completed
Minichunk 238/512 completed
Minichunk 239/512 completed
Minichunk 240/512 completed
Minichunk 241/512 completed
Minichunk 242/512 completed
Minichunk 243/512 completed
Minichunk 244/512 completed
Minichunk 245/512 completed
Minichunk 246/512 completed
Minichunk 247/512 completed
Minichunk 248/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 976
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 976, frames_in_flight: 3
Checking readback 919: submitted frame 975, current frame 976, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 0
Overall bounds: [-64, -88, 96] to [0, -72, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a46fa8, alignment: 0
Returning buffer pointer: 0x2be06a46fa8 (aligned: true)
Created staging buffer at: 0x2be06a46fa8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35be000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10213748339480996245), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a47068, alignment: 0
Returning buffer pointer: 0x2be06a47068 (aligned: true)
Created staging buffer at: 0x2be06a47068
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3370737612900805015), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a46fe8, alignment: 0
Returning buffer pointer: 0x2be06a46fe8 (aligned: true)
Created staging buffer at: 0x2be06a46fe8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c3000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15000648132864256409), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a470e8, alignment: 0
Returning buffer pointer: 0x2be06a470e8 (aligned: true)
Created staging buffer at: 0x2be06a470e8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c4000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10850086296009845147), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.8e1,9.6e1] to [0.0e0,-7.2e1,1.0e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be06a47168, alignment: 0
Returning buffer pointer: 0x2be06a47168 (aligned: true)
Submitting readback 921 at frame 976 (will be ready at frame 979)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.8ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 11)
DeferredReadbackManager: advanced to frame 977
Processing readbacks: 3 pending, completed_frame: 977, frames_in_flight: 3
Checking readback 919: submitted frame 975, current frame 977, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 977
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 977, frames_in_flight: 3
Checking readback 919: submitted frame 975, current frame 977, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.0ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 978
Processing readbacks: 3 pending, completed_frame: 978, frames_in_flight: 3
Checking readback 919: submitted frame 975, current frame 978, 3 frames elapsed (need 3)
Readback 919 ready (submitted frame 975, current frame 978)
Checking readback 920: submitted frame 975, current frame 978, 3 frames elapsed (need 3)
Readback 920 ready (submitted frame 975, current frame 978)
Checking readback 921: submitted frame 976, current frame 978, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 249/512 completed
Minichunk 250/512 completed
Minichunk 251/512 completed
Minichunk 252/512 completed
Minichunk 253/512 completed
Minichunk 254/512 completed
Minichunk 255/512 completed
Minichunk 256/512 completed
Minichunk 257/512 completed
Minichunk 258/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 259/512 completed
Minichunk 260/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 978
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 978, frames_in_flight: 3
Checking readback 921: submitted frame 976, current frame 978, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 21 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 1
Overall bounds: [-64, -96, 96] to [0, -80, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be06a46f68, alignment: 0
Returning buffer pointer: 0x2be06a46f68 (aligned: true)
Created staging buffer at: 0x2be06a46f68
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ab000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2263299605800167840), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052bff78, alignment: 0
Returning buffer pointer: 0x2be052bff78 (aligned: true)
Created staging buffer at: 0x2be052bff78
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14016161914028042658), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c00b8, alignment: 0
Returning buffer pointer: 0x2be052c00b8 (aligned: true)
Created staging buffer at: 0x2be052c00b8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bb000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16435322790623586724), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0438, alignment: 0
Returning buffer pointer: 0x2be052c0438 (aligned: true)
Created staging buffer at: 0x2be052c0438
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439d000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1651815010105567654), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-9.6e1,9.6e1] to [0.0e0,-8.0e1,1.0e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c01f8, alignment: 0
Returning buffer pointer: 0x2be052c01f8 (aligned: true)
Submitting readback 922 at frame 978 (will be ready at frame 981)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [-48, -88, 96] to [-32, -80, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c05f8, alignment: 0
Returning buffer pointer: 0x2be052c05f8 (aligned: true)
Created staging buffer at: 0x2be052c05f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439e000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17070032370431699371), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0378, alignment: 0
Returning buffer pointer: 0x2be052c0378 (aligned: true)
Created staging buffer at: 0x2be052c0378
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c3000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17460312818803812781), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0038, alignment: 0
Returning buffer pointer: 0x2be052c0038 (aligned: true)
Created staging buffer at: 0x2be052c0038
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(608528008927521199), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c06b8, alignment: 0
Returning buffer pointer: 0x2be052c06b8 (aligned: true)
Created staging buffer at: 0x2be052c06b8
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ef000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16229313893996964273), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.8e1,-8.8e1,9.6e1] to [-3.2e1,-8.0e1,1.0e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c03b8, alignment: 0
Returning buffer pointer: 0x2be052c03b8 (aligned: true)
Submitting readback 923 at frame 978 (will be ready at frame 981)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 979
Processing readbacks: 3 pending, completed_frame: 979, frames_in_flight: 3
Checking readback 921: submitted frame 976, current frame 979, 3 frames elapsed (need 3)
Readback 921 ready (submitted frame 976, current frame 979)
Checking readback 922: submitted frame 978, current frame 979, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 261/512 completed
Minichunk 262/512 completed
Minichunk 263/512 completed
Minichunk 264/512 completed
Minichunk 265/512 completed
Minichunk 266/512 completed
Minichunk 267/512 completed
Minichunk 268/512 completed
Minichunk 269/512 completed
Minichunk 270/512 completed
Minichunk 271/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 979
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 979, frames_in_flight: 3
Checking readback 922: submitted frame 978, current frame 979, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 0
Overall bounds: [-64, -112, 96] to [0, -96, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0278, alignment: 0
Returning buffer pointer: 0x2be052c0278 (aligned: true)
Created staging buffer at: 0x2be052c0278
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43eb000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13880934078439500214), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0538, alignment: 0
Returning buffer pointer: 0x2be052c0538 (aligned: true)
Created staging buffer at: 0x2be052c0538
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16569941496770341304), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0238, alignment: 0
Returning buffer pointer: 0x2be052c0238 (aligned: true)
Created staging buffer at: 0x2be052c0238
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17620896492040497594), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c04f8, alignment: 0
Returning buffer pointer: 0x2be052c04f8 (aligned: true)
Created staging buffer at: 0x2be052c04f8
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c4000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17537093914794666428), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.1e2,9.6e1] to [0.0e0,-9.6e1,1.0e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0478, alignment: 0
Returning buffer pointer: 0x2be052c0478 (aligned: true)
Submitting readback 924 at frame 979 (will be ready at frame 982)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.9ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 980
Processing readbacks: 3 pending, completed_frame: 980, frames_in_flight: 3
Checking readback 922: submitted frame 978, current frame 980, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 980
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 980, frames_in_flight: 3
Checking readback 922: submitted frame 978, current frame 980, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 29.0ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 981
Processing readbacks: 3 pending, completed_frame: 981, frames_in_flight: 3
Checking readback 922: submitted frame 978, current frame 981, 3 frames elapsed (need 3)
Readback 922 ready (submitted frame 978, current frame 981)
Checking readback 923: submitted frame 978, current frame 981, 3 frames elapsed (need 3)
Readback 923 ready (submitted frame 978, current frame 981)
Checking readback 924: submitted frame 979, current frame 981, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 272/512 completed
Minichunk 273/512 completed
Minichunk 274/512 completed
Minichunk 275/512 completed
Minichunk 276/512 completed
Minichunk 277/512 completed
Minichunk 278/512 completed
Minichunk 279/512 completed
Minichunk 280/512 completed
Minichunk 281/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 282/512 completed
Minichunk 283/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 981
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 981, frames_in_flight: 3
Checking readback 924: submitted frame 979, current frame 981, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 20 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 11 minichunks in workspace 1
Overall bounds: [-64, -120, 96] to [0, -104, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052bffb8, alignment: 0
Returning buffer pointer: 0x2be052bffb8 (aligned: true)
Created staging buffer at: 0x2be052bffb8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b7000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15305741718851168705), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052bfff8, alignment: 0
Returning buffer pointer: 0x2be052bfff8 (aligned: true)
Created staging buffer at: 0x2be052bfff8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bf000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9679951936870164931), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0338, alignment: 0
Returning buffer pointer: 0x2be052c0338 (aligned: true)
Created staging buffer at: 0x2be052c0338
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b8000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16203343429348895173), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0578, alignment: 0
Returning buffer pointer: 0x2be052c0578 (aligned: true)
Created staging buffer at: 0x2be052c0578
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c0000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15702562062385293767), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.2e2,9.6e1] to [0.0e0,-1.0e2,1.0e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c02b8, alignment: 0
Returning buffer pointer: 0x2be052c02b8 (aligned: true)
Submitting readback 925 at frame 981 (will be ready at frame 984)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 2
Overall bounds: [-40, -112, 96] to [-32, -104, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c02f8, alignment: 0
Returning buffer pointer: 0x2be052c02f8 (aligned: true)
Created staging buffer at: 0x2be052c02f8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d5000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11084155828888938956), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c00f8, alignment: 0
Returning buffer pointer: 0x2be052c00f8 (aligned: true)
Created staging buffer at: 0x2be052c00f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1633565316107741646), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c01f8, alignment: 0
Returning buffer pointer: 0x2be052c01f8 (aligned: true)
Created staging buffer at: 0x2be052c01f8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43f0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14628158882141186512), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c03b8, alignment: 0
Returning buffer pointer: 0x2be052c03b8 (aligned: true)
Created staging buffer at: 0x2be052c03b8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c8000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12663905548375173586), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-1.1e2,9.6e1] to [-3.2e1,-1.0e2,1.0e2]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c05b8, alignment: 0
Returning buffer pointer: 0x2be052c05b8 (aligned: true)
Submitting readback 926 at frame 981 (will be ready at frame 984)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.5ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 982
Processing readbacks: 3 pending, completed_frame: 982, frames_in_flight: 3
Checking readback 924: submitted frame 979, current frame 982, 3 frames elapsed (need 3)
Readback 924 ready (submitted frame 979, current frame 982)
Checking readback 925: submitted frame 981, current frame 982, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 284/512 completed
Minichunk 285/512 completed
Minichunk 286/512 completed
Minichunk 287/512 completed
Minichunk 288/512 completed
Minichunk 289/512 completed
Minichunk 290/512 completed
Minichunk 291/512 completed
Minichunk 292/512 completed
Minichunk 293/512 completed
Minichunk 294/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 982
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 982, frames_in_flight: 3
Checking readback 925: submitted frame 981, current frame 982, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 19 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 12 minichunks in workspace 0
Overall bounds: [-64, -128, 88] to [0, -64, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0078, alignment: 0
Returning buffer pointer: 0x2be052c0078 (aligned: true)
Created staging buffer at: 0x2be052c0078
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ad000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(303014409498798551), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c03f8, alignment: 0
Returning buffer pointer: 0x2be052c03f8 (aligned: true)
Created staging buffer at: 0x2be052c03f8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a7000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11745176721949731289), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0638, alignment: 0
Returning buffer pointer: 0x2be052c0638 (aligned: true)
Created staging buffer at: 0x2be052c0638
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a1000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13387233566358776283), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 768, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0138, alignment: 0
Returning buffer pointer: 0x2be052c0138 (aligned: true)
Created staging buffer at: 0x2be052c0138
Staging buffer cast successful
About to map memory for staging buffer - size: 768
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e4000
About to memcpy 768 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3481506812329470429), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,8.8e1] to [0.0e0,-6.4e1,1.0e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 12
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x8x2 workgroups for 64x64x16 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=8, z=2
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=12 (of 128 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=12, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0178, alignment: 0
Returning buffer pointer: 0x2be052c0178 (aligned: true)
Submitting readback 927 at frame 982 (will be ready at frame 985)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.5ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 12)
DeferredReadbackManager: advanced to frame 983
Processing readbacks: 3 pending, completed_frame: 983, frames_in_flight: 3
Checking readback 925: submitted frame 981, current frame 983, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 983
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 983, frames_in_flight: 3
Checking readback 925: submitted frame 981, current frame 983, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 28.7ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 4)
DeferredReadbackManager: advanced to frame 984
Processing readbacks: 3 pending, completed_frame: 984, frames_in_flight: 3
Checking readback 925: submitted frame 981, current frame 984, 3 frames elapsed (need 3)
Readback 925 ready (submitted frame 981, current frame 984)
Checking readback 926: submitted frame 981, current frame 984, 3 frames elapsed (need 3)
Readback 926 ready (submitted frame 981, current frame 984)
Checking readback 927: submitted frame 982, current frame 984, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (11 minichunks, 22528 bytes)
Minichunk 295/512 completed
Minichunk 296/512 completed
Minichunk 297/512 completed
Minichunk 298/512 completed
Minichunk 299/512 completed
Minichunk 300/512 completed
Minichunk 301/512 completed
Minichunk 302/512 completed
Minichunk 303/512 completed
Minichunk 304/512 completed
Minichunk 305/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (1 minichunks, 2048 bytes)
Minichunk 306/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 984
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 984, frames_in_flight: 3
Checking readback 927: submitted frame 982, current frame 984, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 18 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 1 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 1 minichunks in workspace 1
Overall bounds: [-8, -80, 96] to [0, -72, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c02b8, alignment: 0
Returning buffer pointer: 0x2be052c02b8 (aligned: true)
Created staging buffer at: 0x2be052c02b8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12702731502975199714), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0478, alignment: 0
Returning buffer pointer: 0x2be052c0478 (aligned: true)
Created staging buffer at: 0x2be052c0478
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ae000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5414238247238773220), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c04b8, alignment: 0
Returning buffer pointer: 0x2be052c04b8 (aligned: true)
Created staging buffer at: 0x2be052c04b8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43cd000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3431089806149429734), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c05b8, alignment: 0
Returning buffer pointer: 0x2be052c05b8 (aligned: true)
Created staging buffer at: 0x2be052c05b8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ce000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10094413944471955944), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-8.0e1,9.6e1] to [0.0e0,-7.2e1,1.0e2]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0ec8, alignment: 0
Returning buffer pointer: 0x2be052c0ec8 (aligned: true)
Submitting readback 928 at frame 984 (will be ready at frame 987)
Successfully queued 1 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 2
Overall bounds: [-64, -80, 88] to [0, -64, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0808, alignment: 0
Returning buffer pointer: 0x2be052c0808 (aligned: true)
Created staging buffer at: 0x2be052c0808
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439c000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2630450727570385389), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0848, alignment: 0
Returning buffer pointer: 0x2be052c0848 (aligned: true)
Created staging buffer at: 0x2be052c0848
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6708022584526514671), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0908, alignment: 0
Returning buffer pointer: 0x2be052c0908 (aligned: true)
Created staging buffer at: 0x2be052c0908
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11416159961965668849), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0888, alignment: 0
Returning buffer pointer: 0x2be052c0888 (aligned: true)
Created staging buffer at: 0x2be052c0888
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e7000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(1784809737578097139), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e1,8.8e1] to [0.0e0,-6.4e1,9.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0b88, alignment: 0
Returning buffer pointer: 0x2be052c0b88 (aligned: true)
Submitting readback 929 at frame 984 (will be ready at frame 987)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 33.5ms (target: 10.0ms), Workgroups: 12 -> 12 (PID: 16)
DeferredReadbackManager: advanced to frame 985
Processing readbacks: 3 pending, completed_frame: 985, frames_in_flight: 3
Checking readback 927: submitted frame 982, current frame 985, 3 frames elapsed (need 3)
Readback 927 ready (submitted frame 982, current frame 985)
Checking readback 928: submitted frame 984, current frame 985, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (12 minichunks, 24576 bytes)
Minichunk 307/512 completed
Minichunk 308/512 completed
Minichunk 309/512 completed
Minichunk 310/512 completed
Minichunk 311/512 completed
Minichunk 312/512 completed
Minichunk 313/512 completed
Minichunk 314/512 completed
Minichunk 315/512 completed
Minichunk 316/512 completed
Minichunk 317/512 completed
Minichunk 318/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 985
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 985, frames_in_flight: 3
Checking readback 928: submitted frame 984, current frame 985, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 17 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 1 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 0
Overall bounds: [-8, -104, 96] to [0, -96, 104]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c08c8, alignment: 0
Returning buffer pointer: 0x2be052c08c8 (aligned: true)
Created staging buffer at: 0x2be052c08c8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5245708403468151288), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0788, alignment: 0
Returning buffer pointer: 0x2be052c0788 (aligned: true)
Created staging buffer at: 0x2be052c0788
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d2000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8067004662806489594), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0dc8, alignment: 0
Returning buffer pointer: 0x2be052c0dc8 (aligned: true)
Created staging buffer at: 0x2be052c0dc8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4392000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(736342937121597948), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0a08, alignment: 0
Returning buffer pointer: 0x2be052c0a08 (aligned: true)
Created staging buffer at: 0x2be052c0a08
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e1000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8470925652432792062), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-8.0e0,-1.0e2,9.6e1] to [0.0e0,-9.6e1,1.0e2]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0cc8, alignment: 0
Returning buffer pointer: 0x2be052c0cc8 (aligned: true)
Submitting readback 930 at frame 985 (will be ready at frame 988)
Successfully queued 1 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 33.2ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 10)
DeferredReadbackManager: advanced to frame 986
Processing readbacks: 3 pending, completed_frame: 986, frames_in_flight: 3
Checking readback 928: submitted frame 984, current frame 986, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 986
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 986, frames_in_flight: 3
Checking readback 928: submitted frame 984, current frame 986, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.5ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 4)
DeferredReadbackManager: advanced to frame 987
Processing readbacks: 3 pending, completed_frame: 987, frames_in_flight: 3
Checking readback 928: submitted frame 984, current frame 987, 3 frames elapsed (need 3)
Readback 928 ready (submitted frame 984, current frame 987)
Checking readback 929: submitted frame 984, current frame 987, 3 frames elapsed (need 3)
Readback 929 ready (submitted frame 984, current frame 987)
Checking readback 930: submitted frame 985, current frame 987, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (1 minichunks, 2048 bytes)
Minichunk 319/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (11 minichunks, 22528 bytes)
Minichunk 320/512 completed
Minichunk 321/512 completed
Minichunk 322/512 completed
Minichunk 323/512 completed
Minichunk 324/512 completed
Minichunk 325/512 completed
Minichunk 326/512 completed
Minichunk 327/512 completed
Minichunk 328/512 completed
Minichunk 329/512 completed
Minichunk 330/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 987
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 987, frames_in_flight: 3
Checking readback 930: submitted frame 985, current frame 987, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 16 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 10 minichunks in workspace 1
Overall bounds: [-64, -96, 88] to [0, -80, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0ec8, alignment: 0
Returning buffer pointer: 0x2be052c0ec8 (aligned: true)
Created staging buffer at: 0x2be052c0ec8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43aa000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9040514457062615555), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0948, alignment: 0
Returning buffer pointer: 0x2be052c0948 (aligned: true)
Created staging buffer at: 0x2be052c0948
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439f000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9046625542689794565), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c07c8, alignment: 0
Returning buffer pointer: 0x2be052c07c8 (aligned: true)
Created staging buffer at: 0x2be052c07c8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8855888862572980743), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 640, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0a88, alignment: 0
Returning buffer pointer: 0x2be052c0a88 (aligned: true)
Created staging buffer at: 0x2be052c0a88
Staging buffer cast successful
About to map memory for staging buffer - size: 640
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43de000
About to memcpy 640 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5177158251522828809), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-9.6e1,8.8e1] to [0.0e0,-8.0e1,9.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 10
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=10 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=10, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0ac8, alignment: 0
Returning buffer pointer: 0x2be052c0ac8 (aligned: true)
Submitting readback 931 at frame 987 (will be ready at frame 990)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 2 minichunks in workspace 2
Overall bounds: [-16, -88, 88] to [0, -80, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0b08, alignment: 0
Returning buffer pointer: 0x2be052c0b08 (aligned: true)
Created staging buffer at: 0x2be052c0b08
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4399000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(8057055182086744590), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0e08, alignment: 0
Returning buffer pointer: 0x2be052c0e08 (aligned: true)
Created staging buffer at: 0x2be052c0e08
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35bd000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9825700999224896016), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0c88, alignment: 0
Returning buffer pointer: 0x2be052c0c88 (aligned: true)
Created staging buffer at: 0x2be052c0c88
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439a000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6227744910397680146), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 128, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0b48, alignment: 0
Returning buffer pointer: 0x2be052c0b48 (aligned: true)
Created staging buffer at: 0x2be052c0b48
Staging buffer cast successful
About to map memory for staging buffer - size: 128
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b5000
About to memcpy 128 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(6140344731105765908), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-1.6e1,-8.8e1,8.8e1] to [0.0e0,-8.0e1,9.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 2
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 2x1x1 workgroups for 16x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=2 (of 2 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=2, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0c08, alignment: 0
Returning buffer pointer: 0x2be052c0c08 (aligned: true)
Submitting readback 932 at frame 987 (will be ready at frame 990)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 32.3ms (target: 10.0ms), Workgroups: 11 -> 11 (PID: 16)
DeferredReadbackManager: advanced to frame 988
Processing readbacks: 3 pending, completed_frame: 988, frames_in_flight: 3
Checking readback 930: submitted frame 985, current frame 988, 3 frames elapsed (need 3)
Readback 930 ready (submitted frame 985, current frame 988)
Checking readback 931: submitted frame 987, current frame 988, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (1 minichunks, 2048 bytes)
Minichunk 331/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 988
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 988, frames_in_flight: 3
Checking readback 931: submitted frame 987, current frame 988, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 11 minichunks in workspace 0
Overall bounds: [-64, -104, 88] to [0, -88, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0bc8, alignment: 0
Returning buffer pointer: 0x2be052c0bc8 (aligned: true)
Created staging buffer at: 0x2be052c0bc8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d8000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11362166244460472857), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0c48, alignment: 0
Returning buffer pointer: 0x2be052c0c48 (aligned: true)
Created staging buffer at: 0x2be052c0c48
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43df000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2596259214481435163), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0988, alignment: 0
Returning buffer pointer: 0x2be052c0988 (aligned: true)
Created staging buffer at: 0x2be052c0988
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e0000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(5168174142012271133), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 704, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0d88, alignment: 0
Returning buffer pointer: 0x2be052c0d88 (aligned: true)
Created staging buffer at: 0x2be052c0d88
Staging buffer cast successful
About to map memory for staging buffer - size: 704
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e2000
About to memcpy 704 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12354175321853930015), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.0e2,8.8e1] to [0.0e0,-8.8e1,9.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 11
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=11 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=11, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c09c8, alignment: 0
Returning buffer pointer: 0x2be052c09c8 (aligned: true)
Submitting readback 933 at frame 988 (will be ready at frame 991)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 1 remaining minichunks from batch
Successfully queued 11 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 31.8ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 8)
DeferredReadbackManager: advanced to frame 989
Processing readbacks: 3 pending, completed_frame: 989, frames_in_flight: 3
Checking readback 931: submitted frame 987, current frame 989, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 989
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 989, frames_in_flight: 3
Checking readback 931: submitted frame 987, current frame 989, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 27.3ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 4)
DeferredReadbackManager: advanced to frame 990
Processing readbacks: 3 pending, completed_frame: 990, frames_in_flight: 3
Checking readback 931: submitted frame 987, current frame 990, 3 frames elapsed (need 3)
Readback 931 ready (submitted frame 987, current frame 990)
Checking readback 932: submitted frame 987, current frame 990, 3 frames elapsed (need 3)
Readback 932 ready (submitted frame 987, current frame 990)
Checking readback 933: submitted frame 988, current frame 990, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (10 minichunks, 20480 bytes)
Minichunk 332/512 completed
Minichunk 333/512 completed
Minichunk 334/512 completed
Minichunk 335/512 completed
Minichunk 336/512 completed
Minichunk 337/512 completed
Minichunk 338/512 completed
Minichunk 339/512 completed
Minichunk 340/512 completed
Minichunk 341/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (2 minichunks, 4096 bytes)
Minichunk 342/512 completed
Minichunk 343/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 990
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 990, frames_in_flight: 3
Checking readback 933: submitted frame 988, current frame 990, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 15 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 9 minichunks in workspace 1
Overall bounds: [-64, -120, 88] to [0, -104, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0e88, alignment: 0
Returning buffer pointer: 0x2be052c0e88 (aligned: true)
Created staging buffer at: 0x2be052c0e88
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bd000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(755885656793688612), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0cc8, alignment: 0
Returning buffer pointer: 0x2be052c0cc8 (aligned: true)
Created staging buffer at: 0x2be052c0cc8
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b9000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12703264766114671142), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0a48, alignment: 0
Returning buffer pointer: 0x2be052c0a48 (aligned: true)
Created staging buffer at: 0x2be052c0a48
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4390000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(13389586521242217000), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0c08, alignment: 0
Returning buffer pointer: 0x2be052c0c08 (aligned: true)
Created staging buffer at: 0x2be052c0c08
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ba000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(187053316163775018), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.2e2,8.8e1] to [0.0e0,-1.0e2,9.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c0ac8, alignment: 0
Returning buffer pointer: 0x2be052c0ac8 (aligned: true)
Submitting readback 934 at frame 990 (will be ready at frame 993)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 3 minichunks in workspace 2
Overall bounds: [-24, -112, 88] to [0, -104, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0b88, alignment: 0
Returning buffer pointer: 0x2be052c0b88 (aligned: true)
Created staging buffer at: 0x2be052c0b88
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43be000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11682734357096704559), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0d08, alignment: 0
Returning buffer pointer: 0x2be052c0d08 (aligned: true)
Created staging buffer at: 0x2be052c0d08
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b6000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14384390557193480753), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0d48, alignment: 0
Returning buffer pointer: 0x2be052c0d48 (aligned: true)
Created staging buffer at: 0x2be052c0d48
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c6000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3104296258676730419), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 192, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c16d8, alignment: 0
Returning buffer pointer: 0x2be052c16d8 (aligned: true)
Created staging buffer at: 0x2be052c16d8
Staging buffer cast successful
About to map memory for staging buffer - size: 192
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4395000
About to memcpy 192 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(12583658791733570101), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-2.4e1,-1.1e2,8.8e1] to [0.0e0,-1.0e2,9.6e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 3
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 3x1x1 workgroups for 24x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=3 (of 3 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=3, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c1158, alignment: 0
Returning buffer pointer: 0x2be052c1158 (aligned: true)
Submitting readback 935 at frame 990 (will be ready at frame 993)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 32.0ms (target: 10.0ms), Workgroups: 10 -> 10 (PID: 16)
DeferredReadbackManager: advanced to frame 991
Processing readbacks: 3 pending, completed_frame: 991, frames_in_flight: 3
Checking readback 933: submitted frame 988, current frame 991, 3 frames elapsed (need 3)
Readback 933 ready (submitted frame 988, current frame 991)
Checking readback 934: submitted frame 990, current frame 991, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (11 minichunks, 22528 bytes)
Minichunk 344/512 completed
Minichunk 345/512 completed
Minichunk 346/512 completed
Minichunk 347/512 completed
Minichunk 348/512 completed
Minichunk 349/512 completed
Minichunk 350/512 completed
Minichunk 351/512 completed
Minichunk 352/512 completed
Minichunk 353/512 completed
Minichunk 354/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 991
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 991, frames_in_flight: 3
Checking readback 934: submitted frame 990, current frame 991, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 14 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 1 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 1 minichunks in workspace 0
Overall bounds: [-40, -72, 88] to [-32, -64, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0f98, alignment: 0
Returning buffer pointer: 0x2be052c0f98 (aligned: true)
Created staging buffer at: 0x2be052c0f98
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf439b000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15432040420510542394), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1458, alignment: 0
Returning buffer pointer: 0x2be052c1458 (aligned: true)
Created staging buffer at: 0x2be052c1458
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c1000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15705117327408245308), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1098, alignment: 0
Returning buffer pointer: 0x2be052c1098 (aligned: true)
Created staging buffer at: 0x2be052c1098
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c2000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(9275791253709007422), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c0fd8, alignment: 0
Returning buffer pointer: 0x2be052c0fd8 (aligned: true)
Created staging buffer at: 0x2be052c0fd8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d3000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16024991648207350336), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-7.2e1,8.8e1] to [-3.2e1,-6.4e1,9.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c1518, alignment: 0
Returning buffer pointer: 0x2be052c1518 (aligned: true)
Submitting readback 936 at frame 991 (will be ready at frame 994)
Successfully queued 1 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 31.1ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 5)
DeferredReadbackManager: advanced to frame 992
Processing readbacks: 3 pending, completed_frame: 992, frames_in_flight: 3
Checking readback 934: submitted frame 990, current frame 992, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 992
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 992, frames_in_flight: 3
Checking readback 934: submitted frame 990, current frame 992, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.5ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 993
Processing readbacks: 3 pending, completed_frame: 993, frames_in_flight: 3
Checking readback 934: submitted frame 990, current frame 993, 3 frames elapsed (need 3)
Readback 934 ready (submitted frame 990, current frame 993)
Checking readback 935: submitted frame 990, current frame 993, 3 frames elapsed (need 3)
Readback 935 ready (submitted frame 990, current frame 993)
Checking readback 936: submitted frame 991, current frame 993, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (9 minichunks, 18432 bytes)
Minichunk 355/512 completed
Minichunk 356/512 completed
Minichunk 357/512 completed
Minichunk 358/512 completed
Minichunk 359/512 completed
Minichunk 360/512 completed
Minichunk 361/512 completed
Minichunk 362/512 completed
Minichunk 363/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (3 minichunks, 6144 bytes)
Minichunk 364/512 completed
Minichunk 365/512 completed
Minichunk 366/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 993
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 993, frames_in_flight: 3
Checking readback 936: submitted frame 991, current frame 993, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 13 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 8 minichunks in workspace 1
Overall bounds: [-64, -88, 80] to [0, -80, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1258, alignment: 0
Returning buffer pointer: 0x2be052c1258 (aligned: true)
Created staging buffer at: 0x2be052c1258
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43db000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14302394477552085573), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1558, alignment: 0
Returning buffer pointer: 0x2be052c1558 (aligned: true)
Created staging buffer at: 0x2be052c1558
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43dc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10607720947899181639), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1658, alignment: 0
Returning buffer pointer: 0x2be052c1658 (aligned: true)
Created staging buffer at: 0x2be052c1658
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c7000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17041818902062967369), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 512, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c10d8, alignment: 0
Returning buffer pointer: 0x2be052c10d8 (aligned: true)
Created staging buffer at: 0x2be052c10d8
Staging buffer cast successful
About to map memory for staging buffer - size: 512
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35c8000
About to memcpy 512 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14563117271800097355), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.8e1,8.0e1] to [0.0e0,-8.0e1,8.8e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 8
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x1x1 workgroups for 64x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=8 (of 8 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=8, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c1298, alignment: 0
Returning buffer pointer: 0x2be052c1298 (aligned: true)
Submitting readback 937 at frame 993 (will be ready at frame 996)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 4 minichunks in workspace 2
Overall bounds: [-64, -80, 80] to [-32, -72, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c13d8, alignment: 0
Returning buffer pointer: 0x2be052c13d8 (aligned: true)
Created staging buffer at: 0x2be052c13d8
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ec000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16542325063215491664), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1358, alignment: 0
Returning buffer pointer: 0x2be052c1358 (aligned: true)
Created staging buffer at: 0x2be052c1358
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43b4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(97855435360447058), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1158, alignment: 0
Returning buffer pointer: 0x2be052c1158 (aligned: true)
Created staging buffer at: 0x2be052c1158
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4396000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17895791991170542164), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 256, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233747840)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1398, alignment: 0
Returning buffer pointer: 0x2be052c1398 (aligned: true)
Created staging buffer at: 0x2be052c1398
Staging buffer cast successful
About to map memory for staging buffer - size: 256
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4397000
About to memcpy 256 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17568931373488548438), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-8.0e1,8.0e1] to [-3.2e1,-7.2e1,8.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 4
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 4x1x1 workgroups for 32x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=4 (of 4 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233747840)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92ba2780
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92ba2780, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233747840), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233747840), x=4, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c1198, alignment: 0
Returning buffer pointer: 0x2be052c1198 (aligned: true)
Submitting readback 938 at frame 993 (will be ready at frame 996)
Successfully queued 12 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 29.7ms (target: 10.0ms), Workgroups: 9 -> 9 (PID: 16)
DeferredReadbackManager: advanced to frame 994
Processing readbacks: 3 pending, completed_frame: 994, frames_in_flight: 3
Checking readback 936: submitted frame 991, current frame 994, 3 frames elapsed (need 3)
Readback 936 ready (submitted frame 991, current frame 994)
Checking readback 937: submitted frame 993, current frame 994, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (1 minichunks, 2048 bytes)
Minichunk 367/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 994
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 1
Command buffer begun in frame_begin
Processing readbacks: 2 pending, completed_frame: 994, frames_in_flight: 3
Checking readback 937: submitted frame 993, current frame 994, 1 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 0 (current_index: 0)
Available workspaces after allocation: 0/3
Processing 9 minichunks in workspace 0
Overall bounds: [-64, -128, 88] to [0, -112, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21718, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21718, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21718 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1318, alignment: 0
Returning buffer pointer: 0x2be052c1318 (aligned: true)
Created staging buffer at: 0x2be052c1318
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4398000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17571223855232461403), dst: vk.Buffer(16655718796899647951)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20cd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20cd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20cd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1498, alignment: 0
Returning buffer pointer: 0x2be052c1498 (aligned: true)
Created staging buffer at: 0x2be052c1498
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43d4000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(17217060164809534045), dst: vk.Buffer(15589100158980194763)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20b98, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20b98, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20b98 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1418, alignment: 0
Returning buffer pointer: 0x2be052c1418 (aligned: true)
Created staging buffer at: 0x2be052c1418
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a5000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14714697044316924511), dst: vk.Buffer(170787141142446541)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21458, size: 576, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21458, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21458 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1018, alignment: 0
Returning buffer pointer: 0x2be052c1018 (aligned: true)
Created staging buffer at: 0x2be052c1018
Staging buffer cast successful
About to map memory for staging buffer - size: 576
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43a6000
About to memcpy 576 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16536458069169678945), dst: vk.Buffer(1025278100226703827)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.3e2,8.8e1] to [0.0e0,-1.1e2,9.6e1]
Buffer handles - SDF: vk.Buffer(15589100158980194763), Params: vk.Buffer(16655718796899647951), Output: vk.Buffer(15344826058683711953)
generateWorldAdaptive called - offset: 0, max_workgroups: 9
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(15589100158980194763)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9534701568
getBufferDeviceAddress called for buffer: vk.Buffer(16655718796899647951)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535750144
getBufferDeviceAddress called for buffer: vk.Buffer(15344826058683711953)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9536274432
getBufferDeviceAddress called for buffer: vk.Buffer(1025278100226703827)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9540993024
getBufferDeviceAddress called for buffer: vk.Buffer(16816681801647915477)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9541517312
getBufferDeviceAddress called for buffer: vk.Buffer(170787141142446541)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9535225856
Using actual brush buffer with address: 0x238580000
Dispatching brush chunk: offset=0, size=9 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=9, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c11d8, alignment: 0
Returning buffer pointer: 0x2be052c11d8 (aligned: true)
Submitting readback 939 at frame 994 (will be ready at frame 997)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 3 remaining minichunks from batch
Successfully queued 9 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 28.7ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 4)
DeferredReadbackManager: advanced to frame 995
Processing readbacks: 3 pending, completed_frame: 995, frames_in_flight: 3
Checking readback 937: submitted frame 993, current frame 995, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Force processing old readbacks: 3 pending, max age: 3 frames, current frame: 995
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15941205563635925013), current frame: 1
Acquire result: vk.Result.success, image index: 2
Command buffer begun in frame_begin
Processing readbacks: 3 pending, completed_frame: 995, frames_in_flight: 3
Checking readback 937: submitted frame 993, current frame 995, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
No available workspaces, stopping batch processing
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15941205563635925013), signal semaphore: vk.Semaphore(15607181627698970646)
Frame time: 24.3ms (target: 10.0ms), Workgroups: 7 -> 7 (PID: 4)
DeferredReadbackManager: advanced to frame 996
Processing readbacks: 3 pending, completed_frame: 996, frames_in_flight: 3
Checking readback 937: submitted frame 993, current frame 996, 3 frames elapsed (need 3)
Readback 937 ready (submitted frame 993, current frame 996)
Checking readback 938: submitted frame 993, current frame 996, 3 frames elapsed (need 3)
Readback 938 ready (submitted frame 993, current frame 996)
Checking readback 939: submitted frame 994, current frame 996, 2 frames elapsed (need 3)
Processing 2 completed readbacks
Minichunk batch readback complete for workspace 1 (8 minichunks, 16384 bytes)
Minichunk 368/512 completed
Minichunk 369/512 completed
Minichunk 370/512 completed
Minichunk 371/512 completed
Minichunk 372/512 completed
Minichunk 373/512 completed
Minichunk 374/512 completed
Minichunk 375/512 completed
Releasing workspace 1 (was in_use: true)
Available workspaces after release: 1/3
Minichunk batch readback complete for workspace 2 (4 minichunks, 8192 bytes)
Minichunk 376/512 completed
Minichunk 377/512 completed
Minichunk 378/512 completed
Minichunk 379/512 completed
Releasing workspace 2 (was in_use: true)
Available workspaces after release: 2/3
Force processing old readbacks: 1 pending, max age: 3 frames, current frame: 996
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 0, image_acquired: false
Acquiring image with swapchain: vk.SwapchainKHR(18065711617638662146), semaphore: vk.Semaphore(15909243860128104466), current frame: 0
Acquire result: vk.Result.success, image index: 0
Command buffer begun in frame_begin
Processing readbacks: 1 pending, completed_frame: 996, frames_in_flight: 3
Checking readback 939: submitted frame 994, current frame 996, 2 frames elapsed (need 3)
Processing 0 completed readbacks
Processing pending minichunk batches: 12 batches waiting, 1 active chunks
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 1 minichunks (available workspaces: 2)
Allocating workspace 1 (current_index: 1)
Available workspaces after allocation: 1/3
Processing 1 minichunks in workspace 1
Overall bounds: [-40, -96, 88] to [-32, -88, 96]
renderer_buffer_write called - buffer: anyopaque@2bde5d21358, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21358, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21358 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1218, alignment: 0
Returning buffer pointer: 0x2be052c1218 (aligned: true)
Created staging buffer at: 0x2be052c1218
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ac000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11314680536280083046), dst: vk.Buffer(17645821321130541531)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20bd8, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20bd8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20bd8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1118, alignment: 0
Returning buffer pointer: 0x2be052c1118 (aligned: true)
Created staging buffer at: 0x2be052c1118
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43bc000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(16049452483390483048), dst: vk.Buffer(14073195781184029143)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21858, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21858, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21858 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1618, alignment: 0
Returning buffer pointer: 0x2be052c1618 (aligned: true)
Created staging buffer at: 0x2be052c1618
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf35cc000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(15271932835808684650), dst: vk.Buffer(16705046187056562649)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20c58, size: 64, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20c58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20c58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c14d8, alignment: 0
Returning buffer pointer: 0x2be052c14d8 (aligned: true)
Created staging buffer at: 0x2be052c14d8
Staging buffer cast successful
About to map memory for staging buffer - size: 64
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43e9000
About to memcpy 64 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(10864503092473244268), dst: vk.Buffer(18334454249699672543)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-4.0e1,-9.6e1,8.8e1] to [-3.2e1,-8.8e1,9.6e1]
Buffer handles - SDF: vk.Buffer(14073195781184029143), Params: vk.Buffer(17645821321130541531), Output: vk.Buffer(18233758775804690909)
generateWorldAdaptive called - offset: 0, max_workgroups: 1
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 1x1x1 workgroups for 8x8x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(14073195781184029143)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546235904
getBufferDeviceAddress called for buffer: vk.Buffer(17645821321130541531)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547284480
getBufferDeviceAddress called for buffer: vk.Buffer(18233758775804690909)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9547808768
getBufferDeviceAddress called for buffer: vk.Buffer(18334454249699672543)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9552527360
getBufferDeviceAddress called for buffer: vk.Buffer(9241235802271252961)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9553051648
getBufferDeviceAddress called for buffer: vk.Buffer(16705046187056562649)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9546760192
Using actual brush buffer with address: 0x239080000
Dispatching brush chunk: offset=0, size=1 (of 1 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=1, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c1698, alignment: 0
Returning buffer pointer: 0x2be052c1698 (aligned: true)
Submitting readback 940 at frame 996 (will be ready at frame 999)
Successfully queued 1 minichunks from this batch
Processing pending minichunk batch for chunk ChunkId(-1, -2, 1) with 12 minichunks (available workspaces: 1)
Allocating workspace 2 (current_index: 2)
Available workspaces after allocation: 0/3
Processing 7 minichunks in workspace 2
Overall bounds: [-64, -104, 80] to [0, -88, 88]
renderer_buffer_write called - buffer: anyopaque@2bde5d21118, size: 48, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21118, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21118 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1058, alignment: 0
Returning buffer pointer: 0x2be052c1058 (aligned: true)
Created staging buffer at: 0x2be052c1058
Staging buffer cast successful
About to map memory for staging buffer - size: 48
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43c9000
About to memcpy 48 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(2940254621370690161), dst: vk.Buffer(10094846052541661671)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d20d58, size: 96, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d20d58, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d20d58 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1518, alignment: 0
Returning buffer pointer: 0x2be052c1518 (aligned: true)
Created staging buffer at: 0x2be052c1518
Staging buffer cast successful
About to map memory for staging buffer - size: 96
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ca000
About to memcpy 96 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(14003767119448124019), dst: vk.Buffer(16700742698545447395)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d211d8, size: 60, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d211d8, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d211d8 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c15d8, alignment: 0
Returning buffer pointer: 0x2be052c15d8 (aligned: true)
Created staging buffer at: 0x2be052c15d8
Staging buffer cast successful
About to map memory for staging buffer - size: 60
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf43ee000
About to memcpy 60 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(11934255338531859061), dst: vk.Buffer(17497165150031970789)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
renderer_buffer_write called - buffer: anyopaque@2bde5d21018, size: 448, offset: 0
Buffer pointer is not null, casting to GpuBuffer
renderer_buffer_write_cmd called - buffer: anyopaque@2bde5d21018, cmd_buffer: vk.CommandBuffer(3013233586016)
About to cast buffer anyopaque@2bde5d21018 in renderer_buffer_write_cmd
Cast successful in renderer_buffer_write_cmd
Created GpuBuffer at address: 0x2be052c1298, alignment: 0
Returning buffer pointer: 0x2be052c1298 (aligned: true)
Created staging buffer at: 0x2be052c1298
Staging buffer cast successful
About to map memory for staging buffer - size: 448
vkMapMemory result: vk.Result.success
Memory mapped successfully at: anyopaque@2bdf4391000
About to memcpy 448 bytes
Memcpy completed
Memory unmapped
About to record vkCmdCopyBuffer - src: vk.Buffer(3963286419341847159), dst: vk.Buffer(14063823544068866539)
vkCmdCopyBuffer recorded
Adding pipeline barrier for buffer copy
Pipeline barrier added
GPU worldgen generate called with bounds: [-6.4e1,-1.0e2,8.0e1] to [0.0e0,-8.8e1,8.8e1]
Buffer handles - SDF: vk.Buffer(16700742698545447395), Params: vk.Buffer(10094846052541661671), Output: vk.Buffer(17114293211007812073)
generateWorldAdaptive called - offset: 0, max_workgroups: 7
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
Running SDF evaluation for entire bounds
About to bind SDF pipeline: vk.Pipeline(12512037703811858941)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0020
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(12512037703811858941)
  pipeline_layout: vk.PipelineLayout(14924631197454696956)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xada3b000000001fd
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xada3b000000001fd
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14924631197454696956), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
SDF dispatch: 8x2x1 workgroups for 64x16x8 voxels
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=8, y=2, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
getBufferDeviceAddress called for buffer: vk.Buffer(16700742698545447395)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9557770240
getBufferDeviceAddress called for buffer: vk.Buffer(10094846052541661671)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558818816
getBufferDeviceAddress called for buffer: vk.Buffer(17114293211007812073)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9697230848
getBufferDeviceAddress called for buffer: vk.Buffer(14063823544068866539)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9559343104
getBufferDeviceAddress called for buffer: vk.Buffer(16715007762404213229)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9701949440
getBufferDeviceAddress called for buffer: vk.Buffer(17497165150031970789)
Calling vkGetBufferDeviceAddress with device: vk.Device(3013114225456), dispatch fn: fn (vk.Device, *const vk.BufferDeviceAddressInfo) callconv(.c) u64@7ffb95829310
Got buffer device address: 9558294528
Using actual brush buffer with address: 0x239b80000
Dispatching brush chunk: offset=0, size=7 (of 16 total)
DeviceAddressPipeline.bind called
  self: gfx.vk.PipelineManager.DeviceAddressPipeline@2bde9af0040
  self.manager: gfx.vk.PipelineManager.PipelineManager@2bde9b00000
  cmd: vk.CommandBuffer(3013233586016)
  pipeline: vk.Pipeline(13136416272365388288)
  pipeline_layout: vk.PipelineLayout(14054944987674575359)
  vkd pointer: vk.DeviceDispatch@2bde9b00018
  vkCmdBindPipeline function: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
  vkCmdDispatch function (for comparison): fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
  vkCmdPushConstants function (for comparison): fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Command buffer handle value: 0x2bd92b7af60
Pipeline handle value: 0xb64ded0000000200
Manager device handle: 0x2bd8b9a6330
About to call vkCmdBindPipeline
bindPipelineFn pointer: fn (vk.CommandBuffer, vk.PipelineBindPoint, vk.Pipeline) callconv(.c) void@7ffb9581b390
bindPipelineFn address: 0x7ffb9581b390
Calling vkCmdBindPipeline with cmd=0x2bd92b7af60, bindPoint=compute, pipeline=0xb64ded0000000200
Pipeline bound successfully
DeviceAddressPipeline.pushConstants: cmd=vk.CommandBuffer(3013233586016), layout=vk.PipelineLayout(14054944987674575359), size=64
vkCmdPushConstants function: fn (vk.CommandBuffer, vk.PipelineLayout, vk.ShaderStageFlags, u32, u32, *const anyopaque) callconv(.c) void@7ffb958223f0
Push constants set successfully
DeviceAddressPipeline.dispatch: cmd=vk.CommandBuffer(3013233586016), x=7, y=1, z=1
vkCmdDispatch function: fn (vk.CommandBuffer, u32, u32, u32) callconv(.c) void@7ffb9581e0f0
Dispatch called successfully
Created GpuBuffer at address: 0x2be052c12d8, alignment: 0
Returning buffer pointer: 0x2be052c12d8 (aligned: true)
Submitting readback 941 at frame 996 (will be ready at frame 999)
WARNING: No available workspaces in ring buffer (all 3 are in use)
Failed to queue minichunk batch 1: No available workspace in ring buffer
Re-queuing 5 remaining minichunks from batch
Successfully queued 7 minichunks from this batch
No available workspaces, stopping batch processing
Recorded minichunk processing commands to frame encoder
batch_queue_draw called with 0 meshes
VertexPool render: 0 effective draws, 0 total commands
No effective draws to render
Submitting command buffer with wait semaphore: vk.Semaphore(15909243860128104466), signal semaphore: vk.Semaphore(15093167638295085075)
Frame time: 26.7ms (target: 10.0ms), Workgroups: 8 -> 8 (PID: 16)
DeferredReadbackManager: advanced to frame 997
Processing readbacks: 3 pending, completed_frame: 997, frames_in_flight: 3
Checking readback 939: submitted frame 994, current frame 997, 3 frames elapsed (need 3)
Readback 939 ready (submitted frame 994, current frame 997)
Checking readback 940: submitted frame 996, current frame 997, 1 frames elapsed (need 3)
Processing 1 completed readbacks
Minichunk batch readback complete for workspace 0 (9 minichunks, 18432 bytes)
Minichunk 380/512 completed
Minichunk 381/512 completed
Minichunk 382/512 completed
Minichunk 383/512 completed
Minichunk 384/512 completed
Minichunk 385/512 completed
Minichunk 386/512 completed
Minichunk 387/512 completed
Minichunk 388/512 completed
Releasing workspace 0 (was in_use: true)
Available workspaces after release: 1/3
Force processing old readbacks: 2 pending, max age: 3 frames, current frame: 997
get_chunks_for_rendering called - active chunks: 15, pending meshes: 0
Checking 15 active chunks for mesh generation
  Chunk ChunkId(0, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, 0, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, -1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-2, -1, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -2, 0): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(0, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
  Chunk ChunkId(-1, -1, 1): has_pending_mesh=false, is_needing_mesh=true
Begin frame called - current_frame: 1, image_acquired: false
error: process didn't exit successfully: `target\debug\synthesis.exe` (exit code: 0xc000013a, STATUS_CONTROL_C_EXIT)